"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_codemirror_legacy-modes_mode_textile_js"],{

/***/ "./node_modules/@codemirror/legacy-modes/mode/textile.js":
/*!***************************************************************!*\
  !*** ./node_modules/@codemirror/legacy-modes/mode/textile.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"textile\": function() { return /* binding */ textile; }\n/* harmony export */ });\nvar TOKEN_STYLES = {\n  addition: \"inserted\",\n  attributes: \"propertyName\",\n  bold: \"strong\",\n  cite: \"keyword\",\n  code: \"monospace\",\n  definitionList: \"list\",\n  deletion: \"deleted\",\n  div: \"punctuation\",\n  em: \"emphasis\",\n  footnote: \"variable\",\n  footCite: \"qualifier\",\n  header: \"heading\",\n  html: \"comment\",\n  image: \"atom\",\n  italic: \"emphasis\",\n  link: \"link\",\n  linkDefinition: \"link\",\n  list1: \"list\",\n  list2: \"list.special\",\n  list3: \"list\",\n  notextile: \"string.special\",\n  pre: \"operator\",\n  p: \"content\",\n  quote: \"bracket\",\n  span: \"quote\",\n  specialChar: \"character\",\n  strong: \"strong\",\n  sub: \"content.special\",\n  sup: \"content.special\",\n  table: \"variableName.special\",\n  tableHeading: \"operator\"\n};\n\nfunction startNewLine(stream, state) {\n  state.mode = Modes.newLayout;\n  state.tableHeading = false;\n\n  if (state.layoutType === \"definitionList\" && state.spanningLayout &&\n      stream.match(RE(\"definitionListEnd\"), false))\n    state.spanningLayout = false;\n}\n\nfunction handlePhraseModifier(stream, state, ch) {\n  if (ch === \"_\") {\n    if (stream.eat(\"_\"))\n      return togglePhraseModifier(stream, state, \"italic\", /__/, 2);\n    else\n      return togglePhraseModifier(stream, state, \"em\", /_/, 1);\n  }\n\n  if (ch === \"*\") {\n    if (stream.eat(\"*\")) {\n      return togglePhraseModifier(stream, state, \"bold\", /\\*\\*/, 2);\n    }\n    return togglePhraseModifier(stream, state, \"strong\", /\\*/, 1);\n  }\n\n  if (ch === \"[\") {\n    if (stream.match(/\\d+\\]/)) state.footCite = true;\n    return tokenStyles(state);\n  }\n\n  if (ch === \"(\") {\n    var spec = stream.match(/^(r|tm|c)\\)/);\n    if (spec)\n      return TOKEN_STYLES.specialChar\n  }\n\n  if (ch === \"<\" && stream.match(/(\\w+)[^>]+>[^<]+<\\/\\1>/))\n    return TOKEN_STYLES.html\n\n  if (ch === \"?\" && stream.eat(\"?\"))\n    return togglePhraseModifier(stream, state, \"cite\", /\\?\\?/, 2);\n\n  if (ch === \"=\" && stream.eat(\"=\"))\n    return togglePhraseModifier(stream, state, \"notextile\", /==/, 2);\n\n  if (ch === \"-\" && !stream.eat(\"-\"))\n    return togglePhraseModifier(stream, state, \"deletion\", /-/, 1);\n\n  if (ch === \"+\")\n    return togglePhraseModifier(stream, state, \"addition\", /\\+/, 1);\n\n  if (ch === \"~\")\n    return togglePhraseModifier(stream, state, \"sub\", /~/, 1);\n\n  if (ch === \"^\")\n    return togglePhraseModifier(stream, state, \"sup\", /\\^/, 1);\n\n  if (ch === \"%\")\n    return togglePhraseModifier(stream, state, \"span\", /%/, 1);\n\n  if (ch === \"@\")\n    return togglePhraseModifier(stream, state, \"code\", /@/, 1);\n\n  if (ch === \"!\") {\n    var type = togglePhraseModifier(stream, state, \"image\", /(?:\\([^\\)]+\\))?!/, 1);\n    stream.match(/^:\\S+/); // optional Url portion\n    return type;\n  }\n  return tokenStyles(state);\n}\n\nfunction togglePhraseModifier(stream, state, phraseModifier, closeRE, openSize) {\n  var charBefore = stream.pos > openSize ? stream.string.charAt(stream.pos - openSize - 1) : null;\n  var charAfter = stream.peek();\n  if (state[phraseModifier]) {\n    if ((!charAfter || /\\W/.test(charAfter)) && charBefore && /\\S/.test(charBefore)) {\n      var type = tokenStyles(state);\n      state[phraseModifier] = false;\n      return type;\n    }\n  } else if ((!charBefore || /\\W/.test(charBefore)) && charAfter && /\\S/.test(charAfter) &&\n             stream.match(new RegExp(\"^.*\\\\S\" + closeRE.source + \"(?:\\\\W|$)\"), false)) {\n    state[phraseModifier] = true;\n    state.mode = Modes.attributes;\n  }\n  return tokenStyles(state);\n};\n\nfunction tokenStyles(state) {\n  var disabled = textileDisabled(state);\n  if (disabled) return disabled;\n\n  var styles = [];\n  if (state.layoutType) styles.push(TOKEN_STYLES[state.layoutType]);\n\n  styles = styles.concat(activeStyles(\n    state, \"addition\", \"bold\", \"cite\", \"code\", \"deletion\", \"em\", \"footCite\",\n    \"image\", \"italic\", \"link\", \"span\", \"strong\", \"sub\", \"sup\", \"table\", \"tableHeading\"));\n\n  if (state.layoutType === \"header\")\n    styles.push(TOKEN_STYLES.header + \"-\" + state.header);\n\n  return styles.length ? styles.join(\" \") : null;\n}\n\nfunction textileDisabled(state) {\n  var type = state.layoutType;\n\n  switch(type) {\n  case \"notextile\":\n  case \"code\":\n  case \"pre\":\n    return TOKEN_STYLES[type];\n  default:\n    if (state.notextile)\n      return TOKEN_STYLES.notextile + (type ? (\" \" + TOKEN_STYLES[type]) : \"\");\n    return null;\n  }\n}\n\nfunction activeStyles(state) {\n  var styles = [];\n  for (var i = 1; i < arguments.length; ++i) {\n    if (state[arguments[i]])\n      styles.push(TOKEN_STYLES[arguments[i]]);\n  }\n  return styles;\n}\n\nfunction blankLine(state) {\n  var spanningLayout = state.spanningLayout, type = state.layoutType;\n\n  for (var key in state) if (state.hasOwnProperty(key))\n    delete state[key];\n\n  state.mode = Modes.newLayout;\n  if (spanningLayout) {\n    state.layoutType = type;\n    state.spanningLayout = true;\n  }\n}\n\nvar REs = {\n  cache: {},\n  single: {\n    bc: \"bc\",\n    bq: \"bq\",\n    definitionList: /- .*?:=+/,\n    definitionListEnd: /.*=:\\s*$/,\n    div: \"div\",\n    drawTable: /\\|.*\\|/,\n    foot: /fn\\d+/,\n    header: /h[1-6]/,\n    html: /\\s*<(?:\\/)?(\\w+)(?:[^>]+)?>(?:[^<]+<\\/\\1>)?/,\n    link: /[^\"]+\":\\S/,\n    linkDefinition: /\\[[^\\s\\]]+\\]\\S+/,\n    list: /(?:#+|\\*+)/,\n    notextile: \"notextile\",\n    para: \"p\",\n    pre: \"pre\",\n    table: \"table\",\n    tableCellAttributes: /[\\/\\\\]\\d+/,\n    tableHeading: /\\|_\\./,\n    tableText: /[^\"_\\*\\[\\(\\?\\+~\\^%@|-]+/,\n    text: /[^!\"_=\\*\\[\\(<\\?\\+~\\^%@-]+/\n  },\n  attributes: {\n    align: /(?:<>|<|>|=)/,\n    selector: /\\([^\\(][^\\)]+\\)/,\n    lang: /\\[[^\\[\\]]+\\]/,\n    pad: /(?:\\(+|\\)+){1,2}/,\n    css: /\\{[^\\}]+\\}/\n  },\n  createRe: function(name) {\n    switch (name) {\n    case \"drawTable\":\n      return REs.makeRe(\"^\", REs.single.drawTable, \"$\");\n    case \"html\":\n      return REs.makeRe(\"^\", REs.single.html, \"(?:\", REs.single.html, \")*\", \"$\");\n    case \"linkDefinition\":\n      return REs.makeRe(\"^\", REs.single.linkDefinition, \"$\");\n    case \"listLayout\":\n      return REs.makeRe(\"^\", REs.single.list, RE(\"allAttributes\"), \"*\\\\s+\");\n    case \"tableCellAttributes\":\n      return REs.makeRe(\"^\", REs.choiceRe(REs.single.tableCellAttributes,\n                                          RE(\"allAttributes\")), \"+\\\\.\");\n    case \"type\":\n      return REs.makeRe(\"^\", RE(\"allTypes\"));\n    case \"typeLayout\":\n      return REs.makeRe(\"^\", RE(\"allTypes\"), RE(\"allAttributes\"),\n                        \"*\\\\.\\\\.?\", \"(\\\\s+|$)\");\n    case \"attributes\":\n      return REs.makeRe(\"^\", RE(\"allAttributes\"), \"+\");\n\n    case \"allTypes\":\n      return REs.choiceRe(REs.single.div, REs.single.foot,\n                          REs.single.header, REs.single.bc, REs.single.bq,\n                          REs.single.notextile, REs.single.pre, REs.single.table,\n                          REs.single.para);\n\n    case \"allAttributes\":\n      return REs.choiceRe(REs.attributes.selector, REs.attributes.css,\n                          REs.attributes.lang, REs.attributes.align, REs.attributes.pad);\n\n    default:\n      return REs.makeRe(\"^\", REs.single[name]);\n    }\n  },\n  makeRe: function() {\n    var pattern = \"\";\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      pattern += (typeof arg === \"string\") ? arg : arg.source;\n    }\n    return new RegExp(pattern);\n  },\n  choiceRe: function() {\n    var parts = [arguments[0]];\n    for (var i = 1; i < arguments.length; ++i) {\n      parts[i * 2 - 1] = \"|\";\n      parts[i * 2] = arguments[i];\n    }\n\n    parts.unshift(\"(?:\");\n    parts.push(\")\");\n    return REs.makeRe.apply(null, parts);\n  }\n};\n\nfunction RE(name) {\n  return (REs.cache[name] || (REs.cache[name] = REs.createRe(name)));\n}\n\nvar Modes = {\n  newLayout: function(stream, state) {\n    if (stream.match(RE(\"typeLayout\"), false)) {\n      state.spanningLayout = false;\n      return (state.mode = Modes.blockType)(stream, state);\n    }\n    var newMode;\n    if (!textileDisabled(state)) {\n      if (stream.match(RE(\"listLayout\"), false))\n        newMode = Modes.list;\n      else if (stream.match(RE(\"drawTable\"), false))\n        newMode = Modes.table;\n      else if (stream.match(RE(\"linkDefinition\"), false))\n        newMode = Modes.linkDefinition;\n      else if (stream.match(RE(\"definitionList\")))\n        newMode = Modes.definitionList;\n      else if (stream.match(RE(\"html\"), false))\n        newMode = Modes.html;\n    }\n    return (state.mode = (newMode || Modes.text))(stream, state);\n  },\n\n  blockType: function(stream, state) {\n    var match, type;\n    state.layoutType = null;\n\n    if (match = stream.match(RE(\"type\")))\n      type = match[0];\n    else\n      return (state.mode = Modes.text)(stream, state);\n\n    if (match = type.match(RE(\"header\"))) {\n      state.layoutType = \"header\";\n      state.header = parseInt(match[0][1]);\n    } else if (type.match(RE(\"bq\"))) {\n      state.layoutType = \"quote\";\n    } else if (type.match(RE(\"bc\"))) {\n      state.layoutType = \"code\";\n    } else if (type.match(RE(\"foot\"))) {\n      state.layoutType = \"footnote\";\n    } else if (type.match(RE(\"notextile\"))) {\n      state.layoutType = \"notextile\";\n    } else if (type.match(RE(\"pre\"))) {\n      state.layoutType = \"pre\";\n    } else if (type.match(RE(\"div\"))) {\n      state.layoutType = \"div\";\n    } else if (type.match(RE(\"table\"))) {\n      state.layoutType = \"table\";\n    }\n\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n\n  text: function(stream, state) {\n    if (stream.match(RE(\"text\"))) return tokenStyles(state);\n\n    var ch = stream.next();\n    if (ch === '\"')\n      return (state.mode = Modes.link)(stream, state);\n    return handlePhraseModifier(stream, state, ch);\n  },\n\n  attributes: function(stream, state) {\n    state.mode = Modes.layoutLength;\n\n    if (stream.match(RE(\"attributes\")))\n      return TOKEN_STYLES.attributes\n    else\n      return tokenStyles(state);\n  },\n\n  layoutLength: function(stream, state) {\n    if (stream.eat(\".\") && stream.eat(\".\"))\n      state.spanningLayout = true;\n\n    state.mode = Modes.text;\n    return tokenStyles(state);\n  },\n\n  list: function(stream, state) {\n    var match = stream.match(RE(\"list\"));\n    state.listDepth = match[0].length;\n    var listMod = (state.listDepth - 1) % 3;\n    if (!listMod)\n      state.layoutType = \"list1\";\n    else if (listMod === 1)\n      state.layoutType = \"list2\";\n    else\n      state.layoutType = \"list3\";\n\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n\n  link: function(stream, state) {\n    state.mode = Modes.text;\n    if (stream.match(RE(\"link\"))) {\n      stream.match(/\\S+/);\n      return TOKEN_STYLES.link\n    }\n    return tokenStyles(state);\n  },\n\n  linkDefinition: function(stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.linkDefinition\n  },\n\n  definitionList: function(stream, state) {\n    stream.match(RE(\"definitionList\"));\n\n    state.layoutType = \"definitionList\";\n\n    if (stream.match(/\\s*$/))\n      state.spanningLayout = true;\n    else\n      state.mode = Modes.attributes;\n\n    return tokenStyles(state);\n  },\n\n  html: function(stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.html\n  },\n\n  table: function(stream, state) {\n    state.layoutType = \"table\";\n    return (state.mode = Modes.tableCell)(stream, state);\n  },\n\n  tableCell: function(stream, state) {\n    if (stream.match(RE(\"tableHeading\")))\n      state.tableHeading = true;\n    else\n      stream.eat(\"|\");\n\n    state.mode = Modes.tableCellAttributes;\n    return tokenStyles(state);\n  },\n\n  tableCellAttributes: function(stream, state) {\n    state.mode = Modes.tableText;\n\n    if (stream.match(RE(\"tableCellAttributes\")))\n      return TOKEN_STYLES.attributes\n    else\n      return tokenStyles(state);\n  },\n\n  tableText: function(stream, state) {\n    if (stream.match(RE(\"tableText\")))\n      return tokenStyles(state);\n\n    if (stream.peek() === \"|\") { // end of cell\n      state.mode = Modes.tableCell;\n      return tokenStyles(state);\n    }\n    return handlePhraseModifier(stream, state, stream.next());\n  }\n};\n\nconst textile = {\n  name: \"textile\",\n  startState: function() {\n    return { mode: Modes.newLayout };\n  },\n  token: function(stream, state) {\n    if (stream.sol()) startNewLine(stream, state);\n    return state.mode(stream, state);\n  },\n  blankLine: blankLine\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGVnYWN5LW1vZGVzL21vZGUvdGV4dGlsZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixJQUFJO0FBQzFCLFlBQVksSUFBSSxJQUFJO0FBQ3BCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sZWdhY3ktbW9kZXMvbW9kZS90ZXh0aWxlLmpzP2NmY2QiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFRPS0VOX1NUWUxFUyA9IHtcbiAgYWRkaXRpb246IFwiaW5zZXJ0ZWRcIixcbiAgYXR0cmlidXRlczogXCJwcm9wZXJ0eU5hbWVcIixcbiAgYm9sZDogXCJzdHJvbmdcIixcbiAgY2l0ZTogXCJrZXl3b3JkXCIsXG4gIGNvZGU6IFwibW9ub3NwYWNlXCIsXG4gIGRlZmluaXRpb25MaXN0OiBcImxpc3RcIixcbiAgZGVsZXRpb246IFwiZGVsZXRlZFwiLFxuICBkaXY6IFwicHVuY3R1YXRpb25cIixcbiAgZW06IFwiZW1waGFzaXNcIixcbiAgZm9vdG5vdGU6IFwidmFyaWFibGVcIixcbiAgZm9vdENpdGU6IFwicXVhbGlmaWVyXCIsXG4gIGhlYWRlcjogXCJoZWFkaW5nXCIsXG4gIGh0bWw6IFwiY29tbWVudFwiLFxuICBpbWFnZTogXCJhdG9tXCIsXG4gIGl0YWxpYzogXCJlbXBoYXNpc1wiLFxuICBsaW5rOiBcImxpbmtcIixcbiAgbGlua0RlZmluaXRpb246IFwibGlua1wiLFxuICBsaXN0MTogXCJsaXN0XCIsXG4gIGxpc3QyOiBcImxpc3Quc3BlY2lhbFwiLFxuICBsaXN0MzogXCJsaXN0XCIsXG4gIG5vdGV4dGlsZTogXCJzdHJpbmcuc3BlY2lhbFwiLFxuICBwcmU6IFwib3BlcmF0b3JcIixcbiAgcDogXCJjb250ZW50XCIsXG4gIHF1b3RlOiBcImJyYWNrZXRcIixcbiAgc3BhbjogXCJxdW90ZVwiLFxuICBzcGVjaWFsQ2hhcjogXCJjaGFyYWN0ZXJcIixcbiAgc3Ryb25nOiBcInN0cm9uZ1wiLFxuICBzdWI6IFwiY29udGVudC5zcGVjaWFsXCIsXG4gIHN1cDogXCJjb250ZW50LnNwZWNpYWxcIixcbiAgdGFibGU6IFwidmFyaWFibGVOYW1lLnNwZWNpYWxcIixcbiAgdGFibGVIZWFkaW5nOiBcIm9wZXJhdG9yXCJcbn07XG5cbmZ1bmN0aW9uIHN0YXJ0TmV3TGluZShzdHJlYW0sIHN0YXRlKSB7XG4gIHN0YXRlLm1vZGUgPSBNb2Rlcy5uZXdMYXlvdXQ7XG4gIHN0YXRlLnRhYmxlSGVhZGluZyA9IGZhbHNlO1xuXG4gIGlmIChzdGF0ZS5sYXlvdXRUeXBlID09PSBcImRlZmluaXRpb25MaXN0XCIgJiYgc3RhdGUuc3Bhbm5pbmdMYXlvdXQgJiZcbiAgICAgIHN0cmVhbS5tYXRjaChSRShcImRlZmluaXRpb25MaXN0RW5kXCIpLCBmYWxzZSkpXG4gICAgc3RhdGUuc3Bhbm5pbmdMYXlvdXQgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUGhyYXNlTW9kaWZpZXIoc3RyZWFtLCBzdGF0ZSwgY2gpIHtcbiAgaWYgKGNoID09PSBcIl9cIikge1xuICAgIGlmIChzdHJlYW0uZWF0KFwiX1wiKSlcbiAgICAgIHJldHVybiB0b2dnbGVQaHJhc2VNb2RpZmllcihzdHJlYW0sIHN0YXRlLCBcIml0YWxpY1wiLCAvX18vLCAyKTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gdG9nZ2xlUGhyYXNlTW9kaWZpZXIoc3RyZWFtLCBzdGF0ZSwgXCJlbVwiLCAvXy8sIDEpO1xuICB9XG5cbiAgaWYgKGNoID09PSBcIipcIikge1xuICAgIGlmIChzdHJlYW0uZWF0KFwiKlwiKSkge1xuICAgICAgcmV0dXJuIHRvZ2dsZVBocmFzZU1vZGlmaWVyKHN0cmVhbSwgc3RhdGUsIFwiYm9sZFwiLCAvXFwqXFwqLywgMik7XG4gICAgfVxuICAgIHJldHVybiB0b2dnbGVQaHJhc2VNb2RpZmllcihzdHJlYW0sIHN0YXRlLCBcInN0cm9uZ1wiLCAvXFwqLywgMSk7XG4gIH1cblxuICBpZiAoY2ggPT09IFwiW1wiKSB7XG4gICAgaWYgKHN0cmVhbS5tYXRjaCgvXFxkK1xcXS8pKSBzdGF0ZS5mb290Q2l0ZSA9IHRydWU7XG4gICAgcmV0dXJuIHRva2VuU3R5bGVzKHN0YXRlKTtcbiAgfVxuXG4gIGlmIChjaCA9PT0gXCIoXCIpIHtcbiAgICB2YXIgc3BlYyA9IHN0cmVhbS5tYXRjaCgvXihyfHRtfGMpXFwpLyk7XG4gICAgaWYgKHNwZWMpXG4gICAgICByZXR1cm4gVE9LRU5fU1RZTEVTLnNwZWNpYWxDaGFyXG4gIH1cblxuICBpZiAoY2ggPT09IFwiPFwiICYmIHN0cmVhbS5tYXRjaCgvKFxcdyspW14+XSs+W148XSs8XFwvXFwxPi8pKVxuICAgIHJldHVybiBUT0tFTl9TVFlMRVMuaHRtbFxuXG4gIGlmIChjaCA9PT0gXCI/XCIgJiYgc3RyZWFtLmVhdChcIj9cIikpXG4gICAgcmV0dXJuIHRvZ2dsZVBocmFzZU1vZGlmaWVyKHN0cmVhbSwgc3RhdGUsIFwiY2l0ZVwiLCAvXFw/XFw/LywgMik7XG5cbiAgaWYgKGNoID09PSBcIj1cIiAmJiBzdHJlYW0uZWF0KFwiPVwiKSlcbiAgICByZXR1cm4gdG9nZ2xlUGhyYXNlTW9kaWZpZXIoc3RyZWFtLCBzdGF0ZSwgXCJub3RleHRpbGVcIiwgLz09LywgMik7XG5cbiAgaWYgKGNoID09PSBcIi1cIiAmJiAhc3RyZWFtLmVhdChcIi1cIikpXG4gICAgcmV0dXJuIHRvZ2dsZVBocmFzZU1vZGlmaWVyKHN0cmVhbSwgc3RhdGUsIFwiZGVsZXRpb25cIiwgLy0vLCAxKTtcblxuICBpZiAoY2ggPT09IFwiK1wiKVxuICAgIHJldHVybiB0b2dnbGVQaHJhc2VNb2RpZmllcihzdHJlYW0sIHN0YXRlLCBcImFkZGl0aW9uXCIsIC9cXCsvLCAxKTtcblxuICBpZiAoY2ggPT09IFwiflwiKVxuICAgIHJldHVybiB0b2dnbGVQaHJhc2VNb2RpZmllcihzdHJlYW0sIHN0YXRlLCBcInN1YlwiLCAvfi8sIDEpO1xuXG4gIGlmIChjaCA9PT0gXCJeXCIpXG4gICAgcmV0dXJuIHRvZ2dsZVBocmFzZU1vZGlmaWVyKHN0cmVhbSwgc3RhdGUsIFwic3VwXCIsIC9cXF4vLCAxKTtcblxuICBpZiAoY2ggPT09IFwiJVwiKVxuICAgIHJldHVybiB0b2dnbGVQaHJhc2VNb2RpZmllcihzdHJlYW0sIHN0YXRlLCBcInNwYW5cIiwgLyUvLCAxKTtcblxuICBpZiAoY2ggPT09IFwiQFwiKVxuICAgIHJldHVybiB0b2dnbGVQaHJhc2VNb2RpZmllcihzdHJlYW0sIHN0YXRlLCBcImNvZGVcIiwgL0AvLCAxKTtcblxuICBpZiAoY2ggPT09IFwiIVwiKSB7XG4gICAgdmFyIHR5cGUgPSB0b2dnbGVQaHJhc2VNb2RpZmllcihzdHJlYW0sIHN0YXRlLCBcImltYWdlXCIsIC8oPzpcXChbXlxcKV0rXFwpKT8hLywgMSk7XG4gICAgc3RyZWFtLm1hdGNoKC9eOlxcUysvKTsgLy8gb3B0aW9uYWwgVXJsIHBvcnRpb25cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuICByZXR1cm4gdG9rZW5TdHlsZXMoc3RhdGUpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVQaHJhc2VNb2RpZmllcihzdHJlYW0sIHN0YXRlLCBwaHJhc2VNb2RpZmllciwgY2xvc2VSRSwgb3BlblNpemUpIHtcbiAgdmFyIGNoYXJCZWZvcmUgPSBzdHJlYW0ucG9zID4gb3BlblNpemUgPyBzdHJlYW0uc3RyaW5nLmNoYXJBdChzdHJlYW0ucG9zIC0gb3BlblNpemUgLSAxKSA6IG51bGw7XG4gIHZhciBjaGFyQWZ0ZXIgPSBzdHJlYW0ucGVlaygpO1xuICBpZiAoc3RhdGVbcGhyYXNlTW9kaWZpZXJdKSB7XG4gICAgaWYgKCghY2hhckFmdGVyIHx8IC9cXFcvLnRlc3QoY2hhckFmdGVyKSkgJiYgY2hhckJlZm9yZSAmJiAvXFxTLy50ZXN0KGNoYXJCZWZvcmUpKSB7XG4gICAgICB2YXIgdHlwZSA9IHRva2VuU3R5bGVzKHN0YXRlKTtcbiAgICAgIHN0YXRlW3BocmFzZU1vZGlmaWVyXSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKCghY2hhckJlZm9yZSB8fCAvXFxXLy50ZXN0KGNoYXJCZWZvcmUpKSAmJiBjaGFyQWZ0ZXIgJiYgL1xcUy8udGVzdChjaGFyQWZ0ZXIpICYmXG4gICAgICAgICAgICAgc3RyZWFtLm1hdGNoKG5ldyBSZWdFeHAoXCJeLipcXFxcU1wiICsgY2xvc2VSRS5zb3VyY2UgKyBcIig/OlxcXFxXfCQpXCIpLCBmYWxzZSkpIHtcbiAgICBzdGF0ZVtwaHJhc2VNb2RpZmllcl0gPSB0cnVlO1xuICAgIHN0YXRlLm1vZGUgPSBNb2Rlcy5hdHRyaWJ1dGVzO1xuICB9XG4gIHJldHVybiB0b2tlblN0eWxlcyhzdGF0ZSk7XG59O1xuXG5mdW5jdGlvbiB0b2tlblN0eWxlcyhzdGF0ZSkge1xuICB2YXIgZGlzYWJsZWQgPSB0ZXh0aWxlRGlzYWJsZWQoc3RhdGUpO1xuICBpZiAoZGlzYWJsZWQpIHJldHVybiBkaXNhYmxlZDtcblxuICB2YXIgc3R5bGVzID0gW107XG4gIGlmIChzdGF0ZS5sYXlvdXRUeXBlKSBzdHlsZXMucHVzaChUT0tFTl9TVFlMRVNbc3RhdGUubGF5b3V0VHlwZV0pO1xuXG4gIHN0eWxlcyA9IHN0eWxlcy5jb25jYXQoYWN0aXZlU3R5bGVzKFxuICAgIHN0YXRlLCBcImFkZGl0aW9uXCIsIFwiYm9sZFwiLCBcImNpdGVcIiwgXCJjb2RlXCIsIFwiZGVsZXRpb25cIiwgXCJlbVwiLCBcImZvb3RDaXRlXCIsXG4gICAgXCJpbWFnZVwiLCBcIml0YWxpY1wiLCBcImxpbmtcIiwgXCJzcGFuXCIsIFwic3Ryb25nXCIsIFwic3ViXCIsIFwic3VwXCIsIFwidGFibGVcIiwgXCJ0YWJsZUhlYWRpbmdcIikpO1xuXG4gIGlmIChzdGF0ZS5sYXlvdXRUeXBlID09PSBcImhlYWRlclwiKVxuICAgIHN0eWxlcy5wdXNoKFRPS0VOX1NUWUxFUy5oZWFkZXIgKyBcIi1cIiArIHN0YXRlLmhlYWRlcik7XG5cbiAgcmV0dXJuIHN0eWxlcy5sZW5ndGggPyBzdHlsZXMuam9pbihcIiBcIikgOiBudWxsO1xufVxuXG5mdW5jdGlvbiB0ZXh0aWxlRGlzYWJsZWQoc3RhdGUpIHtcbiAgdmFyIHR5cGUgPSBzdGF0ZS5sYXlvdXRUeXBlO1xuXG4gIHN3aXRjaCh0eXBlKSB7XG4gIGNhc2UgXCJub3RleHRpbGVcIjpcbiAgY2FzZSBcImNvZGVcIjpcbiAgY2FzZSBcInByZVwiOlxuICAgIHJldHVybiBUT0tFTl9TVFlMRVNbdHlwZV07XG4gIGRlZmF1bHQ6XG4gICAgaWYgKHN0YXRlLm5vdGV4dGlsZSlcbiAgICAgIHJldHVybiBUT0tFTl9TVFlMRVMubm90ZXh0aWxlICsgKHR5cGUgPyAoXCIgXCIgKyBUT0tFTl9TVFlMRVNbdHlwZV0pIDogXCJcIik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWN0aXZlU3R5bGVzKHN0YXRlKSB7XG4gIHZhciBzdHlsZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoc3RhdGVbYXJndW1lbnRzW2ldXSlcbiAgICAgIHN0eWxlcy5wdXNoKFRPS0VOX1NUWUxFU1thcmd1bWVudHNbaV1dKTtcbiAgfVxuICByZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBibGFua0xpbmUoc3RhdGUpIHtcbiAgdmFyIHNwYW5uaW5nTGF5b3V0ID0gc3RhdGUuc3Bhbm5pbmdMYXlvdXQsIHR5cGUgPSBzdGF0ZS5sYXlvdXRUeXBlO1xuXG4gIGZvciAodmFyIGtleSBpbiBzdGF0ZSkgaWYgKHN0YXRlLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgZGVsZXRlIHN0YXRlW2tleV07XG5cbiAgc3RhdGUubW9kZSA9IE1vZGVzLm5ld0xheW91dDtcbiAgaWYgKHNwYW5uaW5nTGF5b3V0KSB7XG4gICAgc3RhdGUubGF5b3V0VHlwZSA9IHR5cGU7XG4gICAgc3RhdGUuc3Bhbm5pbmdMYXlvdXQgPSB0cnVlO1xuICB9XG59XG5cbnZhciBSRXMgPSB7XG4gIGNhY2hlOiB7fSxcbiAgc2luZ2xlOiB7XG4gICAgYmM6IFwiYmNcIixcbiAgICBicTogXCJicVwiLFxuICAgIGRlZmluaXRpb25MaXN0OiAvLSAuKj86PSsvLFxuICAgIGRlZmluaXRpb25MaXN0RW5kOiAvLio9OlxccyokLyxcbiAgICBkaXY6IFwiZGl2XCIsXG4gICAgZHJhd1RhYmxlOiAvXFx8LipcXHwvLFxuICAgIGZvb3Q6IC9mblxcZCsvLFxuICAgIGhlYWRlcjogL2hbMS02XS8sXG4gICAgaHRtbDogL1xccyo8KD86XFwvKT8oXFx3KykoPzpbXj5dKyk/Pig/OltePF0rPFxcL1xcMT4pPy8sXG4gICAgbGluazogL1teXCJdK1wiOlxcUy8sXG4gICAgbGlua0RlZmluaXRpb246IC9cXFtbXlxcc1xcXV0rXFxdXFxTKy8sXG4gICAgbGlzdDogLyg/OiMrfFxcKispLyxcbiAgICBub3RleHRpbGU6IFwibm90ZXh0aWxlXCIsXG4gICAgcGFyYTogXCJwXCIsXG4gICAgcHJlOiBcInByZVwiLFxuICAgIHRhYmxlOiBcInRhYmxlXCIsXG4gICAgdGFibGVDZWxsQXR0cmlidXRlczogL1tcXC9cXFxcXVxcZCsvLFxuICAgIHRhYmxlSGVhZGluZzogL1xcfF9cXC4vLFxuICAgIHRhYmxlVGV4dDogL1teXCJfXFwqXFxbXFwoXFw/XFwrflxcXiVAfC1dKy8sXG4gICAgdGV4dDogL1teIVwiXz1cXCpcXFtcXCg8XFw/XFwrflxcXiVALV0rL1xuICB9LFxuICBhdHRyaWJ1dGVzOiB7XG4gICAgYWxpZ246IC8oPzo8Pnw8fD58PSkvLFxuICAgIHNlbGVjdG9yOiAvXFwoW15cXChdW15cXCldK1xcKS8sXG4gICAgbGFuZzogL1xcW1teXFxbXFxdXStcXF0vLFxuICAgIHBhZDogLyg/OlxcKCt8XFwpKyl7MSwyfS8sXG4gICAgY3NzOiAvXFx7W15cXH1dK1xcfS9cbiAgfSxcbiAgY3JlYXRlUmU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlIFwiZHJhd1RhYmxlXCI6XG4gICAgICByZXR1cm4gUkVzLm1ha2VSZShcIl5cIiwgUkVzLnNpbmdsZS5kcmF3VGFibGUsIFwiJFwiKTtcbiAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgcmV0dXJuIFJFcy5tYWtlUmUoXCJeXCIsIFJFcy5zaW5nbGUuaHRtbCwgXCIoPzpcIiwgUkVzLnNpbmdsZS5odG1sLCBcIikqXCIsIFwiJFwiKTtcbiAgICBjYXNlIFwibGlua0RlZmluaXRpb25cIjpcbiAgICAgIHJldHVybiBSRXMubWFrZVJlKFwiXlwiLCBSRXMuc2luZ2xlLmxpbmtEZWZpbml0aW9uLCBcIiRcIik7XG4gICAgY2FzZSBcImxpc3RMYXlvdXRcIjpcbiAgICAgIHJldHVybiBSRXMubWFrZVJlKFwiXlwiLCBSRXMuc2luZ2xlLmxpc3QsIFJFKFwiYWxsQXR0cmlidXRlc1wiKSwgXCIqXFxcXHMrXCIpO1xuICAgIGNhc2UgXCJ0YWJsZUNlbGxBdHRyaWJ1dGVzXCI6XG4gICAgICByZXR1cm4gUkVzLm1ha2VSZShcIl5cIiwgUkVzLmNob2ljZVJlKFJFcy5zaW5nbGUudGFibGVDZWxsQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFKFwiYWxsQXR0cmlidXRlc1wiKSksIFwiK1xcXFwuXCIpO1xuICAgIGNhc2UgXCJ0eXBlXCI6XG4gICAgICByZXR1cm4gUkVzLm1ha2VSZShcIl5cIiwgUkUoXCJhbGxUeXBlc1wiKSk7XG4gICAgY2FzZSBcInR5cGVMYXlvdXRcIjpcbiAgICAgIHJldHVybiBSRXMubWFrZVJlKFwiXlwiLCBSRShcImFsbFR5cGVzXCIpLCBSRShcImFsbEF0dHJpYnV0ZXNcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBcIipcXFxcLlxcXFwuP1wiLCBcIihcXFxccyt8JClcIik7XG4gICAgY2FzZSBcImF0dHJpYnV0ZXNcIjpcbiAgICAgIHJldHVybiBSRXMubWFrZVJlKFwiXlwiLCBSRShcImFsbEF0dHJpYnV0ZXNcIiksIFwiK1wiKTtcblxuICAgIGNhc2UgXCJhbGxUeXBlc1wiOlxuICAgICAgcmV0dXJuIFJFcy5jaG9pY2VSZShSRXMuc2luZ2xlLmRpdiwgUkVzLnNpbmdsZS5mb290LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBSRXMuc2luZ2xlLmhlYWRlciwgUkVzLnNpbmdsZS5iYywgUkVzLnNpbmdsZS5icSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUkVzLnNpbmdsZS5ub3RleHRpbGUsIFJFcy5zaW5nbGUucHJlLCBSRXMuc2luZ2xlLnRhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBSRXMuc2luZ2xlLnBhcmEpO1xuXG4gICAgY2FzZSBcImFsbEF0dHJpYnV0ZXNcIjpcbiAgICAgIHJldHVybiBSRXMuY2hvaWNlUmUoUkVzLmF0dHJpYnV0ZXMuc2VsZWN0b3IsIFJFcy5hdHRyaWJ1dGVzLmNzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUkVzLmF0dHJpYnV0ZXMubGFuZywgUkVzLmF0dHJpYnV0ZXMuYWxpZ24sIFJFcy5hdHRyaWJ1dGVzLnBhZCk7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFJFcy5tYWtlUmUoXCJeXCIsIFJFcy5zaW5nbGVbbmFtZV0pO1xuICAgIH1cbiAgfSxcbiAgbWFrZVJlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGF0dGVybiA9IFwiXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgICBwYXR0ZXJuICs9ICh0eXBlb2YgYXJnID09PSBcInN0cmluZ1wiKSA/IGFyZyA6IGFyZy5zb3VyY2U7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICB9LFxuICBjaG9pY2VSZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBhcnRzID0gW2FyZ3VtZW50c1swXV07XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHBhcnRzW2kgKiAyIC0gMV0gPSBcInxcIjtcbiAgICAgIHBhcnRzW2kgKiAyXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBwYXJ0cy51bnNoaWZ0KFwiKD86XCIpO1xuICAgIHBhcnRzLnB1c2goXCIpXCIpO1xuICAgIHJldHVybiBSRXMubWFrZVJlLmFwcGx5KG51bGwsIHBhcnRzKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gUkUobmFtZSkge1xuICByZXR1cm4gKFJFcy5jYWNoZVtuYW1lXSB8fCAoUkVzLmNhY2hlW25hbWVdID0gUkVzLmNyZWF0ZVJlKG5hbWUpKSk7XG59XG5cbnZhciBNb2RlcyA9IHtcbiAgbmV3TGF5b3V0OiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHN0cmVhbS5tYXRjaChSRShcInR5cGVMYXlvdXRcIiksIGZhbHNlKSkge1xuICAgICAgc3RhdGUuc3Bhbm5pbmdMYXlvdXQgPSBmYWxzZTtcbiAgICAgIHJldHVybiAoc3RhdGUubW9kZSA9IE1vZGVzLmJsb2NrVHlwZSkoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuICAgIHZhciBuZXdNb2RlO1xuICAgIGlmICghdGV4dGlsZURpc2FibGVkKHN0YXRlKSkge1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaChSRShcImxpc3RMYXlvdXRcIiksIGZhbHNlKSlcbiAgICAgICAgbmV3TW9kZSA9IE1vZGVzLmxpc3Q7XG4gICAgICBlbHNlIGlmIChzdHJlYW0ubWF0Y2goUkUoXCJkcmF3VGFibGVcIiksIGZhbHNlKSlcbiAgICAgICAgbmV3TW9kZSA9IE1vZGVzLnRhYmxlO1xuICAgICAgZWxzZSBpZiAoc3RyZWFtLm1hdGNoKFJFKFwibGlua0RlZmluaXRpb25cIiksIGZhbHNlKSlcbiAgICAgICAgbmV3TW9kZSA9IE1vZGVzLmxpbmtEZWZpbml0aW9uO1xuICAgICAgZWxzZSBpZiAoc3RyZWFtLm1hdGNoKFJFKFwiZGVmaW5pdGlvbkxpc3RcIikpKVxuICAgICAgICBuZXdNb2RlID0gTW9kZXMuZGVmaW5pdGlvbkxpc3Q7XG4gICAgICBlbHNlIGlmIChzdHJlYW0ubWF0Y2goUkUoXCJodG1sXCIpLCBmYWxzZSkpXG4gICAgICAgIG5ld01vZGUgPSBNb2Rlcy5odG1sO1xuICAgIH1cbiAgICByZXR1cm4gKHN0YXRlLm1vZGUgPSAobmV3TW9kZSB8fCBNb2Rlcy50ZXh0KSkoc3RyZWFtLCBzdGF0ZSk7XG4gIH0sXG5cbiAgYmxvY2tUeXBlOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgdmFyIG1hdGNoLCB0eXBlO1xuICAgIHN0YXRlLmxheW91dFR5cGUgPSBudWxsO1xuXG4gICAgaWYgKG1hdGNoID0gc3RyZWFtLm1hdGNoKFJFKFwidHlwZVwiKSkpXG4gICAgICB0eXBlID0gbWF0Y2hbMF07XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIChzdGF0ZS5tb2RlID0gTW9kZXMudGV4dCkoc3RyZWFtLCBzdGF0ZSk7XG5cbiAgICBpZiAobWF0Y2ggPSB0eXBlLm1hdGNoKFJFKFwiaGVhZGVyXCIpKSkge1xuICAgICAgc3RhdGUubGF5b3V0VHlwZSA9IFwiaGVhZGVyXCI7XG4gICAgICBzdGF0ZS5oZWFkZXIgPSBwYXJzZUludChtYXRjaFswXVsxXSk7XG4gICAgfSBlbHNlIGlmICh0eXBlLm1hdGNoKFJFKFwiYnFcIikpKSB7XG4gICAgICBzdGF0ZS5sYXlvdXRUeXBlID0gXCJxdW90ZVwiO1xuICAgIH0gZWxzZSBpZiAodHlwZS5tYXRjaChSRShcImJjXCIpKSkge1xuICAgICAgc3RhdGUubGF5b3V0VHlwZSA9IFwiY29kZVwiO1xuICAgIH0gZWxzZSBpZiAodHlwZS5tYXRjaChSRShcImZvb3RcIikpKSB7XG4gICAgICBzdGF0ZS5sYXlvdXRUeXBlID0gXCJmb290bm90ZVwiO1xuICAgIH0gZWxzZSBpZiAodHlwZS5tYXRjaChSRShcIm5vdGV4dGlsZVwiKSkpIHtcbiAgICAgIHN0YXRlLmxheW91dFR5cGUgPSBcIm5vdGV4dGlsZVwiO1xuICAgIH0gZWxzZSBpZiAodHlwZS5tYXRjaChSRShcInByZVwiKSkpIHtcbiAgICAgIHN0YXRlLmxheW91dFR5cGUgPSBcInByZVwiO1xuICAgIH0gZWxzZSBpZiAodHlwZS5tYXRjaChSRShcImRpdlwiKSkpIHtcbiAgICAgIHN0YXRlLmxheW91dFR5cGUgPSBcImRpdlwiO1xuICAgIH0gZWxzZSBpZiAodHlwZS5tYXRjaChSRShcInRhYmxlXCIpKSkge1xuICAgICAgc3RhdGUubGF5b3V0VHlwZSA9IFwidGFibGVcIjtcbiAgICB9XG5cbiAgICBzdGF0ZS5tb2RlID0gTW9kZXMuYXR0cmlidXRlcztcbiAgICByZXR1cm4gdG9rZW5TdHlsZXMoc3RhdGUpO1xuICB9LFxuXG4gIHRleHQ6IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAoc3RyZWFtLm1hdGNoKFJFKFwidGV4dFwiKSkpIHJldHVybiB0b2tlblN0eWxlcyhzdGF0ZSk7XG5cbiAgICB2YXIgY2ggPSBzdHJlYW0ubmV4dCgpO1xuICAgIGlmIChjaCA9PT0gJ1wiJylcbiAgICAgIHJldHVybiAoc3RhdGUubW9kZSA9IE1vZGVzLmxpbmspKHN0cmVhbSwgc3RhdGUpO1xuICAgIHJldHVybiBoYW5kbGVQaHJhc2VNb2RpZmllcihzdHJlYW0sIHN0YXRlLCBjaCk7XG4gIH0sXG5cbiAgYXR0cmlidXRlczogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgIHN0YXRlLm1vZGUgPSBNb2Rlcy5sYXlvdXRMZW5ndGg7XG5cbiAgICBpZiAoc3RyZWFtLm1hdGNoKFJFKFwiYXR0cmlidXRlc1wiKSkpXG4gICAgICByZXR1cm4gVE9LRU5fU1RZTEVTLmF0dHJpYnV0ZXNcbiAgICBlbHNlXG4gICAgICByZXR1cm4gdG9rZW5TdHlsZXMoc3RhdGUpO1xuICB9LFxuXG4gIGxheW91dExlbmd0aDogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmIChzdHJlYW0uZWF0KFwiLlwiKSAmJiBzdHJlYW0uZWF0KFwiLlwiKSlcbiAgICAgIHN0YXRlLnNwYW5uaW5nTGF5b3V0ID0gdHJ1ZTtcblxuICAgIHN0YXRlLm1vZGUgPSBNb2Rlcy50ZXh0O1xuICAgIHJldHVybiB0b2tlblN0eWxlcyhzdGF0ZSk7XG4gIH0sXG5cbiAgbGlzdDogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBtYXRjaCA9IHN0cmVhbS5tYXRjaChSRShcImxpc3RcIikpO1xuICAgIHN0YXRlLmxpc3REZXB0aCA9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICB2YXIgbGlzdE1vZCA9IChzdGF0ZS5saXN0RGVwdGggLSAxKSAlIDM7XG4gICAgaWYgKCFsaXN0TW9kKVxuICAgICAgc3RhdGUubGF5b3V0VHlwZSA9IFwibGlzdDFcIjtcbiAgICBlbHNlIGlmIChsaXN0TW9kID09PSAxKVxuICAgICAgc3RhdGUubGF5b3V0VHlwZSA9IFwibGlzdDJcIjtcbiAgICBlbHNlXG4gICAgICBzdGF0ZS5sYXlvdXRUeXBlID0gXCJsaXN0M1wiO1xuXG4gICAgc3RhdGUubW9kZSA9IE1vZGVzLmF0dHJpYnV0ZXM7XG4gICAgcmV0dXJuIHRva2VuU3R5bGVzKHN0YXRlKTtcbiAgfSxcblxuICBsaW5rOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgc3RhdGUubW9kZSA9IE1vZGVzLnRleHQ7XG4gICAgaWYgKHN0cmVhbS5tYXRjaChSRShcImxpbmtcIikpKSB7XG4gICAgICBzdHJlYW0ubWF0Y2goL1xcUysvKTtcbiAgICAgIHJldHVybiBUT0tFTl9TVFlMRVMubGlua1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW5TdHlsZXMoc3RhdGUpO1xuICB9LFxuXG4gIGxpbmtEZWZpbml0aW9uOiBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgcmV0dXJuIFRPS0VOX1NUWUxFUy5saW5rRGVmaW5pdGlvblxuICB9LFxuXG4gIGRlZmluaXRpb25MaXN0OiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgc3RyZWFtLm1hdGNoKFJFKFwiZGVmaW5pdGlvbkxpc3RcIikpO1xuXG4gICAgc3RhdGUubGF5b3V0VHlwZSA9IFwiZGVmaW5pdGlvbkxpc3RcIjtcblxuICAgIGlmIChzdHJlYW0ubWF0Y2goL1xccyokLykpXG4gICAgICBzdGF0ZS5zcGFubmluZ0xheW91dCA9IHRydWU7XG4gICAgZWxzZVxuICAgICAgc3RhdGUubW9kZSA9IE1vZGVzLmF0dHJpYnV0ZXM7XG5cbiAgICByZXR1cm4gdG9rZW5TdHlsZXMoc3RhdGUpO1xuICB9LFxuXG4gIGh0bWw6IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHN0cmVhbS5za2lwVG9FbmQoKTtcbiAgICByZXR1cm4gVE9LRU5fU1RZTEVTLmh0bWxcbiAgfSxcblxuICB0YWJsZTogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgIHN0YXRlLmxheW91dFR5cGUgPSBcInRhYmxlXCI7XG4gICAgcmV0dXJuIChzdGF0ZS5tb2RlID0gTW9kZXMudGFibGVDZWxsKShzdHJlYW0sIHN0YXRlKTtcbiAgfSxcblxuICB0YWJsZUNlbGw6IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAoc3RyZWFtLm1hdGNoKFJFKFwidGFibGVIZWFkaW5nXCIpKSlcbiAgICAgIHN0YXRlLnRhYmxlSGVhZGluZyA9IHRydWU7XG4gICAgZWxzZVxuICAgICAgc3RyZWFtLmVhdChcInxcIik7XG5cbiAgICBzdGF0ZS5tb2RlID0gTW9kZXMudGFibGVDZWxsQXR0cmlidXRlcztcbiAgICByZXR1cm4gdG9rZW5TdHlsZXMoc3RhdGUpO1xuICB9LFxuXG4gIHRhYmxlQ2VsbEF0dHJpYnV0ZXM6IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICBzdGF0ZS5tb2RlID0gTW9kZXMudGFibGVUZXh0O1xuXG4gICAgaWYgKHN0cmVhbS5tYXRjaChSRShcInRhYmxlQ2VsbEF0dHJpYnV0ZXNcIikpKVxuICAgICAgcmV0dXJuIFRPS0VOX1NUWUxFUy5hdHRyaWJ1dGVzXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIHRva2VuU3R5bGVzKHN0YXRlKTtcbiAgfSxcblxuICB0YWJsZVRleHQ6IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAoc3RyZWFtLm1hdGNoKFJFKFwidGFibGVUZXh0XCIpKSlcbiAgICAgIHJldHVybiB0b2tlblN0eWxlcyhzdGF0ZSk7XG5cbiAgICBpZiAoc3RyZWFtLnBlZWsoKSA9PT0gXCJ8XCIpIHsgLy8gZW5kIG9mIGNlbGxcbiAgICAgIHN0YXRlLm1vZGUgPSBNb2Rlcy50YWJsZUNlbGw7XG4gICAgICByZXR1cm4gdG9rZW5TdHlsZXMoc3RhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gaGFuZGxlUGhyYXNlTW9kaWZpZXIoc3RyZWFtLCBzdGF0ZSwgc3RyZWFtLm5leHQoKSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB0ZXh0aWxlID0ge1xuICBuYW1lOiBcInRleHRpbGVcIixcbiAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHsgbW9kZTogTW9kZXMubmV3TGF5b3V0IH07XG4gIH0sXG4gIHRva2VuOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHN0cmVhbS5zb2woKSkgc3RhcnROZXdMaW5lKHN0cmVhbSwgc3RhdGUpO1xuICAgIHJldHVybiBzdGF0ZS5tb2RlKHN0cmVhbSwgc3RhdGUpO1xuICB9LFxuICBibGFua0xpbmU6IGJsYW5rTGluZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@codemirror/legacy-modes/mode/textile.js\n"));

/***/ })

}]);