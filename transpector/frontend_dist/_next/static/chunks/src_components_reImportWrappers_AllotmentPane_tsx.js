"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["src_components_reImportWrappers_AllotmentPane_tsx"],{

/***/ "./src/components/reImportWrappers/AllotmentPane.tsx":
/*!***********************************************************!*\
  !*** ./src/components/reImportWrappers/AllotmentPane.tsx ***!
  \***********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AllotmentPaneWrapper; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var allotment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! allotment */ \"./node_modules/allotment/dist/modern.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction AllotmentPaneWrapper(param) {\n    let { children , snap , minSize  } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(allotment__WEBPACK_IMPORTED_MODULE_1__.Allotment.Pane, {\n        minSize: minSize,\n        snap: snap,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/rkopel001/Documents/Testing/tdb/tdb/src/components/reImportWrappers/AllotmentPane.tsx\",\n        lineNumber: 6,\n        columnNumber: 5\n    }, this);\n}\n_c = AllotmentPaneWrapper;\nvar _c;\n$RefreshReg$(_c, \"AllotmentPaneWrapper\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9yZUltcG9ydFdyYXBwZXJzL0FsbG90bWVudFBhbmUudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzQztBQUNaO0FBRVgsU0FBU0UscUJBQXFCLEtBQTBGLEVBQUU7UUFBNUYsRUFBRUMsU0FBUSxFQUFFQyxLQUFJLEVBQUVDLFFBQU8sRUFBaUUsR0FBMUY7SUFDM0MscUJBQ0UsOERBQUNMLHFEQUFjO1FBQUNLLFNBQVNBO1FBQVNELE1BQU1BO2tCQUNyQ0Q7Ozs7OztBQUdQLENBQUM7S0FOdUJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL3JlSW1wb3J0V3JhcHBlcnMvQWxsb3RtZW50UGFuZS50c3g/NTY5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbGxvdG1lbnQgfSBmcm9tIFwiYWxsb3RtZW50XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFsbG90bWVudFBhbmVXcmFwcGVyKHsgY2hpbGRyZW4sIHNuYXAsIG1pblNpemUgfToge2NoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUsIHNuYXA/OiBib29sZWFuLCBtaW5TaXplPzogbnVtYmVyfSkge1xuICByZXR1cm4gKFxuICAgIDxBbGxvdG1lbnQuUGFuZSBtaW5TaXplPXttaW5TaXplfSBzbmFwPXtzbmFwfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0FsbG90bWVudC5QYW5lPlxuICApXG59XG4gICAgIl0sIm5hbWVzIjpbIkFsbG90bWVudCIsIlJlYWN0IiwiQWxsb3RtZW50UGFuZVdyYXBwZXIiLCJjaGlsZHJlbiIsInNuYXAiLCJtaW5TaXplIiwiUGFuZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/reImportWrappers/AllotmentPane.tsx\n"));

/***/ }),

/***/ "./node_modules/allotment/dist/modern.mjs":
/*!************************************************!*\
  !*** ./node_modules/allotment/dist/modern.mjs ***!
  \************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Allotment\": function() { return /* binding */ Ae; },\n/* harmony export */   \"LayoutPriority\": function() { return /* binding */ Se; },\n/* harmony export */   \"setSashSize\": function() { return /* binding */ Pe; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/next/dist/compiled/react/index.js\");\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar h,\n  c = {};\n/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\nh = {\n  get exports() {\n    return c;\n  },\n  set exports(e) {\n    c = e;\n  }\n}, function () {\n  var e = {}.hasOwnProperty;\n  function t() {\n    for (var i = [], n = 0; n < arguments.length; n++) {\n      var r = arguments[n];\n      if (r) {\n        var s = typeof r;\n        if (\"string\" === s || \"number\" === s) i.push(r);else if (Array.isArray(r)) {\n          if (r.length) {\n            var o = t.apply(null, r);\n            o && i.push(o);\n          }\n        } else if (\"object\" === s) if (r.toString === Object.prototype.toString) for (var a in r) e.call(r, a) && r[a] && i.push(a);else i.push(r.toString());\n      }\n    }\n    return i.join(\" \");\n  }\n  h.exports ? (t.default = t, h.exports = t) : window.classNames = t;\n}();\nvar l = c,\n  f = /^\\s+|\\s+$/g,\n  m = /^[-+]0x[0-9a-f]+$/i,\n  d = /^0b[01]+$/i,\n  p = /^0o[0-7]+$/i,\n  v = parseInt,\n  y = Object.prototype.toString;\nfunction g(e) {\n  var t = typeof e;\n  return !!e && (\"object\" == t || \"function\" == t);\n}\nfunction b(e) {\n  if (\"number\" == typeof e) return e;\n  if (function (e) {\n    return \"symbol\" == typeof e || function (e) {\n      return !!e && \"object\" == typeof e;\n    }(e) && \"[object Symbol]\" == y.call(e);\n  }(e)) return NaN;\n  if (g(e)) {\n    var t = \"function\" == typeof e.valueOf ? e.valueOf() : e;\n    e = g(t) ? t + \"\" : t;\n  }\n  if (\"string\" != typeof e) return 0 === e ? e : +e;\n  e = e.replace(f, \"\");\n  var i = d.test(e);\n  return i || p.test(e) ? v(e.slice(2), i ? 2 : 8) : m.test(e) ? NaN : +e;\n}\nvar z = function z(e, t, i) {\n    return void 0 === i && (i = t, t = void 0), void 0 !== i && (i = (i = b(i)) == i ? i : 0), void 0 !== t && (t = (t = b(t)) == t ? t : 0), function (e, t, i) {\n      return e == e && (void 0 !== i && (e = e <= i ? e : i), void 0 !== t && (e = e >= t ? e : t)), e;\n    }(b(e), t, i);\n  },\n  w = \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {},\n  S = {};\n!function (e, t) {\n  var i = \"__lodash_hash_undefined__\",\n    n = 9007199254740991,\n    r = \"[object Arguments]\",\n    s = \"[object Array]\",\n    o = \"[object Boolean]\",\n    a = \"[object Date]\",\n    u = \"[object Error]\",\n    h = \"[object Function]\",\n    c = \"[object Map]\",\n    l = \"[object Number]\",\n    f = \"[object Object]\",\n    m = \"[object Promise]\",\n    d = \"[object RegExp]\",\n    p = \"[object Set]\",\n    v = \"[object String]\",\n    y = \"[object Symbol]\",\n    g = \"[object WeakMap]\",\n    b = \"[object ArrayBuffer]\",\n    z = \"[object DataView]\",\n    S = /^\\[object .+?Constructor\\]$/,\n    _ = /^(?:0|[1-9]\\d*)$/,\n    I = {};\n  I[\"[object Float32Array]\"] = I[\"[object Float64Array]\"] = I[\"[object Int8Array]\"] = I[\"[object Int16Array]\"] = I[\"[object Int32Array]\"] = I[\"[object Uint8Array]\"] = I[\"[object Uint8ClampedArray]\"] = I[\"[object Uint16Array]\"] = I[\"[object Uint32Array]\"] = !0, I[r] = I[s] = I[b] = I[o] = I[z] = I[a] = I[u] = I[h] = I[c] = I[l] = I[f] = I[d] = I[p] = I[v] = I[g] = !1;\n  var x = \"object\" == typeof w && w && w.Object === Object && w,\n    E = \"object\" == typeof self && self && self.Object === Object && self,\n    V = x || E || Function(\"return this\")(),\n    j = t && !t.nodeType && t,\n    N = j && e && !e.nodeType && e,\n    L = N && N.exports === j,\n    D = L && x.process,\n    O = function () {\n      try {\n        return D && D.binding && D.binding(\"util\");\n      } catch (e) {}\n    }(),\n    M = O && O.isTypedArray;\n  function P(e, t) {\n    for (var i = -1, n = null == e ? 0 : e.length; ++i < n;) if (t(e[i], i, e)) return !0;\n    return !1;\n  }\n  function A(e) {\n    var t = -1,\n      i = Array(e.size);\n    return e.forEach(function (e, n) {\n      i[++t] = [n, e];\n    }), i;\n  }\n  function T(e) {\n    var t = -1,\n      i = Array(e.size);\n    return e.forEach(function (e) {\n      i[++t] = e;\n    }), i;\n  }\n  var C,\n    F,\n    k,\n    $ = Array.prototype,\n    H = Function.prototype,\n    Y = Object.prototype,\n    B = V[\"__core-js_shared__\"],\n    R = H.toString,\n    W = Y.hasOwnProperty,\n    G = (C = /[^.]+$/.exec(B && B.keys && B.keys.IE_PROTO || \"\")) ? \"Symbol(src)_1.\" + C : \"\",\n    U = Y.toString,\n    X = RegExp(\"^\" + R.call(W).replace(/[\\\\^$.*+?()[\\]{}|]/g, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"),\n    J = L ? V.Buffer : void 0,\n    K = V.Symbol,\n    Z = V.Uint8Array,\n    Q = Y.propertyIsEnumerable,\n    q = $.splice,\n    ee = K ? K.toStringTag : void 0,\n    te = Object.getOwnPropertySymbols,\n    ie = J ? J.isBuffer : void 0,\n    ne = (F = Object.keys, k = Object, function (e) {\n      return F(k(e));\n    }),\n    re = Oe(V, \"DataView\"),\n    se = Oe(V, \"Map\"),\n    oe = Oe(V, \"Promise\"),\n    ae = Oe(V, \"Set\"),\n    ue = Oe(V, \"WeakMap\"),\n    he = Oe(Object, \"create\"),\n    ce = Te(re),\n    le = Te(se),\n    fe = Te(oe),\n    me = Te(ae),\n    de = Te(ue),\n    pe = K ? K.prototype : void 0,\n    ve = pe ? pe.valueOf : void 0;\n  function ye(e) {\n    var t = -1,\n      i = null == e ? 0 : e.length;\n    for (this.clear(); ++t < i;) {\n      var n = e[t];\n      this.set(n[0], n[1]);\n    }\n  }\n  function ge(e) {\n    var t = -1,\n      i = null == e ? 0 : e.length;\n    for (this.clear(); ++t < i;) {\n      var n = e[t];\n      this.set(n[0], n[1]);\n    }\n  }\n  function be(e) {\n    var t = -1,\n      i = null == e ? 0 : e.length;\n    for (this.clear(); ++t < i;) {\n      var n = e[t];\n      this.set(n[0], n[1]);\n    }\n  }\n  function ze(e) {\n    var t = -1,\n      i = null == e ? 0 : e.length;\n    for (this.__data__ = new be(); ++t < i;) this.add(e[t]);\n  }\n  function we(e) {\n    var t = this.__data__ = new ge(e);\n    this.size = t.size;\n  }\n  function Se(e, t) {\n    var i = ke(e),\n      n = !i && Fe(e),\n      r = !i && !n && $e(e),\n      s = !i && !n && !r && We(e),\n      o = i || n || r || s,\n      a = o ? function (e, t) {\n        for (var i = -1, n = Array(e); ++i < e;) n[i] = t(i);\n        return n;\n      }(e.length, String) : [],\n      u = a.length;\n    for (var h in e) !t && !W.call(e, h) || o && (\"length\" == h || r && (\"offset\" == h || \"parent\" == h) || s && (\"buffer\" == h || \"byteLength\" == h || \"byteOffset\" == h) || Ae(h, u)) || a.push(h);\n    return a;\n  }\n  function _e(e, t) {\n    for (var i = e.length; i--;) if (Ce(e[i][0], t)) return i;\n    return -1;\n  }\n  function Ie(e) {\n    return null == e ? void 0 === e ? \"[object Undefined]\" : \"[object Null]\" : ee && ee in Object(e) ? function (e) {\n      var t = W.call(e, ee),\n        i = e[ee];\n      try {\n        e[ee] = void 0;\n        var n = !0;\n      } catch (e) {}\n      var r = U.call(e);\n      n && (t ? e[ee] = i : delete e[ee]);\n      return r;\n    }(e) : function (e) {\n      return U.call(e);\n    }(e);\n  }\n  function xe(e) {\n    return Re(e) && Ie(e) == r;\n  }\n  function Ee(e, t, i, n, h) {\n    return e === t || (null == e || null == t || !Re(e) && !Re(t) ? e != e && t != t : function (e, t, i, n, h, m) {\n      var g = ke(e),\n        w = ke(t),\n        S = g ? s : Pe(e),\n        _ = w ? s : Pe(t),\n        I = (S = S == r ? f : S) == f,\n        x = (_ = _ == r ? f : _) == f,\n        E = S == _;\n      if (E && $e(e)) {\n        if (!$e(t)) return !1;\n        g = !0, I = !1;\n      }\n      if (E && !I) return m || (m = new we()), g || We(e) ? Ne(e, t, i, n, h, m) : function (e, t, i, n, r, s, h) {\n        switch (i) {\n          case z:\n            if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1;\n            e = e.buffer, t = t.buffer;\n          case b:\n            return !(e.byteLength != t.byteLength || !s(new Z(e), new Z(t)));\n          case o:\n          case a:\n          case l:\n            return Ce(+e, +t);\n          case u:\n            return e.name == t.name && e.message == t.message;\n          case d:\n          case v:\n            return e == t + \"\";\n          case c:\n            var f = A;\n          case p:\n            var m = 1 & n;\n            if (f || (f = T), e.size != t.size && !m) return !1;\n            var g = h.get(e);\n            if (g) return g == t;\n            n |= 2, h.set(e, t);\n            var w = Ne(f(e), f(t), n, r, s, h);\n            return h.delete(e), w;\n          case y:\n            if (ve) return ve.call(e) == ve.call(t);\n        }\n        return !1;\n      }(e, t, S, i, n, h, m);\n      if (!(1 & i)) {\n        var V = I && W.call(e, \"__wrapped__\"),\n          j = x && W.call(t, \"__wrapped__\");\n        if (V || j) {\n          var N = V ? e.value() : e,\n            L = j ? t.value() : t;\n          return m || (m = new we()), h(N, L, i, n, m);\n        }\n      }\n      if (!E) return !1;\n      return m || (m = new we()), function (e, t, i, n, r, s) {\n        var o = 1 & i,\n          a = Le(e),\n          u = a.length,\n          h = Le(t).length;\n        if (u != h && !o) return !1;\n        var c = u;\n        for (; c--;) {\n          var l = a[c];\n          if (!(o ? l in t : W.call(t, l))) return !1;\n        }\n        var f = s.get(e);\n        if (f && s.get(t)) return f == t;\n        var m = !0;\n        s.set(e, t), s.set(t, e);\n        var d = o;\n        for (; ++c < u;) {\n          var p = e[l = a[c]],\n            v = t[l];\n          if (n) var y = o ? n(v, p, l, t, e, s) : n(p, v, l, e, t, s);\n          if (!(void 0 === y ? p === v || r(p, v, i, n, s) : y)) {\n            m = !1;\n            break;\n          }\n          d || (d = \"constructor\" == l);\n        }\n        if (m && !d) {\n          var g = e.constructor,\n            b = t.constructor;\n          g == b || !(\"constructor\" in e) || !(\"constructor\" in t) || \"function\" == typeof g && g instanceof g && \"function\" == typeof b && b instanceof b || (m = !1);\n        }\n        return s.delete(e), s.delete(t), m;\n      }(e, t, i, n, h, m);\n    }(e, t, i, n, Ee, h));\n  }\n  function Ve(e) {\n    return !(!Be(e) || function (e) {\n      return !!G && G in e;\n    }(e)) && (He(e) ? X : S).test(Te(e));\n  }\n  function je(e) {\n    if (i = (t = e) && t.constructor, n = \"function\" == typeof i && i.prototype || Y, t !== n) return ne(e);\n    var t,\n      i,\n      n,\n      r = [];\n    for (var s in Object(e)) W.call(e, s) && \"constructor\" != s && r.push(s);\n    return r;\n  }\n  function Ne(e, t, i, n, r, s) {\n    var o = 1 & i,\n      a = e.length,\n      u = t.length;\n    if (a != u && !(o && u > a)) return !1;\n    var h = s.get(e);\n    if (h && s.get(t)) return h == t;\n    var c = -1,\n      l = !0,\n      f = 2 & i ? new ze() : void 0;\n    for (s.set(e, t), s.set(t, e); ++c < a;) {\n      var m = e[c],\n        d = t[c];\n      if (n) var p = o ? n(d, m, c, t, e, s) : n(m, d, c, e, t, s);\n      if (void 0 !== p) {\n        if (p) continue;\n        l = !1;\n        break;\n      }\n      if (f) {\n        if (!P(t, function (e, t) {\n          if (o = t, !f.has(o) && (m === e || r(m, e, i, n, s))) return f.push(t);\n          var o;\n        })) {\n          l = !1;\n          break;\n        }\n      } else if (m !== d && !r(m, d, i, n, s)) {\n        l = !1;\n        break;\n      }\n    }\n    return s.delete(e), s.delete(t), l;\n  }\n  function Le(e) {\n    return function (e, t, i) {\n      var n = t(e);\n      return ke(e) ? n : function (e, t) {\n        for (var i = -1, n = t.length, r = e.length; ++i < n;) e[r + i] = t[i];\n        return e;\n      }(n, i(e));\n    }(e, Ge, Me);\n  }\n  function De(e, t) {\n    var i,\n      n,\n      r = e.__data__;\n    return (\"string\" == (n = typeof (i = t)) || \"number\" == n || \"symbol\" == n || \"boolean\" == n ? \"__proto__\" !== i : null === i) ? r[\"string\" == typeof t ? \"string\" : \"hash\"] : r.map;\n  }\n  function Oe(e, t) {\n    var i = function (e, t) {\n      return null == e ? void 0 : e[t];\n    }(e, t);\n    return Ve(i) ? i : void 0;\n  }\n  ye.prototype.clear = function () {\n    this.__data__ = he ? he(null) : {}, this.size = 0;\n  }, ye.prototype.delete = function (e) {\n    var t = this.has(e) && delete this.__data__[e];\n    return this.size -= t ? 1 : 0, t;\n  }, ye.prototype.get = function (e) {\n    var t = this.__data__;\n    if (he) {\n      var n = t[e];\n      return n === i ? void 0 : n;\n    }\n    return W.call(t, e) ? t[e] : void 0;\n  }, ye.prototype.has = function (e) {\n    var t = this.__data__;\n    return he ? void 0 !== t[e] : W.call(t, e);\n  }, ye.prototype.set = function (e, t) {\n    var n = this.__data__;\n    return this.size += this.has(e) ? 0 : 1, n[e] = he && void 0 === t ? i : t, this;\n  }, ge.prototype.clear = function () {\n    this.__data__ = [], this.size = 0;\n  }, ge.prototype.delete = function (e) {\n    var t = this.__data__,\n      i = _e(t, e);\n    return !(i < 0) && (i == t.length - 1 ? t.pop() : q.call(t, i, 1), --this.size, !0);\n  }, ge.prototype.get = function (e) {\n    var t = this.__data__,\n      i = _e(t, e);\n    return i < 0 ? void 0 : t[i][1];\n  }, ge.prototype.has = function (e) {\n    return _e(this.__data__, e) > -1;\n  }, ge.prototype.set = function (e, t) {\n    var i = this.__data__,\n      n = _e(i, e);\n    return n < 0 ? (++this.size, i.push([e, t])) : i[n][1] = t, this;\n  }, be.prototype.clear = function () {\n    this.size = 0, this.__data__ = {\n      hash: new ye(),\n      map: new (se || ge)(),\n      string: new ye()\n    };\n  }, be.prototype.delete = function (e) {\n    var t = De(this, e).delete(e);\n    return this.size -= t ? 1 : 0, t;\n  }, be.prototype.get = function (e) {\n    return De(this, e).get(e);\n  }, be.prototype.has = function (e) {\n    return De(this, e).has(e);\n  }, be.prototype.set = function (e, t) {\n    var i = De(this, e),\n      n = i.size;\n    return i.set(e, t), this.size += i.size == n ? 0 : 1, this;\n  }, ze.prototype.add = ze.prototype.push = function (e) {\n    return this.__data__.set(e, i), this;\n  }, ze.prototype.has = function (e) {\n    return this.__data__.has(e);\n  }, we.prototype.clear = function () {\n    this.__data__ = new ge(), this.size = 0;\n  }, we.prototype.delete = function (e) {\n    var t = this.__data__,\n      i = t.delete(e);\n    return this.size = t.size, i;\n  }, we.prototype.get = function (e) {\n    return this.__data__.get(e);\n  }, we.prototype.has = function (e) {\n    return this.__data__.has(e);\n  }, we.prototype.set = function (e, t) {\n    var i = this.__data__;\n    if (i instanceof ge) {\n      var n = i.__data__;\n      if (!se || n.length < 199) return n.push([e, t]), this.size = ++i.size, this;\n      i = this.__data__ = new be(n);\n    }\n    return i.set(e, t), this.size = i.size, this;\n  };\n  var Me = te ? function (e) {\n      return null == e ? [] : (e = Object(e), function (e, t) {\n        for (var i = -1, n = null == e ? 0 : e.length, r = 0, s = []; ++i < n;) {\n          var o = e[i];\n          t(o, i, e) && (s[r++] = o);\n        }\n        return s;\n      }(te(e), function (t) {\n        return Q.call(e, t);\n      }));\n    } : function () {\n      return [];\n    },\n    Pe = Ie;\n  function Ae(e, t) {\n    return !!(t = null == t ? n : t) && (\"number\" == typeof e || _.test(e)) && e > -1 && e % 1 == 0 && e < t;\n  }\n  function Te(e) {\n    if (null != e) {\n      try {\n        return R.call(e);\n      } catch (e) {}\n      try {\n        return e + \"\";\n      } catch (e) {}\n    }\n    return \"\";\n  }\n  function Ce(e, t) {\n    return e === t || e != e && t != t;\n  }\n  (re && Pe(new re(new ArrayBuffer(1))) != z || se && Pe(new se()) != c || oe && Pe(oe.resolve()) != m || ae && Pe(new ae()) != p || ue && Pe(new ue()) != g) && (Pe = function (e) {\n    var t = Ie(e),\n      i = t == f ? e.constructor : void 0,\n      n = i ? Te(i) : \"\";\n    if (n) switch (n) {\n      case ce:\n        return z;\n      case le:\n        return c;\n      case fe:\n        return m;\n      case me:\n        return p;\n      case de:\n        return g;\n    }\n    return t;\n  });\n  var Fe = xe(function () {\n      return arguments;\n    }()) ? xe : function (e) {\n      return Re(e) && W.call(e, \"callee\") && !Q.call(e, \"callee\");\n    },\n    ke = Array.isArray;\n  var $e = ie || function () {\n    return !1;\n  };\n  function He(e) {\n    if (!Be(e)) return !1;\n    var t = Ie(e);\n    return t == h || \"[object GeneratorFunction]\" == t || \"[object AsyncFunction]\" == t || \"[object Proxy]\" == t;\n  }\n  function Ye(e) {\n    return \"number\" == typeof e && e > -1 && e % 1 == 0 && e <= n;\n  }\n  function Be(e) {\n    var t = typeof e;\n    return null != e && (\"object\" == t || \"function\" == t);\n  }\n  function Re(e) {\n    return null != e && \"object\" == typeof e;\n  }\n  var We = M ? function (e) {\n    return function (t) {\n      return e(t);\n    };\n  }(M) : function (e) {\n    return Re(e) && Ye(e.length) && !!I[Ie(e)];\n  };\n  function Ge(e) {\n    return null != (t = e) && Ye(t.length) && !He(t) ? Se(e) : je(e);\n    var t;\n  }\n  e.exports = function (e, t) {\n    return Ee(e, t);\n  };\n}({\n  get exports() {\n    return S;\n  },\n  set exports(e) {\n    S = e;\n  }\n}, S);\nvar _ = S;\nfunction I(e, t, i) {\n  return e[t] ? e[t][0] ? e[t][0][i] : e[t][i] : \"contentBoxSize\" === t ? e.contentRect[\"inlineSize\" === i ? \"width\" : \"height\"] : void 0;\n}\nfunction x(e) {\n  void 0 === e && (e = {});\n  var o = e.onResize,\n    a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(void 0);\n  a.current = o;\n  var u = e.round || Math.round,\n    h = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),\n    c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n      width: void 0,\n      height: void 0\n    }),\n    l = c[0],\n    f = c[1],\n    m = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    return m.current = !1, function () {\n      m.current = !0;\n    };\n  }, []);\n  var d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n      width: void 0,\n      height: void 0\n    }),\n    p = function (e, i) {\n      var s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),\n        o = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n      o.current = i;\n      var a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n      (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n        u();\n      });\n      var u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n        var t = a.current,\n          i = o.current,\n          n = t || (i ? i instanceof Element ? i : i.current : null);\n        s.current && s.current.element === n && s.current.subscriber === e || (s.current && s.current.cleanup && s.current.cleanup(), s.current = {\n          element: n,\n          subscriber: e,\n          cleanup: n ? e(n) : void 0\n        });\n      }, [e]);\n      return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n        return function () {\n          s.current && s.current.cleanup && (s.current.cleanup(), s.current = null);\n        };\n      }, []), (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (e) {\n        a.current = e, u();\n      }, [u]);\n    }((0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (t) {\n      return h.current && h.current.box === e.box && h.current.round === u || (h.current = {\n        box: e.box,\n        round: u,\n        instance: new ResizeObserver(function (t) {\n          var i = t[0],\n            n = \"border-box\" === e.box ? \"borderBoxSize\" : \"device-pixel-content-box\" === e.box ? \"devicePixelContentBoxSize\" : \"contentBoxSize\",\n            r = I(i, n, \"inlineSize\"),\n            s = I(i, n, \"blockSize\"),\n            o = r ? u(r) : void 0,\n            h = s ? u(s) : void 0;\n          if (d.current.width !== o || d.current.height !== h) {\n            var c = {\n              width: o,\n              height: h\n            };\n            d.current.width = o, d.current.height = h, a.current ? a.current(c) : m.current || f(c);\n          }\n        })\n      }), h.current.instance.observe(t, {\n        box: e.box\n      }), function () {\n        h.current && h.current.instance.unobserve(t);\n      };\n    }, [e.box, u]), e.ref);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return {\n      ref: p,\n      width: l.width,\n      height: l.height\n    };\n  }, [p, l.width, l.height]);\n}\nvar E = \"allotment-module_splitView__L-yRc\",\n  V = \"allotment-module_sashContainer__fzwJF\",\n  j = \"allotment-module_splitViewContainer__rQnVa\",\n  N = \"allotment-module_splitViewView__MGZ6O\",\n  L = \"allotment-module_vertical__WSwwa\",\n  D = \"allotment-module_horizontal__7doS8\",\n  O = \"allotment-module_separatorBorder__x-rDS\";\nlet M,\n  P = !1,\n  A = !1;\n\"object\" == typeof navigator && (M = navigator.userAgent, A = M.indexOf(\"Macintosh\") >= 0, P = (M.indexOf(\"Macintosh\") >= 0 || M.indexOf(\"iPad\") >= 0 || M.indexOf(\"iPhone\") >= 0) && !!navigator.maxTouchPoints && navigator.maxTouchPoints > 0);\nconst T = P,\n  C = A,\n  F = \"undefined\" != typeof window && void 0 !== window.document && void 0 !== window.document.createElement ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nclass k {\n  constructor() {\n    this._size = void 0;\n  }\n  getSize() {\n    return this._size;\n  }\n  setSize(e) {\n    this._size = e;\n  }\n}\nfunction $(e, t) {\n  const i = e.length,\n    n = i - t.length;\n  return n >= 0 && e.slice(n, i) === t;\n}\nvar H = {};\n!function (e) {\n  var t = Object.prototype.hasOwnProperty,\n    i = \"~\";\n  function n() {}\n  function r(e, t, i) {\n    this.fn = e, this.context = t, this.once = i || !1;\n  }\n  function s(e, t, n, s, o) {\n    if (\"function\" != typeof n) throw new TypeError(\"The listener must be a function\");\n    var a = new r(n, s || e, o),\n      u = i ? i + t : t;\n    return e._events[u] ? e._events[u].fn ? e._events[u] = [e._events[u], a] : e._events[u].push(a) : (e._events[u] = a, e._eventsCount++), e;\n  }\n  function o(e, t) {\n    0 == --e._eventsCount ? e._events = new n() : delete e._events[t];\n  }\n  function a() {\n    this._events = new n(), this._eventsCount = 0;\n  }\n  Object.create && (n.prototype = Object.create(null), new n().__proto__ || (i = !1)), a.prototype.eventNames = function () {\n    var e,\n      n,\n      r = [];\n    if (0 === this._eventsCount) return r;\n    for (n in e = this._events) t.call(e, n) && r.push(i ? n.slice(1) : n);\n    return Object.getOwnPropertySymbols ? r.concat(Object.getOwnPropertySymbols(e)) : r;\n  }, a.prototype.listeners = function (e) {\n    var t = i ? i + e : e,\n      n = this._events[t];\n    if (!n) return [];\n    if (n.fn) return [n.fn];\n    for (var r = 0, s = n.length, o = new Array(s); r < s; r++) o[r] = n[r].fn;\n    return o;\n  }, a.prototype.listenerCount = function (e) {\n    var t = i ? i + e : e,\n      n = this._events[t];\n    return n ? n.fn ? 1 : n.length : 0;\n  }, a.prototype.emit = function (e, t, n, r, s, o) {\n    var a = i ? i + e : e;\n    if (!this._events[a]) return !1;\n    var u,\n      h,\n      c = this._events[a],\n      l = arguments.length;\n    if (c.fn) {\n      switch (c.once && this.removeListener(e, c.fn, void 0, !0), l) {\n        case 1:\n          return c.fn.call(c.context), !0;\n        case 2:\n          return c.fn.call(c.context, t), !0;\n        case 3:\n          return c.fn.call(c.context, t, n), !0;\n        case 4:\n          return c.fn.call(c.context, t, n, r), !0;\n        case 5:\n          return c.fn.call(c.context, t, n, r, s), !0;\n        case 6:\n          return c.fn.call(c.context, t, n, r, s, o), !0;\n      }\n      for (h = 1, u = new Array(l - 1); h < l; h++) u[h - 1] = arguments[h];\n      c.fn.apply(c.context, u);\n    } else {\n      var f,\n        m = c.length;\n      for (h = 0; h < m; h++) switch (c[h].once && this.removeListener(e, c[h].fn, void 0, !0), l) {\n        case 1:\n          c[h].fn.call(c[h].context);\n          break;\n        case 2:\n          c[h].fn.call(c[h].context, t);\n          break;\n        case 3:\n          c[h].fn.call(c[h].context, t, n);\n          break;\n        case 4:\n          c[h].fn.call(c[h].context, t, n, r);\n          break;\n        default:\n          if (!u) for (f = 1, u = new Array(l - 1); f < l; f++) u[f - 1] = arguments[f];\n          c[h].fn.apply(c[h].context, u);\n      }\n    }\n    return !0;\n  }, a.prototype.on = function (e, t, i) {\n    return s(this, e, t, i, !1);\n  }, a.prototype.once = function (e, t, i) {\n    return s(this, e, t, i, !0);\n  }, a.prototype.removeListener = function (e, t, n, r) {\n    var s = i ? i + e : e;\n    if (!this._events[s]) return this;\n    if (!t) return o(this, s), this;\n    var a = this._events[s];\n    if (a.fn) a.fn !== t || r && !a.once || n && a.context !== n || o(this, s);else {\n      for (var u = 0, h = [], c = a.length; u < c; u++) (a[u].fn !== t || r && !a[u].once || n && a[u].context !== n) && h.push(a[u]);\n      h.length ? this._events[s] = 1 === h.length ? h[0] : h : o(this, s);\n    }\n    return this;\n  }, a.prototype.removeAllListeners = function (e) {\n    var t;\n    return e ? (t = i ? i + e : e, this._events[t] && o(this, t)) : (this._events = new n(), this._eventsCount = 0), this;\n  }, a.prototype.off = a.prototype.removeListener, a.prototype.addListener = a.prototype.on, a.prefixed = i, a.EventEmitter = a, e.exports = a;\n}({\n  get exports() {\n    return H;\n  },\n  set exports(e) {\n    H = e;\n  }\n});\nfunction Y(e, t) {\n  const i = e.indexOf(t);\n  i > -1 && (e.splice(i, 1), e.unshift(t));\n}\nfunction B(e, t) {\n  const i = e.indexOf(t);\n  i > -1 && (e.splice(i, 1), e.push(t));\n}\nfunction R(e, t, i = 1) {\n  const n = Math.max(0, Math.ceil((t - e) / i)),\n    r = new Array(n);\n  let s = -1;\n  for (; ++s < n;) r[s] = e + s * i;\n  return r;\n}\nvar W = /^\\s+|\\s+$/g,\n  G = /^[-+]0x[0-9a-f]+$/i,\n  U = /^0b[01]+$/i,\n  X = /^0o[0-7]+$/i,\n  J = parseInt,\n  K = \"object\" == typeof w && w && w.Object === Object && w,\n  Z = \"object\" == typeof self && self && self.Object === Object && self,\n  Q = K || Z || Function(\"return this\")(),\n  q = Object.prototype.toString,\n  ee = Math.max,\n  te = Math.min,\n  ie = function ie() {\n    return Q.Date.now();\n  };\nfunction ne(e) {\n  var t = typeof e;\n  return !!e && (\"object\" == t || \"function\" == t);\n}\nfunction re(e) {\n  if (\"number\" == typeof e) return e;\n  if (function (e) {\n    return \"symbol\" == typeof e || function (e) {\n      return !!e && \"object\" == typeof e;\n    }(e) && \"[object Symbol]\" == q.call(e);\n  }(e)) return NaN;\n  if (ne(e)) {\n    var t = \"function\" == typeof e.valueOf ? e.valueOf() : e;\n    e = ne(t) ? t + \"\" : t;\n  }\n  if (\"string\" != typeof e) return 0 === e ? e : +e;\n  e = e.replace(W, \"\");\n  var i = U.test(e);\n  return i || X.test(e) ? J(e.slice(2), i ? 2 : 8) : G.test(e) ? NaN : +e;\n}\nvar se = function se(e, t, i) {\n    var n,\n      r,\n      s,\n      o,\n      a,\n      u,\n      h = 0,\n      c = !1,\n      l = !1,\n      f = !0;\n    if (\"function\" != typeof e) throw new TypeError(\"Expected a function\");\n    function m(t) {\n      var i = n,\n        s = r;\n      return n = r = void 0, h = t, o = e.apply(s, i);\n    }\n    function d(e) {\n      return h = e, a = setTimeout(v, t), c ? m(e) : o;\n    }\n    function p(e) {\n      var i = e - u;\n      return void 0 === u || i >= t || i < 0 || l && e - h >= s;\n    }\n    function v() {\n      var e = ie();\n      if (p(e)) return y(e);\n      a = setTimeout(v, function (e) {\n        var i = t - (e - u);\n        return l ? te(i, s - (e - h)) : i;\n      }(e));\n    }\n    function y(e) {\n      return a = void 0, f && n ? m(e) : (n = r = void 0, o);\n    }\n    function g() {\n      var e = ie(),\n        i = p(e);\n      if (n = arguments, r = this, u = e, i) {\n        if (void 0 === a) return d(u);\n        if (l) return a = setTimeout(v, t), m(u);\n      }\n      return void 0 === a && (a = setTimeout(v, t)), o;\n    }\n    return t = re(t) || 0, ne(i) && (c = !!i.leading, s = (l = \"maxWait\" in i) ? ee(re(i.maxWait) || 0, t) : s, f = \"trailing\" in i ? !!i.trailing : f), g.cancel = function () {\n      void 0 !== a && clearTimeout(a), h = 0, n = u = r = a = void 0;\n    }, g.flush = function () {\n      return void 0 === a ? o : y(ie());\n    }, g;\n  },\n  oe = \"sash-module_sash__K-9lB\",\n  ae = \"sash-module_disabled__Hm-wx\",\n  ue = \"sash-module_mac__Jf6OJ\",\n  he = \"sash-module_vertical__pB-rs\",\n  ce = \"sash-module_minimum__-UKxp\",\n  le = \"sash-module_maximum__TCWxD\",\n  fe = \"sash-module_horizontal__kFbiw\",\n  me = \"sash-module_hover__80W6I\",\n  de = \"sash-module_active__bJspD\";\nlet pe = function (e) {\n    return e.Vertical = \"VERTICAL\", e.Horizontal = \"HORIZONTAL\", e;\n  }({}),\n  ve = function (e) {\n    return e.Disabled = \"DISABLED\", e.Minimum = \"MINIMUM\", e.Maximum = \"MAXIMUM\", e.Enabled = \"ENABLED\", e;\n  }({}),\n  ye = T ? 20 : 8;\nconst ge = new H();\nclass be extends H {\n  get state() {\n    return this._state;\n  }\n  set state(e) {\n    this._state !== e && (this.el.classList.toggle(ae, e === ve.Disabled), this.el.classList.toggle(\"dash-disabled\", e === ve.Disabled), this.el.classList.toggle(ce, e === ve.Minimum), this.el.classList.toggle(\"sash-minimum\", e === ve.Minimum), this.el.classList.toggle(le, e === ve.Maximum), this.el.classList.toggle(\"sash-maximum\", e === ve.Maximum), this._state = e, this.emit(\"enablementChange\", e));\n  }\n  constructor(e, t, i) {\n    var _i$orientation;\n    super(), this.el = void 0, this.layoutProvider = void 0, this.orientation = void 0, this.size = void 0, this.hoverDelay = 300, this.hoverDelayer = se(e => e.classList.add(\"sash-hover\", me), this.hoverDelay), this._state = ve.Enabled, this.onPointerStart = e => {\n      const t = e.pageX,\n        i = e.pageY,\n        n = {\n          startX: t,\n          currentX: t,\n          startY: i,\n          currentY: i\n        };\n      this.el.classList.add(\"sash-active\", de), this.emit(\"start\", n), this.el.setPointerCapture(e.pointerId);\n      const r = e => {\n          e.preventDefault();\n          const n = {\n            startX: t,\n            currentX: e.pageX,\n            startY: i,\n            currentY: e.pageY\n          };\n          this.emit(\"change\", n);\n        },\n        s = e => {\n          e.preventDefault(), this.el.classList.remove(\"sash-active\", de), this.hoverDelayer.cancel(), this.emit(\"end\"), this.el.releasePointerCapture(e.pointerId), window.removeEventListener(\"pointermove\", r), window.removeEventListener(\"pointerup\", s);\n        };\n      window.addEventListener(\"pointermove\", r), window.addEventListener(\"pointerup\", s);\n    }, this.onPointerDoublePress = () => {\n      this.emit(\"reset\");\n    }, this.onMouseEnter = () => {\n      this.el.classList.contains(de) ? (this.hoverDelayer.cancel(), this.el.classList.add(\"sash-hover\", me)) : this.hoverDelayer(this.el);\n    }, this.onMouseLeave = () => {\n      this.hoverDelayer.cancel(), this.el.classList.remove(\"sash-hover\", me);\n    }, this.el = document.createElement(\"div\"), this.el.classList.add(\"sash\", oe), this.el.dataset.testid = \"sash\", e.append(this.el), C && this.el.classList.add(\"sash-mac\", ue), this.el.addEventListener(\"pointerdown\", this.onPointerStart), this.el.addEventListener(\"dblclick\", this.onPointerDoublePress), this.el.addEventListener(\"mouseenter\", this.onMouseEnter), this.el.addEventListener(\"mouseleave\", this.onMouseLeave), \"number\" == typeof i.size ? (this.size = i.size, i.orientation === pe.Vertical ? this.el.style.width = `${this.size}px` : this.el.style.height = `${this.size}px`) : (this.size = ye, ge.on(\"onDidChangeGlobalSize\", e => {\n      this.size = e, this.layout();\n    })), this.layoutProvider = t, this.orientation = (_i$orientation = i.orientation) != null ? _i$orientation : pe.Vertical, this.orientation === pe.Horizontal ? (this.el.classList.add(\"sash-horizontal\", fe), this.el.classList.remove(\"sash-vertical\", he)) : (this.el.classList.remove(\"sash-horizontal\", fe), this.el.classList.add(\"sash-vertical\", he)), this.layout();\n  }\n  layout() {\n    if (this.orientation === pe.Vertical) {\n      const e = this.layoutProvider;\n      this.el.style.left = e.getVerticalSashLeft(this) - this.size / 2 + \"px\", e.getVerticalSashTop && (this.el.style.top = e.getVerticalSashTop(this) + \"px\"), e.getVerticalSashHeight && (this.el.style.height = e.getVerticalSashHeight(this) + \"px\");\n    } else {\n      const e = this.layoutProvider;\n      this.el.style.top = e.getHorizontalSashTop(this) - this.size / 2 + \"px\", e.getHorizontalSashLeft && (this.el.style.left = e.getHorizontalSashLeft(this) + \"px\"), e.getHorizontalSashWidth && (this.el.style.width = e.getHorizontalSashWidth(this) + \"px\");\n    }\n  }\n  dispose() {\n    this.el.removeEventListener(\"pointerdown\", this.onPointerStart), this.el.removeEventListener(\"dblclick\", this.onPointerDoublePress), this.el.removeEventListener(\"mouseenter\", this.onMouseEnter), this.el.removeEventListener(\"mouseleave\", () => this.onMouseLeave), this.el.remove();\n  }\n}\nlet ze;\nvar we;\n(we = ze || (ze = {})).Distribute = {\n  type: \"distribute\"\n}, we.Split = function (e) {\n  return {\n    type: \"split\",\n    index: e\n  };\n}, we.Invisible = function (e) {\n  return {\n    type: \"invisible\",\n    cachedVisibleSize: e\n  };\n};\nlet Se = function (e) {\n  return e.Normal = \"NORMAL\", e.Low = \"LOW\", e.High = \"HIGH\", e;\n}({});\nclass _e {\n  constructor(e, t, i) {\n    this.container = void 0, this.view = void 0, this._size = void 0, this._cachedVisibleSize = void 0, this.container = e, this.view = t, this.container.classList.add(\"split-view-view\", N), this.container.dataset.testid = \"split-view-view\", \"number\" == typeof i ? (this._size = i, this._cachedVisibleSize = void 0, e.classList.add(\"split-view-view-visible\")) : (this._size = 0, this._cachedVisibleSize = i.cachedVisibleSize);\n  }\n  set size(e) {\n    this._size = e;\n  }\n  get size() {\n    return this._size;\n  }\n  get priority() {\n    return this.view.priority;\n  }\n  get snap() {\n    return !!this.view.snap;\n  }\n  get cachedVisibleSize() {\n    return this._cachedVisibleSize;\n  }\n  get visible() {\n    return void 0 === this._cachedVisibleSize;\n  }\n  setVisible(e, t) {\n    e !== this.visible && (e ? (this.size = z(this._cachedVisibleSize, this.viewMinimumSize, this.viewMaximumSize), this._cachedVisibleSize = void 0) : (this._cachedVisibleSize = \"number\" == typeof t ? t : this.size, this.size = 0), this.container.classList.toggle(\"split-view-view-visible\", e), this.view.setVisible && this.view.setVisible(e));\n  }\n  get minimumSize() {\n    return this.visible ? this.view.minimumSize : 0;\n  }\n  get viewMinimumSize() {\n    return this.view.minimumSize;\n  }\n  get maximumSize() {\n    return this.visible ? this.view.maximumSize : 0;\n  }\n  get viewMaximumSize() {\n    return this.view.maximumSize;\n  }\n  set enabled(e) {\n    this.container.style.pointerEvents = e ? \"\" : \"none\";\n  }\n  layout(e) {\n    this.layoutContainer(e), this.view.layout(this.size, e);\n  }\n}\nclass Ie extends _e {\n  layoutContainer(e) {\n    this.container.style.left = `${e}px`, this.container.style.width = `${this.size}px`;\n  }\n}\nclass xe extends _e {\n  layoutContainer(e) {\n    this.container.style.top = `${e}px`, this.container.style.height = `${this.size}px`;\n  }\n}\nclass Ee extends H {\n  get startSnappingEnabled() {\n    return this._startSnappingEnabled;\n  }\n  set startSnappingEnabled(e) {\n    this._startSnappingEnabled !== e && (this._startSnappingEnabled = e, this.updateSashEnablement());\n  }\n  get endSnappingEnabled() {\n    return this._endSnappingEnabled;\n  }\n  set endSnappingEnabled(e) {\n    this._endSnappingEnabled !== e && (this._endSnappingEnabled = e, this.updateSashEnablement());\n  }\n  constructor(e, t = {}, i, n, r) {\n    var _t$orientation, _t$proportionalLayout;\n    if (super(), this.onDidChange = void 0, this.onDidDragStart = void 0, this.onDidDragEnd = void 0, this.orientation = void 0, this.sashContainer = void 0, this.size = 0, this.contentSize = 0, this.proportions = void 0, this.viewItems = [], this.sashItems = [], this.sashDragState = void 0, this.proportionalLayout = void 0, this.getSashOrthogonalSize = void 0, this._startSnappingEnabled = !0, this._endSnappingEnabled = !0, this.onSashEnd = e => {\n      this.emit(\"sashchange\", e), this.saveProportions();\n      for (const _e2 of this.viewItems) _e2.enabled = !0;\n    }, this.orientation = (_t$orientation = t.orientation) != null ? _t$orientation : pe.Vertical, this.proportionalLayout = (_t$proportionalLayout = t.proportionalLayout) != null ? _t$proportionalLayout : !0, this.getSashOrthogonalSize = t.getSashOrthogonalSize, i && (this.onDidChange = i), n && (this.onDidDragStart = n), r && (this.onDidDragEnd = r), this.sashContainer = document.createElement(\"div\"), this.sashContainer.classList.add(\"sash-container\", V), e.prepend(this.sashContainer), t.descriptor) {\n      this.size = t.descriptor.size;\n      for (const [_e3, _i] of t.descriptor.views.entries()) {\n        const _t = _i.size,\n          _n = _i.container,\n          _r = _i.view;\n        this.addView(_n, _r, _t, _e3, !0);\n      }\n      this.contentSize = this.viewItems.reduce((e, t) => e + t.size, 0), this.saveProportions();\n    }\n  }\n  addView(e, t, i, n = this.viewItems.length, r) {\n    let s;\n    s = \"number\" == typeof i ? i : \"split\" === i.type ? this.getViewSize(i.index) / 2 : \"invisible\" === i.type ? {\n      cachedVisibleSize: i.cachedVisibleSize\n    } : t.minimumSize;\n    const o = this.orientation === pe.Vertical ? new xe(e, t, s) : new Ie(e, t, s);\n    if (this.viewItems.splice(n, 0, o), this.viewItems.length > 1) {\n      const _e4 = this.orientation === pe.Vertical ? new be(this.sashContainer, {\n          getHorizontalSashTop: e => this.getSashPosition(e),\n          getHorizontalSashWidth: this.getSashOrthogonalSize\n        }, {\n          orientation: pe.Horizontal\n        }) : new be(this.sashContainer, {\n          getVerticalSashLeft: e => this.getSashPosition(e),\n          getVerticalSashHeight: this.getSashOrthogonalSize\n        }, {\n          orientation: pe.Vertical\n        }),\n        _t2 = this.orientation === pe.Vertical ? t => ({\n          sash: _e4,\n          start: t.startY,\n          current: t.currentY\n        }) : t => ({\n          sash: _e4,\n          start: t.startX,\n          current: t.currentX\n        });\n      _e4.on(\"start\", e => {\n        var _this$onDidDragStart;\n        this.emit(\"sashDragStart\"), this.onSashStart(_t2(e));\n        const i = this.viewItems.map(e => e.size);\n        (_this$onDidDragStart = this.onDidDragStart) == null ? void 0 : _this$onDidDragStart.call(this, i);\n      }), _e4.on(\"change\", e => this.onSashChange(_t2(e))), _e4.on(\"end\", () => {\n        var _this$onDidDragEnd;\n        this.emit(\"sashDragEnd\"), this.onSashEnd(this.sashItems.findIndex(t => t.sash === _e4));\n        const t = this.viewItems.map(e => e.size);\n        (_this$onDidDragEnd = this.onDidDragEnd) == null ? void 0 : _this$onDidDragEnd.call(this, t);\n      }), _e4.on(\"reset\", () => {\n        const t = this.sashItems.findIndex(t => t.sash === _e4),\n          i = R(t, -1, -1),\n          n = R(t + 1, this.viewItems.length),\n          r = this.findFirstSnapIndex(i),\n          s = this.findFirstSnapIndex(n);\n        (\"number\" != typeof r || this.viewItems[r].visible) && (\"number\" != typeof s || this.viewItems[s].visible) && this.emit(\"sashreset\", t);\n      });\n      const _i2 = {\n        sash: _e4\n      };\n      this.sashItems.splice(n - 1, 0, _i2);\n    }\n    r || this.relayout(), r || \"number\" == typeof i || \"distribute\" !== i.type || this.distributeViewSizes();\n  }\n  removeView(e, t) {\n    if (e < 0 || e >= this.viewItems.length) throw new Error(\"Index out of bounds\");\n    const i = this.viewItems.splice(e, 1)[0].view;\n    if (this.viewItems.length >= 1) {\n      const _t3 = Math.max(e - 1, 0);\n      this.sashItems.splice(_t3, 1)[0].sash.dispose();\n    }\n    return this.relayout(), t && \"distribute\" === t.type && this.distributeViewSizes(), i;\n  }\n  moveView(e, t, i) {\n    const n = this.getViewCachedVisibleSize(t),\n      r = void 0 === n ? this.getViewSize(t) : ze.Invisible(n),\n      s = this.removeView(t);\n    this.addView(e, s, r, i);\n  }\n  getViewCachedVisibleSize(e) {\n    if (e < 0 || e >= this.viewItems.length) throw new Error(\"Index out of bounds\");\n    return this.viewItems[e].cachedVisibleSize;\n  }\n  layout(e = this.size) {\n    const t = Math.max(this.size, this.contentSize);\n    if (this.size = e, this.proportions) for (let _t4 = 0; _t4 < this.viewItems.length; _t4++) {\n      const i = this.viewItems[_t4];\n      i.size = z(Math.round(this.proportions[_t4] * e), i.minimumSize, i.maximumSize);\n    } else {\n      const i = R(0, this.viewItems.length),\n        n = i.filter(e => this.viewItems[e].priority === Se.Low),\n        r = i.filter(e => this.viewItems[e].priority === Se.High);\n      this.resize(this.viewItems.length - 1, e - t, void 0, n, r);\n    }\n    this.distributeEmptySpace(), this.layoutViews();\n  }\n  resizeView(e, t) {\n    if (e < 0 || e >= this.viewItems.length) return;\n    const i = R(0, this.viewItems.length).filter(t => t !== e),\n      n = [...i.filter(e => this.viewItems[e].priority === Se.Low), e],\n      r = i.filter(e => this.viewItems[e].priority === Se.High),\n      s = this.viewItems[e];\n    t = Math.round(t), t = z(t, s.minimumSize, Math.min(s.maximumSize, this.size)), s.size = t, this.relayout(n, r);\n  }\n  resizeViews(e) {\n    for (let t = 0; t < e.length; t++) {\n      const i = this.viewItems[t];\n      let n = e[t];\n      n = Math.round(n), n = z(n, i.minimumSize, Math.min(i.maximumSize, this.size)), i.size = n;\n    }\n    this.contentSize = this.viewItems.reduce((e, t) => e + t.size, 0), this.saveProportions(), this.layout(this.size);\n  }\n  getViewSize(e) {\n    return e < 0 || e >= this.viewItems.length ? -1 : this.viewItems[e].size;\n  }\n  isViewVisible(e) {\n    if (e < 0 || e >= this.viewItems.length) throw new Error(\"Index out of bounds\");\n    return this.viewItems[e].visible;\n  }\n  setViewVisible(e, t) {\n    if (e < 0 || e >= this.viewItems.length) throw new Error(\"Index out of bounds\");\n    this.viewItems[e].setVisible(t), this.distributeEmptySpace(e), this.layoutViews(), this.saveProportions();\n  }\n  distributeViewSizes() {\n    const e = [];\n    let t = 0;\n    for (const _i3 of this.viewItems) _i3.maximumSize - _i3.minimumSize > 0 && (e.push(_i3), t += _i3.size);\n    const i = Math.floor(t / e.length);\n    for (const _t5 of e) _t5.size = z(i, _t5.minimumSize, _t5.maximumSize);\n    const n = R(0, this.viewItems.length),\n      r = n.filter(e => this.viewItems[e].priority === Se.Low),\n      s = n.filter(e => this.viewItems[e].priority === Se.High);\n    this.relayout(r, s);\n  }\n  dispose() {\n    this.sashItems.forEach(e => e.sash.dispose()), this.sashItems = [], this.sashContainer.remove();\n  }\n  relayout(e, t) {\n    const i = this.viewItems.reduce((e, t) => e + t.size, 0);\n    this.resize(this.viewItems.length - 1, this.size - i, void 0, e, t), this.distributeEmptySpace(), this.layoutViews(), this.saveProportions();\n  }\n  onSashStart({\n    sash: e,\n    start: t\n  }) {\n    const i = this.sashItems.findIndex(t => t.sash === e);\n    (e => {\n      const t = this.viewItems.map(e => e.size);\n      let n,\n        r,\n        s = Number.NEGATIVE_INFINITY,\n        o = Number.POSITIVE_INFINITY;\n      const a = R(i, -1, -1),\n        u = R(i + 1, this.viewItems.length),\n        h = a.reduce((e, i) => e + (this.viewItems[i].minimumSize - t[i]), 0),\n        c = a.reduce((e, i) => e + (this.viewItems[i].viewMaximumSize - t[i]), 0),\n        l = 0 === u.length ? Number.POSITIVE_INFINITY : u.reduce((e, i) => e + (t[i] - this.viewItems[i].minimumSize), 0),\n        f = 0 === u.length ? Number.NEGATIVE_INFINITY : u.reduce((e, i) => e + (t[i] - this.viewItems[i].viewMaximumSize), 0);\n      s = Math.max(h, f), o = Math.min(l, c);\n      const m = this.findFirstSnapIndex(a),\n        d = this.findFirstSnapIndex(u);\n      if (\"number\" == typeof m) {\n        const _e5 = this.viewItems[m],\n          _t6 = Math.floor(_e5.viewMinimumSize / 2);\n        n = {\n          index: m,\n          limitDelta: _e5.visible ? s - _t6 : s + _t6,\n          size: _e5.size\n        };\n      }\n      if (\"number\" == typeof d) {\n        const _e6 = this.viewItems[d],\n          _t7 = Math.floor(_e6.viewMinimumSize / 2);\n        r = {\n          index: d,\n          limitDelta: _e6.visible ? o + _t7 : o - _t7,\n          size: _e6.size\n        };\n      }\n      this.sashDragState = {\n        start: e,\n        current: e,\n        index: i,\n        sizes: t,\n        minDelta: s,\n        maxDelta: o,\n        snapBefore: n,\n        snapAfter: r\n      };\n    })(t);\n  }\n  onSashChange({\n    current: e\n  }) {\n    const {\n      index: t,\n      start: i,\n      sizes: n,\n      minDelta: r,\n      maxDelta: s,\n      snapBefore: o,\n      snapAfter: a\n    } = this.sashDragState;\n    this.sashDragState.current = e;\n    const u = e - i;\n    this.resize(t, u, n, void 0, void 0, r, s, o, a), this.distributeEmptySpace(), this.layoutViews();\n  }\n  getSashPosition(e) {\n    let t = 0;\n    for (let i = 0; i < this.sashItems.length; i++) if (t += this.viewItems[i].size, this.sashItems[i].sash === e) return t;\n    return 0;\n  }\n  resize(e, t, i = this.viewItems.map(e => e.size), n, r, s = Number.NEGATIVE_INFINITY, o = Number.POSITIVE_INFINITY, a, u) {\n    if (e < 0 || e >= this.viewItems.length) return 0;\n    const h = R(e, -1, -1),\n      c = R(e + 1, this.viewItems.length);\n    if (r) for (const _e7 of r) Y(h, _e7), Y(c, _e7);\n    if (n) for (const _e8 of n) B(h, _e8), B(c, _e8);\n    const l = h.map(e => this.viewItems[e]),\n      f = h.map(e => i[e]),\n      m = c.map(e => this.viewItems[e]),\n      d = c.map(e => i[e]),\n      p = h.reduce((e, t) => e + (this.viewItems[t].minimumSize - i[t]), 0),\n      v = h.reduce((e, t) => e + (this.viewItems[t].maximumSize - i[t]), 0),\n      y = 0 === c.length ? Number.POSITIVE_INFINITY : c.reduce((e, t) => e + (i[t] - this.viewItems[t].minimumSize), 0),\n      g = 0 === c.length ? Number.NEGATIVE_INFINITY : c.reduce((e, t) => e + (i[t] - this.viewItems[t].maximumSize), 0),\n      b = Math.max(p, g, s),\n      w = Math.min(y, v, o);\n    let S = !1;\n    if (a) {\n      const _e9 = this.viewItems[a.index],\n        _i4 = t >= a.limitDelta;\n      S = _i4 !== _e9.visible, _e9.setVisible(_i4, a.size);\n    }\n    if (!S && u) {\n      const _e10 = this.viewItems[u.index],\n        _i5 = t < u.limitDelta;\n      S = _i5 !== _e10.visible, _e10.setVisible(_i5, u.size);\n    }\n    if (S) return this.resize(e, t, i, n, r, s, o);\n    for (let _e11 = 0, _i6 = t = z(t, b, w); _e11 < l.length; _e11++) {\n      const _t8 = l[_e11],\n        _n2 = z(f[_e11] + _i6, _t8.minimumSize, _t8.maximumSize);\n      _i6 -= _n2 - f[_e11], _t8.size = _n2;\n    }\n    for (let _e12 = 0, _i7 = t; _e12 < m.length; _e12++) {\n      const _t9 = m[_e12],\n        _n3 = z(d[_e12] - _i7, _t9.minimumSize, _t9.maximumSize);\n      _i7 += _n3 - d[_e12], _t9.size = _n3;\n    }\n    return t;\n  }\n  distributeEmptySpace(e) {\n    const t = this.viewItems.reduce((e, t) => e + t.size, 0);\n    let i = this.size - t;\n    const n = R(this.viewItems.length - 1, -1, -1);\n    \"number\" == typeof e && B(n, e);\n    for (let _e13 = 0; 0 !== i && _e13 < n.length; _e13++) {\n      const _t10 = this.viewItems[n[_e13]],\n        r = z(_t10.size + i, _t10.minimumSize, _t10.maximumSize);\n      i -= r - _t10.size, _t10.size = r;\n    }\n  }\n  layoutViews() {\n    var _this$onDidChange;\n    this.contentSize = this.viewItems.reduce((e, t) => e + t.size, 0);\n    let e = 0;\n    for (const t of this.viewItems) t.layout(e), e += t.size;\n    (_this$onDidChange = this.onDidChange) != null && _this$onDidChange.call(this, this.viewItems.map(e => e.size)), this.sashItems.forEach(e => e.sash.layout()), this.updateSashEnablement();\n  }\n  saveProportions() {\n    this.proportionalLayout && this.contentSize > 0 && (this.proportions = this.viewItems.map(e => e.size / this.contentSize));\n  }\n  updateSashEnablement() {\n    let e = !1;\n    const t = this.viewItems.map(t => e = t.size - t.minimumSize > 0 || e);\n    e = !1;\n    const i = this.viewItems.map(t => e = t.maximumSize - t.size > 0 || e),\n      n = [...this.viewItems].reverse();\n    e = !1;\n    const r = n.map(t => e = t.size - t.minimumSize > 0 || e).reverse();\n    e = !1;\n    const s = n.map(t => e = t.maximumSize - t.size > 0 || e).reverse();\n    let o = 0;\n    for (let _e14 = 0; _e14 < this.sashItems.length; _e14++) {\n      const {\n        sash: _n4\n      } = this.sashItems[_e14];\n      o += this.viewItems[_e14].size;\n      const a = !(t[_e14] && s[_e14 + 1]),\n        u = !(i[_e14] && r[_e14 + 1]);\n      if (a && u) {\n        const _i8 = R(_e14, -1, -1),\n          _s = R(_e14 + 1, this.viewItems.length),\n          _a = this.findFirstSnapIndex(_i8),\n          _u = this.findFirstSnapIndex(_s),\n          h = \"number\" == typeof _a && !this.viewItems[_a].visible,\n          c = \"number\" == typeof _u && !this.viewItems[_u].visible;\n        h && r[_e14] && (o > 0 || this.startSnappingEnabled) ? _n4.state = ve.Minimum : c && t[_e14] && (o < this.contentSize || this.endSnappingEnabled) ? _n4.state = ve.Maximum : _n4.state = ve.Disabled;\n      } else _n4.state = a && !u ? ve.Minimum : !a && u ? ve.Maximum : ve.Enabled;\n    }\n  }\n  findFirstSnapIndex(e) {\n    for (const t of e) {\n      const _e15 = this.viewItems[t];\n      if (_e15.visible && _e15.snap) return t;\n    }\n    for (const t of e) {\n      const _e16 = this.viewItems[t];\n      if (_e16.visible && _e16.maximumSize - _e16.minimumSize > 0) return;\n      if (!_e16.visible && _e16.snap) return t;\n    }\n  }\n}\nclass Ve {\n  constructor(e) {\n    this.size = void 0, this.size = e;\n  }\n  getPreferredSize() {\n    return this.size;\n  }\n}\nclass je {\n  constructor(e, t) {\n    this.proportion = void 0, this.layoutService = void 0, this.proportion = e, this.layoutService = t;\n  }\n  getPreferredSize() {\n    return this.proportion * this.layoutService.getSize();\n  }\n}\nclass Ne {\n  getPreferredSize() {}\n}\nclass Le {\n  get preferredSize() {\n    return this.layoutStrategy.getPreferredSize();\n  }\n  set preferredSize(e) {\n    if (\"number\" == typeof e) this.layoutStrategy = new Ve(e);else if (\"string\" == typeof e) {\n      const t = e.trim();\n      if ($(t, \"%\")) {\n        const _e17 = Number(t.slice(0, -1)) / 100;\n        this.layoutStrategy = new je(_e17, this.layoutService);\n      } else if ($(t, \"px\")) {\n        const _e18 = Number(t.slice(0, -2)) / 100;\n        this.layoutStrategy = new Ve(_e18);\n      } else if (\"number\" == typeof Number.parseFloat(t)) {\n        const _e19 = Number.parseFloat(t);\n        this.layoutStrategy = new Ve(_e19);\n      } else this.layoutStrategy = new Ne();\n    } else this.layoutStrategy = new Ne();\n  }\n  constructor(e, t) {\n    var _t$priority;\n    if (this.minimumSize = 0, this.maximumSize = Number.POSITIVE_INFINITY, this.element = void 0, this.priority = void 0, this.snap = void 0, this.layoutService = void 0, this.layoutStrategy = void 0, this.layoutService = e, this.element = t.element, this.minimumSize = \"number\" == typeof t.minimumSize ? t.minimumSize : 30, this.maximumSize = \"number\" == typeof t.maximumSize ? t.maximumSize : Number.POSITIVE_INFINITY, \"number\" == typeof t.preferredSize) this.layoutStrategy = new Ve(t.preferredSize);else if (\"string\" == typeof t.preferredSize) {\n      const _e20 = t.preferredSize.trim();\n      if ($(_e20, \"%\")) {\n        const _t11 = Number(_e20.slice(0, -1)) / 100;\n        this.layoutStrategy = new je(_t11, this.layoutService);\n      } else if ($(_e20, \"px\")) {\n        const _t12 = Number(_e20.slice(0, -2));\n        this.layoutStrategy = new Ve(_t12);\n      } else if (\"number\" == typeof Number.parseFloat(_e20)) {\n        const _t13 = Number.parseFloat(_e20);\n        this.layoutStrategy = new Ve(_t13);\n      } else this.layoutStrategy = new Ne();\n    } else this.layoutStrategy = new Ne();\n    this.priority = (_t$priority = t.priority) != null ? _t$priority : Se.Normal, this.snap = \"boolean\" == typeof t.snap && t.snap;\n  }\n  layout(e) {}\n}\nfunction De(e) {\n  return void 0 !== e.minSize || void 0 !== e.maxSize || void 0 !== e.preferredSize || void 0 !== e.priority || void 0 !== e.visible;\n}\nconst Oe = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({\n  className: t,\n  children: i\n}, n) => react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n  ref: n,\n  className: l(\"split-view-view\", N, t)\n}, i));\nOe.displayName = \"Allotment.Pane\";\nconst Me = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(({\n  children: o,\n  className: a,\n  maxSize: h = 1 / 0,\n  minSize: c = 30,\n  proportionalLayout: f = !0,\n  separator: m = !0,\n  sizes: d,\n  defaultSizes: p = d,\n  snap: v = !1,\n  vertical: y = !1,\n  onChange: g,\n  onReset: b,\n  onVisibleChange: z,\n  onDragStart: w,\n  onDragEnd: S\n}, I) => {\n  const V = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),\n    N = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),\n    M = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map()),\n    P = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),\n    A = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Map()),\n    C = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new k()),\n    $ = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),\n    [H, Y] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);\n   true && d && console.warn(\"Prop sizes is deprecated. Please use defaultSizes instead.\");\n  const B = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(o).filter(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement), [o]),\n    R = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e => {\n      var _$$current, _P$current;\n      const t = (_$$current = $.current) == null ? void 0 : _$$current[e];\n      return \"number\" == typeof (t == null ? void 0 : t.preferredSize) && ((_P$current = P.current) != null && _P$current.resizeView(e, Math.round(t.preferredSize)), !0);\n    }, []);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(I, () => ({\n    reset: () => {\n      if (b) b();else {\n        var _P$current2;\n        (_P$current2 = P.current) == null ? void 0 : _P$current2.distributeViewSizes();\n        for (let e = 0; e < $.current.length; e++) R(e);\n      }\n    },\n    resize: e => {\n      var _P$current3;\n      (_P$current3 = P.current) == null ? void 0 : _P$current3.resizeViews(e);\n    }\n  })), F(() => {\n    let e = !0;\n    p && A.current.size !== p.length && (e = !1, console.warn(`Expected ${p.length} children based on defaultSizes but found ${A.current.size}`)), e && p && (N.current = B.map(e => e.key));\n    const t = _extends({\n      orientation: y ? pe.Vertical : pe.Horizontal,\n      proportionalLayout: f\n    }, e && p && {\n      descriptor: {\n        size: p.reduce((e, t) => e + t, 0),\n        views: p.map((e, t) => {\n          var _i$minSize, _i$maxSize, _i$priority, _i$snap;\n          const i = M.current.get(N.current[t]),\n            n = new Le(C.current, _extends({\n              element: document.createElement(\"div\"),\n              minimumSize: (_i$minSize = i == null ? void 0 : i.minSize) != null ? _i$minSize : c,\n              maximumSize: (_i$maxSize = i == null ? void 0 : i.maxSize) != null ? _i$maxSize : h,\n              priority: (_i$priority = i == null ? void 0 : i.priority) != null ? _i$priority : Se.Normal\n            }, (i == null ? void 0 : i.preferredSize) && {\n              preferredSize: i == null ? void 0 : i.preferredSize\n            }, {\n              snap: (_i$snap = i == null ? void 0 : i.snap) != null ? _i$snap : v\n            }));\n          return $.current.push(n), {\n            container: [...A.current.values()][t],\n            size: e,\n            view: n\n          };\n        })\n      }\n    });\n    P.current = new Ee(V.current, t, g, w, S), P.current.on(\"sashDragStart\", () => {\n      var _V$current;\n      (_V$current = V.current) == null ? void 0 : _V$current.classList.add(\"split-view-sash-dragging\");\n    }), P.current.on(\"sashDragEnd\", () => {\n      var _V$current2;\n      (_V$current2 = V.current) == null ? void 0 : _V$current2.classList.remove(\"split-view-sash-dragging\");\n    }), P.current.on(\"sashchange\", e => {\n      if (z && P.current) {\n        const _e21 = B.map(e => e.key);\n        for (let t = 0; t < _e21.length; t++) {\n          const i = M.current.get(_e21[t]);\n          void 0 !== (i == null ? void 0 : i.visible) && i.visible !== P.current.isViewVisible(t) && z(t, P.current.isViewVisible(t));\n        }\n      }\n    }), P.current.on(\"sashreset\", e => {\n      if (b) b();else {\n        var _P$current4;\n        if (R(e)) return;\n        if (R(e + 1)) return;\n        (_P$current4 = P.current) == null ? void 0 : _P$current4.distributeViewSizes();\n      }\n    });\n    const i = P.current;\n    return () => {\n      i.dispose();\n    };\n  }, []), F(() => {\n    if (H) {\n      const e = B.map(e => e.key),\n        t = [...N.current],\n        i = e.filter(e => !N.current.includes(e)),\n        n = e.filter(e => N.current.includes(e)),\n        r = N.current.map(t => !e.includes(t));\n      for (let _e22 = r.length - 1; _e22 >= 0; _e22--) {\n        var _P$current5;\n        r[_e22] && ((_P$current5 = P.current) != null && _P$current5.removeView(_e22), t.splice(_e22, 1), $.current.splice(_e22, 1));\n      }\n      for (const _n5 of i) {\n        var _i9$minSize, _i9$maxSize, _i9$priority, _i9$snap, _P$current6;\n        const _i9 = M.current.get(_n5),\n          _r2 = new Le(C.current, _extends({\n            element: document.createElement(\"div\"),\n            minimumSize: (_i9$minSize = _i9 == null ? void 0 : _i9.minSize) != null ? _i9$minSize : c,\n            maximumSize: (_i9$maxSize = _i9 == null ? void 0 : _i9.maxSize) != null ? _i9$maxSize : h,\n            priority: (_i9$priority = _i9 == null ? void 0 : _i9.priority) != null ? _i9$priority : Se.Normal\n          }, (_i9 == null ? void 0 : _i9.preferredSize) && {\n            preferredSize: _i9 == null ? void 0 : _i9.preferredSize\n          }, {\n            snap: (_i9$snap = _i9 == null ? void 0 : _i9.snap) != null ? _i9$snap : v\n          }));\n        (_P$current6 = P.current) != null && _P$current6.addView(A.current.get(_n5), _r2, ze.Distribute, e.findIndex(e => e === _n5)), t.splice(e.findIndex(e => e === _n5), 0, _n5), $.current.splice(e.findIndex(e => e === _n5), 0, _r2);\n      }\n      for (; !_(e, t);) for (const [_i10, _n6] of e.entries()) {\n        const _e23 = t.findIndex(e => e === _n6);\n        if (_e23 !== _i10) {\n          var _P$current7;\n          (_P$current7 = P.current) == null ? void 0 : _P$current7.moveView(A.current.get(_n6), _e23, _i10);\n          const _r3 = t[_e23];\n          t.splice(_e23, 1), t.splice(_i10, 0, _r3);\n          break;\n        }\n      }\n      for (const _t14 of i) {\n        var _P$current8;\n        const _i11 = e.findIndex(e => e === _t14),\n          _n7 = $.current[_i11].preferredSize;\n        void 0 !== _n7 && ((_P$current8 = P.current) == null ? void 0 : _P$current8.resizeView(_i11, _n7));\n      }\n      for (const _t15 of [...i, ...n]) {\n        var _P$current9, _P$current10;\n        const _i12 = M.current.get(_t15),\n          _n8 = e.findIndex(e => e === _t15);\n        _i12 && De(_i12) && void 0 !== _i12.visible && ((_P$current9 = P.current) == null ? void 0 : _P$current9.isViewVisible(_n8)) !== _i12.visible && ((_P$current10 = P.current) == null ? void 0 : _P$current10.setViewVisible(_n8, _i12.visible));\n      }\n      for (const _t16 of n) {\n        const _i13 = M.current.get(_t16),\n          _n9 = e.findIndex(e => e === _t16);\n        if (_i13 && De(_i13)) {\n          var _P$current11;\n          void 0 !== _i13.preferredSize && $.current[_n9].preferredSize !== _i13.preferredSize && ($.current[_n9].preferredSize = _i13.preferredSize);\n          let _e24 = !1;\n          void 0 !== _i13.minSize && $.current[_n9].minimumSize !== _i13.minSize && ($.current[_n9].minimumSize = _i13.minSize, _e24 = !0), void 0 !== _i13.maxSize && $.current[_n9].maximumSize !== _i13.maxSize && ($.current[_n9].maximumSize = _i13.maxSize, _e24 = !0), _e24 && ((_P$current11 = P.current) == null ? void 0 : _P$current11.layout());\n        }\n      }\n      (i.length > 0 || r.length > 0) && (N.current = e);\n    }\n  }, [B, H, h, c, v]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    P.current && (P.current.onDidChange = g);\n  }, [g]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    P.current && (P.current.onDidDragStart = w);\n  }, [w]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    P.current && (P.current.onDidDragEnd = S);\n  }, [S]), x({\n    ref: V,\n    onResize: ({\n      width: e,\n      height: t\n    }) => {\n      var _P$current12;\n      e && t && ((_P$current12 = P.current) != null && _P$current12.layout(y ? t : e), C.current.setSize(y ? t : e), Y(!0));\n    }\n  }), F(() => {\n    if (!H) {\n      var _P$current13;\n      const {\n        height: e,\n        width: t\n      } = V.current.getBoundingClientRect();\n      (_P$current13 = P.current) != null && _P$current13.layout(y ? e : t), C.current.setSize(y ? e : t), Y(!0);\n    }\n  }, [H, y]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    T && Pe(20);\n  }, []), react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    ref: V,\n    className: l(\"split-view\", y ? \"split-view-vertical\" : \"split-view-horizontal\", {\n      \"split-view-separator-border\": m\n    }, E, y ? L : D, {\n      [O]: m\n    }, a)\n  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: l(\"split-view-container\", j)\n  }, react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(o).map(t => {\n    if (!react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(t)) return null;\n    const i = t.key;\n    return \"Allotment.Pane\" === t.type.displayName ? (M.current.set(i, t.props), react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(t, {\n      key: i,\n      ref: e => {\n        e ? A.current.set(i, e) : A.current.delete(i);\n      }\n    })) : react__WEBPACK_IMPORTED_MODULE_0__.createElement(Oe, {\n      key: i,\n      ref: e => {\n        e ? A.current.set(i, e) : A.current.delete(i);\n      }\n    }, t);\n  })));\n});\nfunction Pe(e) {\n  const t = z(e, 4, 20),\n    i = z(e, 1, 8);\n  document.documentElement.style.setProperty(\"--sash-size\", t + \"px\"), document.documentElement.style.setProperty(\"--sash-hover-size\", i + \"px\"), function (e) {\n    ye = e, ge.emit(\"onDidChangeGlobalSize\", e);\n  }(t);\n}\nMe.displayName = \"Allotment\";\nvar Ae = Object.assign(Me, {\n  Pane: Oe\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYWxsb3RtZW50L2Rpc3QvbW9kZXJuLm1qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsc0JBQXNCLHNFQUFzRSxnQkFBZ0Isc0JBQXNCLE9BQU8sMkJBQTJCLDBCQUEwQix5REFBeUQsaUNBQWlDLGtCQUFrQjtBQUNuSTtBQUN2SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsWUFBWTtBQUNaO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDBIQUEwSDtBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILDRLQUE0SztBQUM1SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLEtBQUs7QUFDTDtBQUNBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixRQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFFBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsUUFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxRQUFRO0FBQy9DO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsSUFBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsSUFBSTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsUUFBUTtBQUM3RDtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztB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QUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRztBQUNOO0FBQ0E7QUFDQSxHQUFHLEdBQUc7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLLDZnQkFBNmdCLFVBQVUsZ0NBQWdDLFVBQVU7QUFDdGtCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEdBQUc7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFRLGdEQUFDO0FBQ1o7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEdBQUcsV0FBVyxnREFBQztBQUNmO0FBQ0EsR0FBRyxPQUFPLGdEQUFlO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHLEVBQUUsZ0RBQWU7QUFDcEI7QUFDQSxHQUFHLEVBQUUsbURBQWtCO0FBQ3ZCLFNBQVMsaURBQWdCO0FBQ3pCO0FBQ0EsaUZBQWlGLCtDQUFjO0FBQy9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxLQUFLLGdEQUFlO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDbUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2FsbG90bWVudC9kaXN0L21vZGVybi5tanM/ZjQ2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cbmltcG9ydCBlLCB7IHVzZVJlZiBhcyB0LCB1c2VTdGF0ZSBhcyBpLCB1c2VFZmZlY3QgYXMgbiwgdXNlQ2FsbGJhY2sgYXMgciwgdXNlTWVtbyBhcyBzLCB1c2VMYXlvdXRFZmZlY3QgYXMgbywgZm9yd2FyZFJlZiBhcyBhLCB1c2VJbXBlcmF0aXZlSGFuZGxlIGFzIHUgfSBmcm9tIFwicmVhY3RcIjtcbnZhciBoLFxuICBjID0ge307XG4vKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE4IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG5oID0ge1xuICBnZXQgZXhwb3J0cygpIHtcbiAgICByZXR1cm4gYztcbiAgfSxcbiAgc2V0IGV4cG9ydHMoZSkge1xuICAgIGMgPSBlO1xuICB9XG59LCBmdW5jdGlvbiAoKSB7XG4gIHZhciBlID0ge30uaGFzT3duUHJvcGVydHk7XG4gIGZ1bmN0aW9uIHQoKSB7XG4gICAgZm9yICh2YXIgaSA9IFtdLCBuID0gMDsgbiA8IGFyZ3VtZW50cy5sZW5ndGg7IG4rKykge1xuICAgICAgdmFyIHIgPSBhcmd1bWVudHNbbl07XG4gICAgICBpZiAocikge1xuICAgICAgICB2YXIgcyA9IHR5cGVvZiByO1xuICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gcyB8fCBcIm51bWJlclwiID09PSBzKSBpLnB1c2gocik7ZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyKSkge1xuICAgICAgICAgIGlmIChyLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG8gPSB0LmFwcGx5KG51bGwsIHIpO1xuICAgICAgICAgICAgbyAmJiBpLnB1c2gobyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFwib2JqZWN0XCIgPT09IHMpIGlmIChyLnRvU3RyaW5nID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSBmb3IgKHZhciBhIGluIHIpIGUuY2FsbChyLCBhKSAmJiByW2FdICYmIGkucHVzaChhKTtlbHNlIGkucHVzaChyLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaS5qb2luKFwiIFwiKTtcbiAgfVxuICBoLmV4cG9ydHMgPyAodC5kZWZhdWx0ID0gdCwgaC5leHBvcnRzID0gdCkgOiB3aW5kb3cuY2xhc3NOYW1lcyA9IHQ7XG59KCk7XG52YXIgbCA9IGMsXG4gIGYgPSAvXlxccyt8XFxzKyQvZyxcbiAgbSA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pLFxuICBkID0gL14wYlswMV0rJC9pLFxuICBwID0gL14wb1swLTddKyQvaSxcbiAgdiA9IHBhcnNlSW50LFxuICB5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmZ1bmN0aW9uIGcoZSkge1xuICB2YXIgdCA9IHR5cGVvZiBlO1xuICByZXR1cm4gISFlICYmIChcIm9iamVjdFwiID09IHQgfHwgXCJmdW5jdGlvblwiID09IHQpO1xufVxuZnVuY3Rpb24gYihlKSB7XG4gIGlmIChcIm51bWJlclwiID09IHR5cGVvZiBlKSByZXR1cm4gZTtcbiAgaWYgKGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIFwic3ltYm9sXCIgPT0gdHlwZW9mIGUgfHwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiAhIWUgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgZTtcbiAgICB9KGUpICYmIFwiW29iamVjdCBTeW1ib2xdXCIgPT0geS5jYWxsKGUpO1xuICB9KGUpKSByZXR1cm4gTmFOO1xuICBpZiAoZyhlKSkge1xuICAgIHZhciB0ID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBlLnZhbHVlT2YgPyBlLnZhbHVlT2YoKSA6IGU7XG4gICAgZSA9IGcodCkgPyB0ICsgXCJcIiA6IHQ7XG4gIH1cbiAgaWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIGUpIHJldHVybiAwID09PSBlID8gZSA6ICtlO1xuICBlID0gZS5yZXBsYWNlKGYsIFwiXCIpO1xuICB2YXIgaSA9IGQudGVzdChlKTtcbiAgcmV0dXJuIGkgfHwgcC50ZXN0KGUpID8gdihlLnNsaWNlKDIpLCBpID8gMiA6IDgpIDogbS50ZXN0KGUpID8gTmFOIDogK2U7XG59XG52YXIgeiA9IGZ1bmN0aW9uIHooZSwgdCwgaSkge1xuICAgIHJldHVybiB2b2lkIDAgPT09IGkgJiYgKGkgPSB0LCB0ID0gdm9pZCAwKSwgdm9pZCAwICE9PSBpICYmIChpID0gKGkgPSBiKGkpKSA9PSBpID8gaSA6IDApLCB2b2lkIDAgIT09IHQgJiYgKHQgPSAodCA9IGIodCkpID09IHQgPyB0IDogMCksIGZ1bmN0aW9uIChlLCB0LCBpKSB7XG4gICAgICByZXR1cm4gZSA9PSBlICYmICh2b2lkIDAgIT09IGkgJiYgKGUgPSBlIDw9IGkgPyBlIDogaSksIHZvaWQgMCAhPT0gdCAmJiAoZSA9IGUgPj0gdCA/IGUgOiB0KSksIGU7XG4gICAgfShiKGUpLCB0LCBpKTtcbiAgfSxcbiAgdyA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGdsb2JhbFRoaXMgPyBnbG9iYWxUaGlzIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZ2xvYmFsID8gZ2xvYmFsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiB7fSxcbiAgUyA9IHt9O1xuIWZ1bmN0aW9uIChlLCB0KSB7XG4gIHZhciBpID0gXCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCIsXG4gICAgbiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgciA9IFwiW29iamVjdCBBcmd1bWVudHNdXCIsXG4gICAgcyA9IFwiW29iamVjdCBBcnJheV1cIixcbiAgICBvID0gXCJbb2JqZWN0IEJvb2xlYW5dXCIsXG4gICAgYSA9IFwiW29iamVjdCBEYXRlXVwiLFxuICAgIHUgPSBcIltvYmplY3QgRXJyb3JdXCIsXG4gICAgaCA9IFwiW29iamVjdCBGdW5jdGlvbl1cIixcbiAgICBjID0gXCJbb2JqZWN0IE1hcF1cIixcbiAgICBsID0gXCJbb2JqZWN0IE51bWJlcl1cIixcbiAgICBmID0gXCJbb2JqZWN0IE9iamVjdF1cIixcbiAgICBtID0gXCJbb2JqZWN0IFByb21pc2VdXCIsXG4gICAgZCA9IFwiW29iamVjdCBSZWdFeHBdXCIsXG4gICAgcCA9IFwiW29iamVjdCBTZXRdXCIsXG4gICAgdiA9IFwiW29iamVjdCBTdHJpbmddXCIsXG4gICAgeSA9IFwiW29iamVjdCBTeW1ib2xdXCIsXG4gICAgZyA9IFwiW29iamVjdCBXZWFrTWFwXVwiLFxuICAgIGIgPSBcIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsXG4gICAgeiA9IFwiW29iamVjdCBEYXRhVmlld11cIixcbiAgICBTID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLyxcbiAgICBfID0gL14oPzowfFsxLTldXFxkKikkLyxcbiAgICBJID0ge307XG4gIElbXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIl0gPSBJW1wiW29iamVjdCBGbG9hdDY0QXJyYXldXCJdID0gSVtcIltvYmplY3QgSW50OEFycmF5XVwiXSA9IElbXCJbb2JqZWN0IEludDE2QXJyYXldXCJdID0gSVtcIltvYmplY3QgSW50MzJBcnJheV1cIl0gPSBJW1wiW29iamVjdCBVaW50OEFycmF5XVwiXSA9IElbXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiXSA9IElbXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiXSA9IElbXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiXSA9ICEwLCBJW3JdID0gSVtzXSA9IElbYl0gPSBJW29dID0gSVt6XSA9IElbYV0gPSBJW3VdID0gSVtoXSA9IElbY10gPSBJW2xdID0gSVtmXSA9IElbZF0gPSBJW3BdID0gSVt2XSA9IElbZ10gPSAhMTtcbiAgdmFyIHggPSBcIm9iamVjdFwiID09IHR5cGVvZiB3ICYmIHcgJiYgdy5PYmplY3QgPT09IE9iamVjdCAmJiB3LFxuICAgIEUgPSBcIm9iamVjdFwiID09IHR5cGVvZiBzZWxmICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmLFxuICAgIFYgPSB4IHx8IEUgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLFxuICAgIGogPSB0ICYmICF0Lm5vZGVUeXBlICYmIHQsXG4gICAgTiA9IGogJiYgZSAmJiAhZS5ub2RlVHlwZSAmJiBlLFxuICAgIEwgPSBOICYmIE4uZXhwb3J0cyA9PT0gaixcbiAgICBEID0gTCAmJiB4LnByb2Nlc3MsXG4gICAgTyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBEICYmIEQuYmluZGluZyAmJiBELmJpbmRpbmcoXCJ1dGlsXCIpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCksXG4gICAgTSA9IE8gJiYgTy5pc1R5cGVkQXJyYXk7XG4gIGZ1bmN0aW9uIFAoZSwgdCkge1xuICAgIGZvciAodmFyIGkgPSAtMSwgbiA9IG51bGwgPT0gZSA/IDAgOiBlLmxlbmd0aDsgKytpIDwgbjspIGlmICh0KGVbaV0sIGksIGUpKSByZXR1cm4gITA7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGZ1bmN0aW9uIEEoZSkge1xuICAgIHZhciB0ID0gLTEsXG4gICAgICBpID0gQXJyYXkoZS5zaXplKTtcbiAgICByZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uIChlLCBuKSB7XG4gICAgICBpWysrdF0gPSBbbiwgZV07XG4gICAgfSksIGk7XG4gIH1cbiAgZnVuY3Rpb24gVChlKSB7XG4gICAgdmFyIHQgPSAtMSxcbiAgICAgIGkgPSBBcnJheShlLnNpemUpO1xuICAgIHJldHVybiBlLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlbKyt0XSA9IGU7XG4gICAgfSksIGk7XG4gIH1cbiAgdmFyIEMsXG4gICAgRixcbiAgICBrLFxuICAgICQgPSBBcnJheS5wcm90b3R5cGUsXG4gICAgSCA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBZID0gT2JqZWN0LnByb3RvdHlwZSxcbiAgICBCID0gVltcIl9fY29yZS1qc19zaGFyZWRfX1wiXSxcbiAgICBSID0gSC50b1N0cmluZyxcbiAgICBXID0gWS5oYXNPd25Qcm9wZXJ0eSxcbiAgICBHID0gKEMgPSAvW14uXSskLy5leGVjKEIgJiYgQi5rZXlzICYmIEIua2V5cy5JRV9QUk9UTyB8fCBcIlwiKSkgPyBcIlN5bWJvbChzcmMpXzEuXCIgKyBDIDogXCJcIixcbiAgICBVID0gWS50b1N0cmluZyxcbiAgICBYID0gUmVnRXhwKFwiXlwiICsgUi5jYWxsKFcpLnJlcGxhY2UoL1tcXFxcXiQuKis/KClbXFxde318XS9nLCBcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCBcIiQxLio/XCIpICsgXCIkXCIpLFxuICAgIEogPSBMID8gVi5CdWZmZXIgOiB2b2lkIDAsXG4gICAgSyA9IFYuU3ltYm9sLFxuICAgIFogPSBWLlVpbnQ4QXJyYXksXG4gICAgUSA9IFkucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgcSA9ICQuc3BsaWNlLFxuICAgIGVlID0gSyA/IEsudG9TdHJpbmdUYWcgOiB2b2lkIDAsXG4gICAgdGUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgIGllID0gSiA/IEouaXNCdWZmZXIgOiB2b2lkIDAsXG4gICAgbmUgPSAoRiA9IE9iamVjdC5rZXlzLCBrID0gT2JqZWN0LCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIEYoayhlKSk7XG4gICAgfSksXG4gICAgcmUgPSBPZShWLCBcIkRhdGFWaWV3XCIpLFxuICAgIHNlID0gT2UoViwgXCJNYXBcIiksXG4gICAgb2UgPSBPZShWLCBcIlByb21pc2VcIiksXG4gICAgYWUgPSBPZShWLCBcIlNldFwiKSxcbiAgICB1ZSA9IE9lKFYsIFwiV2Vha01hcFwiKSxcbiAgICBoZSA9IE9lKE9iamVjdCwgXCJjcmVhdGVcIiksXG4gICAgY2UgPSBUZShyZSksXG4gICAgbGUgPSBUZShzZSksXG4gICAgZmUgPSBUZShvZSksXG4gICAgbWUgPSBUZShhZSksXG4gICAgZGUgPSBUZSh1ZSksXG4gICAgcGUgPSBLID8gSy5wcm90b3R5cGUgOiB2b2lkIDAsXG4gICAgdmUgPSBwZSA/IHBlLnZhbHVlT2YgOiB2b2lkIDA7XG4gIGZ1bmN0aW9uIHllKGUpIHtcbiAgICB2YXIgdCA9IC0xLFxuICAgICAgaSA9IG51bGwgPT0gZSA/IDAgOiBlLmxlbmd0aDtcbiAgICBmb3IgKHRoaXMuY2xlYXIoKTsgKyt0IDwgaTspIHtcbiAgICAgIHZhciBuID0gZVt0XTtcbiAgICAgIHRoaXMuc2V0KG5bMF0sIG5bMV0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZShlKSB7XG4gICAgdmFyIHQgPSAtMSxcbiAgICAgIGkgPSBudWxsID09IGUgPyAwIDogZS5sZW5ndGg7XG4gICAgZm9yICh0aGlzLmNsZWFyKCk7ICsrdCA8IGk7KSB7XG4gICAgICB2YXIgbiA9IGVbdF07XG4gICAgICB0aGlzLnNldChuWzBdLCBuWzFdKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYmUoZSkge1xuICAgIHZhciB0ID0gLTEsXG4gICAgICBpID0gbnVsbCA9PSBlID8gMCA6IGUubGVuZ3RoO1xuICAgIGZvciAodGhpcy5jbGVhcigpOyArK3QgPCBpOykge1xuICAgICAgdmFyIG4gPSBlW3RdO1xuICAgICAgdGhpcy5zZXQoblswXSwgblsxXSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHplKGUpIHtcbiAgICB2YXIgdCA9IC0xLFxuICAgICAgaSA9IG51bGwgPT0gZSA/IDAgOiBlLmxlbmd0aDtcbiAgICBmb3IgKHRoaXMuX19kYXRhX18gPSBuZXcgYmUoKTsgKyt0IDwgaTspIHRoaXMuYWRkKGVbdF0pO1xuICB9XG4gIGZ1bmN0aW9uIHdlKGUpIHtcbiAgICB2YXIgdCA9IHRoaXMuX19kYXRhX18gPSBuZXcgZ2UoZSk7XG4gICAgdGhpcy5zaXplID0gdC5zaXplO1xuICB9XG4gIGZ1bmN0aW9uIFNlKGUsIHQpIHtcbiAgICB2YXIgaSA9IGtlKGUpLFxuICAgICAgbiA9ICFpICYmIEZlKGUpLFxuICAgICAgciA9ICFpICYmICFuICYmICRlKGUpLFxuICAgICAgcyA9ICFpICYmICFuICYmICFyICYmIFdlKGUpLFxuICAgICAgbyA9IGkgfHwgbiB8fCByIHx8IHMsXG4gICAgICBhID0gbyA/IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAtMSwgbiA9IEFycmF5KGUpOyArK2kgPCBlOykgbltpXSA9IHQoaSk7XG4gICAgICAgIHJldHVybiBuO1xuICAgICAgfShlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgdSA9IGEubGVuZ3RoO1xuICAgIGZvciAodmFyIGggaW4gZSkgIXQgJiYgIVcuY2FsbChlLCBoKSB8fCBvICYmIChcImxlbmd0aFwiID09IGggfHwgciAmJiAoXCJvZmZzZXRcIiA9PSBoIHx8IFwicGFyZW50XCIgPT0gaCkgfHwgcyAmJiAoXCJidWZmZXJcIiA9PSBoIHx8IFwiYnl0ZUxlbmd0aFwiID09IGggfHwgXCJieXRlT2Zmc2V0XCIgPT0gaCkgfHwgQWUoaCwgdSkpIHx8IGEucHVzaChoKTtcbiAgICByZXR1cm4gYTtcbiAgfVxuICBmdW5jdGlvbiBfZShlLCB0KSB7XG4gICAgZm9yICh2YXIgaSA9IGUubGVuZ3RoOyBpLS07KSBpZiAoQ2UoZVtpXVswXSwgdCkpIHJldHVybiBpO1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBmdW5jdGlvbiBJZShlKSB7XG4gICAgcmV0dXJuIG51bGwgPT0gZSA/IHZvaWQgMCA9PT0gZSA/IFwiW29iamVjdCBVbmRlZmluZWRdXCIgOiBcIltvYmplY3QgTnVsbF1cIiA6IGVlICYmIGVlIGluIE9iamVjdChlKSA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdCA9IFcuY2FsbChlLCBlZSksXG4gICAgICAgIGkgPSBlW2VlXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVbZWVdID0gdm9pZCAwO1xuICAgICAgICB2YXIgbiA9ICEwO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHZhciByID0gVS5jYWxsKGUpO1xuICAgICAgbiAmJiAodCA/IGVbZWVdID0gaSA6IGRlbGV0ZSBlW2VlXSk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9KGUpIDogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBVLmNhbGwoZSk7XG4gICAgfShlKTtcbiAgfVxuICBmdW5jdGlvbiB4ZShlKSB7XG4gICAgcmV0dXJuIFJlKGUpICYmIEllKGUpID09IHI7XG4gIH1cbiAgZnVuY3Rpb24gRWUoZSwgdCwgaSwgbiwgaCkge1xuICAgIHJldHVybiBlID09PSB0IHx8IChudWxsID09IGUgfHwgbnVsbCA9PSB0IHx8ICFSZShlKSAmJiAhUmUodCkgPyBlICE9IGUgJiYgdCAhPSB0IDogZnVuY3Rpb24gKGUsIHQsIGksIG4sIGgsIG0pIHtcbiAgICAgIHZhciBnID0ga2UoZSksXG4gICAgICAgIHcgPSBrZSh0KSxcbiAgICAgICAgUyA9IGcgPyBzIDogUGUoZSksXG4gICAgICAgIF8gPSB3ID8gcyA6IFBlKHQpLFxuICAgICAgICBJID0gKFMgPSBTID09IHIgPyBmIDogUykgPT0gZixcbiAgICAgICAgeCA9IChfID0gXyA9PSByID8gZiA6IF8pID09IGYsXG4gICAgICAgIEUgPSBTID09IF87XG4gICAgICBpZiAoRSAmJiAkZShlKSkge1xuICAgICAgICBpZiAoISRlKHQpKSByZXR1cm4gITE7XG4gICAgICAgIGcgPSAhMCwgSSA9ICExO1xuICAgICAgfVxuICAgICAgaWYgKEUgJiYgIUkpIHJldHVybiBtIHx8IChtID0gbmV3IHdlKCkpLCBnIHx8IFdlKGUpID8gTmUoZSwgdCwgaSwgbiwgaCwgbSkgOiBmdW5jdGlvbiAoZSwgdCwgaSwgbiwgciwgcywgaCkge1xuICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICBjYXNlIHo6XG4gICAgICAgICAgICBpZiAoZS5ieXRlTGVuZ3RoICE9IHQuYnl0ZUxlbmd0aCB8fCBlLmJ5dGVPZmZzZXQgIT0gdC5ieXRlT2Zmc2V0KSByZXR1cm4gITE7XG4gICAgICAgICAgICBlID0gZS5idWZmZXIsIHQgPSB0LmJ1ZmZlcjtcbiAgICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgICByZXR1cm4gIShlLmJ5dGVMZW5ndGggIT0gdC5ieXRlTGVuZ3RoIHx8ICFzKG5ldyBaKGUpLCBuZXcgWih0KSkpO1xuICAgICAgICAgIGNhc2UgbzpcbiAgICAgICAgICBjYXNlIGE6XG4gICAgICAgICAgY2FzZSBsOlxuICAgICAgICAgICAgcmV0dXJuIENlKCtlLCArdCk7XG4gICAgICAgICAgY2FzZSB1OlxuICAgICAgICAgICAgcmV0dXJuIGUubmFtZSA9PSB0Lm5hbWUgJiYgZS5tZXNzYWdlID09IHQubWVzc2FnZTtcbiAgICAgICAgICBjYXNlIGQ6XG4gICAgICAgICAgY2FzZSB2OlxuICAgICAgICAgICAgcmV0dXJuIGUgPT0gdCArIFwiXCI7XG4gICAgICAgICAgY2FzZSBjOlxuICAgICAgICAgICAgdmFyIGYgPSBBO1xuICAgICAgICAgIGNhc2UgcDpcbiAgICAgICAgICAgIHZhciBtID0gMSAmIG47XG4gICAgICAgICAgICBpZiAoZiB8fCAoZiA9IFQpLCBlLnNpemUgIT0gdC5zaXplICYmICFtKSByZXR1cm4gITE7XG4gICAgICAgICAgICB2YXIgZyA9IGguZ2V0KGUpO1xuICAgICAgICAgICAgaWYgKGcpIHJldHVybiBnID09IHQ7XG4gICAgICAgICAgICBuIHw9IDIsIGguc2V0KGUsIHQpO1xuICAgICAgICAgICAgdmFyIHcgPSBOZShmKGUpLCBmKHQpLCBuLCByLCBzLCBoKTtcbiAgICAgICAgICAgIHJldHVybiBoLmRlbGV0ZShlKSwgdztcbiAgICAgICAgICBjYXNlIHk6XG4gICAgICAgICAgICBpZiAodmUpIHJldHVybiB2ZS5jYWxsKGUpID09IHZlLmNhbGwodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfShlLCB0LCBTLCBpLCBuLCBoLCBtKTtcbiAgICAgIGlmICghKDEgJiBpKSkge1xuICAgICAgICB2YXIgViA9IEkgJiYgVy5jYWxsKGUsIFwiX193cmFwcGVkX19cIiksXG4gICAgICAgICAgaiA9IHggJiYgVy5jYWxsKHQsIFwiX193cmFwcGVkX19cIik7XG4gICAgICAgIGlmIChWIHx8IGopIHtcbiAgICAgICAgICB2YXIgTiA9IFYgPyBlLnZhbHVlKCkgOiBlLFxuICAgICAgICAgICAgTCA9IGogPyB0LnZhbHVlKCkgOiB0O1xuICAgICAgICAgIHJldHVybiBtIHx8IChtID0gbmV3IHdlKCkpLCBoKE4sIEwsIGksIG4sIG0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIUUpIHJldHVybiAhMTtcbiAgICAgIHJldHVybiBtIHx8IChtID0gbmV3IHdlKCkpLCBmdW5jdGlvbiAoZSwgdCwgaSwgbiwgciwgcykge1xuICAgICAgICB2YXIgbyA9IDEgJiBpLFxuICAgICAgICAgIGEgPSBMZShlKSxcbiAgICAgICAgICB1ID0gYS5sZW5ndGgsXG4gICAgICAgICAgaCA9IExlKHQpLmxlbmd0aDtcbiAgICAgICAgaWYgKHUgIT0gaCAmJiAhbykgcmV0dXJuICExO1xuICAgICAgICB2YXIgYyA9IHU7XG4gICAgICAgIGZvciAoOyBjLS07KSB7XG4gICAgICAgICAgdmFyIGwgPSBhW2NdO1xuICAgICAgICAgIGlmICghKG8gPyBsIGluIHQgOiBXLmNhbGwodCwgbCkpKSByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGYgPSBzLmdldChlKTtcbiAgICAgICAgaWYgKGYgJiYgcy5nZXQodCkpIHJldHVybiBmID09IHQ7XG4gICAgICAgIHZhciBtID0gITA7XG4gICAgICAgIHMuc2V0KGUsIHQpLCBzLnNldCh0LCBlKTtcbiAgICAgICAgdmFyIGQgPSBvO1xuICAgICAgICBmb3IgKDsgKytjIDwgdTspIHtcbiAgICAgICAgICB2YXIgcCA9IGVbbCA9IGFbY11dLFxuICAgICAgICAgICAgdiA9IHRbbF07XG4gICAgICAgICAgaWYgKG4pIHZhciB5ID0gbyA/IG4odiwgcCwgbCwgdCwgZSwgcykgOiBuKHAsIHYsIGwsIGUsIHQsIHMpO1xuICAgICAgICAgIGlmICghKHZvaWQgMCA9PT0geSA/IHAgPT09IHYgfHwgcihwLCB2LCBpLCBuLCBzKSA6IHkpKSB7XG4gICAgICAgICAgICBtID0gITE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZCB8fCAoZCA9IFwiY29uc3RydWN0b3JcIiA9PSBsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobSAmJiAhZCkge1xuICAgICAgICAgIHZhciBnID0gZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIGIgPSB0LmNvbnN0cnVjdG9yO1xuICAgICAgICAgIGcgPT0gYiB8fCAhKFwiY29uc3RydWN0b3JcIiBpbiBlKSB8fCAhKFwiY29uc3RydWN0b3JcIiBpbiB0KSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGcgJiYgZyBpbnN0YW5jZW9mIGcgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBiICYmIGIgaW5zdGFuY2VvZiBiIHx8IChtID0gITEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzLmRlbGV0ZShlKSwgcy5kZWxldGUodCksIG07XG4gICAgICB9KGUsIHQsIGksIG4sIGgsIG0pO1xuICAgIH0oZSwgdCwgaSwgbiwgRWUsIGgpKTtcbiAgfVxuICBmdW5jdGlvbiBWZShlKSB7XG4gICAgcmV0dXJuICEoIUJlKGUpIHx8IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gISFHICYmIEcgaW4gZTtcbiAgICB9KGUpKSAmJiAoSGUoZSkgPyBYIDogUykudGVzdChUZShlKSk7XG4gIH1cbiAgZnVuY3Rpb24gamUoZSkge1xuICAgIGlmIChpID0gKHQgPSBlKSAmJiB0LmNvbnN0cnVjdG9yLCBuID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBpICYmIGkucHJvdG90eXBlIHx8IFksIHQgIT09IG4pIHJldHVybiBuZShlKTtcbiAgICB2YXIgdCxcbiAgICAgIGksXG4gICAgICBuLFxuICAgICAgciA9IFtdO1xuICAgIGZvciAodmFyIHMgaW4gT2JqZWN0KGUpKSBXLmNhbGwoZSwgcykgJiYgXCJjb25zdHJ1Y3RvclwiICE9IHMgJiYgci5wdXNoKHMpO1xuICAgIHJldHVybiByO1xuICB9XG4gIGZ1bmN0aW9uIE5lKGUsIHQsIGksIG4sIHIsIHMpIHtcbiAgICB2YXIgbyA9IDEgJiBpLFxuICAgICAgYSA9IGUubGVuZ3RoLFxuICAgICAgdSA9IHQubGVuZ3RoO1xuICAgIGlmIChhICE9IHUgJiYgIShvICYmIHUgPiBhKSkgcmV0dXJuICExO1xuICAgIHZhciBoID0gcy5nZXQoZSk7XG4gICAgaWYgKGggJiYgcy5nZXQodCkpIHJldHVybiBoID09IHQ7XG4gICAgdmFyIGMgPSAtMSxcbiAgICAgIGwgPSAhMCxcbiAgICAgIGYgPSAyICYgaSA/IG5ldyB6ZSgpIDogdm9pZCAwO1xuICAgIGZvciAocy5zZXQoZSwgdCksIHMuc2V0KHQsIGUpOyArK2MgPCBhOykge1xuICAgICAgdmFyIG0gPSBlW2NdLFxuICAgICAgICBkID0gdFtjXTtcbiAgICAgIGlmIChuKSB2YXIgcCA9IG8gPyBuKGQsIG0sIGMsIHQsIGUsIHMpIDogbihtLCBkLCBjLCBlLCB0LCBzKTtcbiAgICAgIGlmICh2b2lkIDAgIT09IHApIHtcbiAgICAgICAgaWYgKHApIGNvbnRpbnVlO1xuICAgICAgICBsID0gITE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGYpIHtcbiAgICAgICAgaWYgKCFQKHQsIGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgICAgaWYgKG8gPSB0LCAhZi5oYXMobykgJiYgKG0gPT09IGUgfHwgcihtLCBlLCBpLCBuLCBzKSkpIHJldHVybiBmLnB1c2godCk7XG4gICAgICAgICAgdmFyIG87XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgbCA9ICExO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG0gIT09IGQgJiYgIXIobSwgZCwgaSwgbiwgcykpIHtcbiAgICAgICAgbCA9ICExO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHMuZGVsZXRlKGUpLCBzLmRlbGV0ZSh0KSwgbDtcbiAgfVxuICBmdW5jdGlvbiBMZShlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0LCBpKSB7XG4gICAgICB2YXIgbiA9IHQoZSk7XG4gICAgICByZXR1cm4ga2UoZSkgPyBuIDogZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IC0xLCBuID0gdC5sZW5ndGgsIHIgPSBlLmxlbmd0aDsgKytpIDwgbjspIGVbciArIGldID0gdFtpXTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9KG4sIGkoZSkpO1xuICAgIH0oZSwgR2UsIE1lKTtcbiAgfVxuICBmdW5jdGlvbiBEZShlLCB0KSB7XG4gICAgdmFyIGksXG4gICAgICBuLFxuICAgICAgciA9IGUuX19kYXRhX187XG4gICAgcmV0dXJuIChcInN0cmluZ1wiID09IChuID0gdHlwZW9mIChpID0gdCkpIHx8IFwibnVtYmVyXCIgPT0gbiB8fCBcInN5bWJvbFwiID09IG4gfHwgXCJib29sZWFuXCIgPT0gbiA/IFwiX19wcm90b19fXCIgIT09IGkgOiBudWxsID09PSBpKSA/IHJbXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCA/IFwic3RyaW5nXCIgOiBcImhhc2hcIl0gOiByLm1hcDtcbiAgfVxuICBmdW5jdGlvbiBPZShlLCB0KSB7XG4gICAgdmFyIGkgPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgcmV0dXJuIG51bGwgPT0gZSA/IHZvaWQgMCA6IGVbdF07XG4gICAgfShlLCB0KTtcbiAgICByZXR1cm4gVmUoaSkgPyBpIDogdm9pZCAwO1xuICB9XG4gIHllLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9fZGF0YV9fID0gaGUgPyBoZShudWxsKSA6IHt9LCB0aGlzLnNpemUgPSAwO1xuICB9LCB5ZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgdCA9IHRoaXMuaGFzKGUpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2VdO1xuICAgIHJldHVybiB0aGlzLnNpemUgLT0gdCA/IDEgOiAwLCB0O1xuICB9LCB5ZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgdCA9IHRoaXMuX19kYXRhX187XG4gICAgaWYgKGhlKSB7XG4gICAgICB2YXIgbiA9IHRbZV07XG4gICAgICByZXR1cm4gbiA9PT0gaSA/IHZvaWQgMCA6IG47XG4gICAgfVxuICAgIHJldHVybiBXLmNhbGwodCwgZSkgPyB0W2VdIDogdm9pZCAwO1xuICB9LCB5ZS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgdCA9IHRoaXMuX19kYXRhX187XG4gICAgcmV0dXJuIGhlID8gdm9pZCAwICE9PSB0W2VdIDogVy5jYWxsKHQsIGUpO1xuICB9LCB5ZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICB2YXIgbiA9IHRoaXMuX19kYXRhX187XG4gICAgcmV0dXJuIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhlKSA/IDAgOiAxLCBuW2VdID0gaGUgJiYgdm9pZCAwID09PSB0ID8gaSA6IHQsIHRoaXM7XG4gIH0sIGdlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9fZGF0YV9fID0gW10sIHRoaXMuc2l6ZSA9IDA7XG4gIH0sIGdlLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciB0ID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGkgPSBfZSh0LCBlKTtcbiAgICByZXR1cm4gIShpIDwgMCkgJiYgKGkgPT0gdC5sZW5ndGggLSAxID8gdC5wb3AoKSA6IHEuY2FsbCh0LCBpLCAxKSwgLS10aGlzLnNpemUsICEwKTtcbiAgfSwgZ2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHQgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaSA9IF9lKHQsIGUpO1xuICAgIHJldHVybiBpIDwgMCA/IHZvaWQgMCA6IHRbaV1bMV07XG4gIH0sIGdlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBfZSh0aGlzLl9fZGF0YV9fLCBlKSA+IC0xO1xuICB9LCBnZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICB2YXIgaSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBuID0gX2UoaSwgZSk7XG4gICAgcmV0dXJuIG4gPCAwID8gKCsrdGhpcy5zaXplLCBpLnB1c2goW2UsIHRdKSkgOiBpW25dWzFdID0gdCwgdGhpcztcbiAgfSwgYmUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2l6ZSA9IDAsIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICBoYXNoOiBuZXcgeWUoKSxcbiAgICAgIG1hcDogbmV3IChzZSB8fCBnZSkoKSxcbiAgICAgIHN0cmluZzogbmV3IHllKClcbiAgICB9O1xuICB9LCBiZS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgdCA9IERlKHRoaXMsIGUpLmRlbGV0ZShlKTtcbiAgICByZXR1cm4gdGhpcy5zaXplIC09IHQgPyAxIDogMCwgdDtcbiAgfSwgYmUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIERlKHRoaXMsIGUpLmdldChlKTtcbiAgfSwgYmUucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIERlKHRoaXMsIGUpLmhhcyhlKTtcbiAgfSwgYmUucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgdmFyIGkgPSBEZSh0aGlzLCBlKSxcbiAgICAgIG4gPSBpLnNpemU7XG4gICAgcmV0dXJuIGkuc2V0KGUsIHQpLCB0aGlzLnNpemUgKz0gaS5zaXplID09IG4gPyAwIDogMSwgdGhpcztcbiAgfSwgemUucHJvdG90eXBlLmFkZCA9IHplLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGUpIHtcbiAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5zZXQoZSwgaSksIHRoaXM7XG4gIH0sIHplLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhlKTtcbiAgfSwgd2UucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX19kYXRhX18gPSBuZXcgZ2UoKSwgdGhpcy5zaXplID0gMDtcbiAgfSwgd2UucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHQgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaSA9IHQuZGVsZXRlKGUpO1xuICAgIHJldHVybiB0aGlzLnNpemUgPSB0LnNpemUsIGk7XG4gIH0sIHdlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChlKTtcbiAgfSwgd2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGUpO1xuICB9LCB3ZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICB2YXIgaSA9IHRoaXMuX19kYXRhX187XG4gICAgaWYgKGkgaW5zdGFuY2VvZiBnZSkge1xuICAgICAgdmFyIG4gPSBpLl9fZGF0YV9fO1xuICAgICAgaWYgKCFzZSB8fCBuLmxlbmd0aCA8IDE5OSkgcmV0dXJuIG4ucHVzaChbZSwgdF0pLCB0aGlzLnNpemUgPSArK2kuc2l6ZSwgdGhpcztcbiAgICAgIGkgPSB0aGlzLl9fZGF0YV9fID0gbmV3IGJlKG4pO1xuICAgIH1cbiAgICByZXR1cm4gaS5zZXQoZSwgdCksIHRoaXMuc2l6ZSA9IGkuc2l6ZSwgdGhpcztcbiAgfTtcbiAgdmFyIE1lID0gdGUgPyBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIG51bGwgPT0gZSA/IFtdIDogKGUgPSBPYmplY3QoZSksIGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAtMSwgbiA9IG51bGwgPT0gZSA/IDAgOiBlLmxlbmd0aCwgciA9IDAsIHMgPSBbXTsgKytpIDwgbjspIHtcbiAgICAgICAgICB2YXIgbyA9IGVbaV07XG4gICAgICAgICAgdChvLCBpLCBlKSAmJiAoc1tyKytdID0gbyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgICB9KHRlKGUpLCBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gUS5jYWxsKGUsIHQpO1xuICAgICAgfSkpO1xuICAgIH0gOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfSxcbiAgICBQZSA9IEllO1xuICBmdW5jdGlvbiBBZShlLCB0KSB7XG4gICAgcmV0dXJuICEhKHQgPSBudWxsID09IHQgPyBuIDogdCkgJiYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIGUgfHwgXy50ZXN0KGUpKSAmJiBlID4gLTEgJiYgZSAlIDEgPT0gMCAmJiBlIDwgdDtcbiAgfVxuICBmdW5jdGlvbiBUZShlKSB7XG4gICAgaWYgKG51bGwgIT0gZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIFIuY2FsbChlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZSArIFwiXCI7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBmdW5jdGlvbiBDZShlLCB0KSB7XG4gICAgcmV0dXJuIGUgPT09IHQgfHwgZSAhPSBlICYmIHQgIT0gdDtcbiAgfVxuICAocmUgJiYgUGUobmV3IHJlKG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IHogfHwgc2UgJiYgUGUobmV3IHNlKCkpICE9IGMgfHwgb2UgJiYgUGUob2UucmVzb2x2ZSgpKSAhPSBtIHx8IGFlICYmIFBlKG5ldyBhZSgpKSAhPSBwIHx8IHVlICYmIFBlKG5ldyB1ZSgpKSAhPSBnKSAmJiAoUGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciB0ID0gSWUoZSksXG4gICAgICBpID0gdCA9PSBmID8gZS5jb25zdHJ1Y3RvciA6IHZvaWQgMCxcbiAgICAgIG4gPSBpID8gVGUoaSkgOiBcIlwiO1xuICAgIGlmIChuKSBzd2l0Y2ggKG4pIHtcbiAgICAgIGNhc2UgY2U6XG4gICAgICAgIHJldHVybiB6O1xuICAgICAgY2FzZSBsZTpcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICBjYXNlIGZlOlxuICAgICAgICByZXR1cm4gbTtcbiAgICAgIGNhc2UgbWU6XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgY2FzZSBkZTpcbiAgICAgICAgcmV0dXJuIGc7XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9KTtcbiAgdmFyIEZlID0geGUoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cztcbiAgICB9KCkpID8geGUgOiBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIFJlKGUpICYmIFcuY2FsbChlLCBcImNhbGxlZVwiKSAmJiAhUS5jYWxsKGUsIFwiY2FsbGVlXCIpO1xuICAgIH0sXG4gICAga2UgPSBBcnJheS5pc0FycmF5O1xuICB2YXIgJGUgPSBpZSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICExO1xuICB9O1xuICBmdW5jdGlvbiBIZShlKSB7XG4gICAgaWYgKCFCZShlKSkgcmV0dXJuICExO1xuICAgIHZhciB0ID0gSWUoZSk7XG4gICAgcmV0dXJuIHQgPT0gaCB8fCBcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCIgPT0gdCB8fCBcIltvYmplY3QgQXN5bmNGdW5jdGlvbl1cIiA9PSB0IHx8IFwiW29iamVjdCBQcm94eV1cIiA9PSB0O1xuICB9XG4gIGZ1bmN0aW9uIFllKGUpIHtcbiAgICByZXR1cm4gXCJudW1iZXJcIiA9PSB0eXBlb2YgZSAmJiBlID4gLTEgJiYgZSAlIDEgPT0gMCAmJiBlIDw9IG47XG4gIH1cbiAgZnVuY3Rpb24gQmUoZSkge1xuICAgIHZhciB0ID0gdHlwZW9mIGU7XG4gICAgcmV0dXJuIG51bGwgIT0gZSAmJiAoXCJvYmplY3RcIiA9PSB0IHx8IFwiZnVuY3Rpb25cIiA9PSB0KTtcbiAgfVxuICBmdW5jdGlvbiBSZShlKSB7XG4gICAgcmV0dXJuIG51bGwgIT0gZSAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBlO1xuICB9XG4gIHZhciBXZSA9IE0gPyBmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodCkge1xuICAgICAgcmV0dXJuIGUodCk7XG4gICAgfTtcbiAgfShNKSA6IGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIFJlKGUpICYmIFllKGUubGVuZ3RoKSAmJiAhIUlbSWUoZSldO1xuICB9O1xuICBmdW5jdGlvbiBHZShlKSB7XG4gICAgcmV0dXJuIG51bGwgIT0gKHQgPSBlKSAmJiBZZSh0Lmxlbmd0aCkgJiYgIUhlKHQpID8gU2UoZSkgOiBqZShlKTtcbiAgICB2YXIgdDtcbiAgfVxuICBlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgIHJldHVybiBFZShlLCB0KTtcbiAgfTtcbn0oe1xuICBnZXQgZXhwb3J0cygpIHtcbiAgICByZXR1cm4gUztcbiAgfSxcbiAgc2V0IGV4cG9ydHMoZSkge1xuICAgIFMgPSBlO1xuICB9XG59LCBTKTtcbnZhciBfID0gUztcbmZ1bmN0aW9uIEkoZSwgdCwgaSkge1xuICByZXR1cm4gZVt0XSA/IGVbdF1bMF0gPyBlW3RdWzBdW2ldIDogZVt0XVtpXSA6IFwiY29udGVudEJveFNpemVcIiA9PT0gdCA/IGUuY29udGVudFJlY3RbXCJpbmxpbmVTaXplXCIgPT09IGkgPyBcIndpZHRoXCIgOiBcImhlaWdodFwiXSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIHgoZSkge1xuICB2b2lkIDAgPT09IGUgJiYgKGUgPSB7fSk7XG4gIHZhciBvID0gZS5vblJlc2l6ZSxcbiAgICBhID0gdCh2b2lkIDApO1xuICBhLmN1cnJlbnQgPSBvO1xuICB2YXIgdSA9IGUucm91bmQgfHwgTWF0aC5yb3VuZCxcbiAgICBoID0gdCgpLFxuICAgIGMgPSBpKHtcbiAgICAgIHdpZHRoOiB2b2lkIDAsXG4gICAgICBoZWlnaHQ6IHZvaWQgMFxuICAgIH0pLFxuICAgIGwgPSBjWzBdLFxuICAgIGYgPSBjWzFdLFxuICAgIG0gPSB0KCExKTtcbiAgbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG0uY3VycmVudCA9ICExLCBmdW5jdGlvbiAoKSB7XG4gICAgICBtLmN1cnJlbnQgPSAhMDtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHZhciBkID0gdCh7XG4gICAgICB3aWR0aDogdm9pZCAwLFxuICAgICAgaGVpZ2h0OiB2b2lkIDBcbiAgICB9KSxcbiAgICBwID0gZnVuY3Rpb24gKGUsIGkpIHtcbiAgICAgIHZhciBzID0gdChudWxsKSxcbiAgICAgICAgbyA9IHQobnVsbCk7XG4gICAgICBvLmN1cnJlbnQgPSBpO1xuICAgICAgdmFyIGEgPSB0KG51bGwpO1xuICAgICAgbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHUoKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHUgPSByKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHQgPSBhLmN1cnJlbnQsXG4gICAgICAgICAgaSA9IG8uY3VycmVudCxcbiAgICAgICAgICBuID0gdCB8fCAoaSA/IGkgaW5zdGFuY2VvZiBFbGVtZW50ID8gaSA6IGkuY3VycmVudCA6IG51bGwpO1xuICAgICAgICBzLmN1cnJlbnQgJiYgcy5jdXJyZW50LmVsZW1lbnQgPT09IG4gJiYgcy5jdXJyZW50LnN1YnNjcmliZXIgPT09IGUgfHwgKHMuY3VycmVudCAmJiBzLmN1cnJlbnQuY2xlYW51cCAmJiBzLmN1cnJlbnQuY2xlYW51cCgpLCBzLmN1cnJlbnQgPSB7XG4gICAgICAgICAgZWxlbWVudDogbixcbiAgICAgICAgICBzdWJzY3JpYmVyOiBlLFxuICAgICAgICAgIGNsZWFudXA6IG4gPyBlKG4pIDogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgfSwgW2VdKTtcbiAgICAgIHJldHVybiBuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzLmN1cnJlbnQgJiYgcy5jdXJyZW50LmNsZWFudXAgJiYgKHMuY3VycmVudC5jbGVhbnVwKCksIHMuY3VycmVudCA9IG51bGwpO1xuICAgICAgICB9O1xuICAgICAgfSwgW10pLCByKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGEuY3VycmVudCA9IGUsIHUoKTtcbiAgICAgIH0sIFt1XSk7XG4gICAgfShyKGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gaC5jdXJyZW50ICYmIGguY3VycmVudC5ib3ggPT09IGUuYm94ICYmIGguY3VycmVudC5yb3VuZCA9PT0gdSB8fCAoaC5jdXJyZW50ID0ge1xuICAgICAgICBib3g6IGUuYm94LFxuICAgICAgICByb3VuZDogdSxcbiAgICAgICAgaW5zdGFuY2U6IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAodCkge1xuICAgICAgICAgIHZhciBpID0gdFswXSxcbiAgICAgICAgICAgIG4gPSBcImJvcmRlci1ib3hcIiA9PT0gZS5ib3ggPyBcImJvcmRlckJveFNpemVcIiA6IFwiZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94XCIgPT09IGUuYm94ID8gXCJkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplXCIgOiBcImNvbnRlbnRCb3hTaXplXCIsXG4gICAgICAgICAgICByID0gSShpLCBuLCBcImlubGluZVNpemVcIiksXG4gICAgICAgICAgICBzID0gSShpLCBuLCBcImJsb2NrU2l6ZVwiKSxcbiAgICAgICAgICAgIG8gPSByID8gdShyKSA6IHZvaWQgMCxcbiAgICAgICAgICAgIGggPSBzID8gdShzKSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAoZC5jdXJyZW50LndpZHRoICE9PSBvIHx8IGQuY3VycmVudC5oZWlnaHQgIT09IGgpIHtcbiAgICAgICAgICAgIHZhciBjID0ge1xuICAgICAgICAgICAgICB3aWR0aDogbyxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBoXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZC5jdXJyZW50LndpZHRoID0gbywgZC5jdXJyZW50LmhlaWdodCA9IGgsIGEuY3VycmVudCA/IGEuY3VycmVudChjKSA6IG0uY3VycmVudCB8fCBmKGMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pLCBoLmN1cnJlbnQuaW5zdGFuY2Uub2JzZXJ2ZSh0LCB7XG4gICAgICAgIGJveDogZS5ib3hcbiAgICAgIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGguY3VycmVudCAmJiBoLmN1cnJlbnQuaW5zdGFuY2UudW5vYnNlcnZlKHQpO1xuICAgICAgfTtcbiAgICB9LCBbZS5ib3gsIHVdKSwgZS5yZWYpO1xuICByZXR1cm4gcyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZjogcCxcbiAgICAgIHdpZHRoOiBsLndpZHRoLFxuICAgICAgaGVpZ2h0OiBsLmhlaWdodFxuICAgIH07XG4gIH0sIFtwLCBsLndpZHRoLCBsLmhlaWdodF0pO1xufVxudmFyIEUgPSBcImFsbG90bWVudC1tb2R1bGVfc3BsaXRWaWV3X19MLXlSY1wiLFxuICBWID0gXCJhbGxvdG1lbnQtbW9kdWxlX3Nhc2hDb250YWluZXJfX2Z6d0pGXCIsXG4gIGogPSBcImFsbG90bWVudC1tb2R1bGVfc3BsaXRWaWV3Q29udGFpbmVyX19yUW5WYVwiLFxuICBOID0gXCJhbGxvdG1lbnQtbW9kdWxlX3NwbGl0Vmlld1ZpZXdfX01HWjZPXCIsXG4gIEwgPSBcImFsbG90bWVudC1tb2R1bGVfdmVydGljYWxfX1dTd3dhXCIsXG4gIEQgPSBcImFsbG90bWVudC1tb2R1bGVfaG9yaXpvbnRhbF9fN2RvUzhcIixcbiAgTyA9IFwiYWxsb3RtZW50LW1vZHVsZV9zZXBhcmF0b3JCb3JkZXJfX3gtckRTXCI7XG5sZXQgTSxcbiAgUCA9ICExLFxuICBBID0gITE7XG5cIm9iamVjdFwiID09IHR5cGVvZiBuYXZpZ2F0b3IgJiYgKE0gPSBuYXZpZ2F0b3IudXNlckFnZW50LCBBID0gTS5pbmRleE9mKFwiTWFjaW50b3NoXCIpID49IDAsIFAgPSAoTS5pbmRleE9mKFwiTWFjaW50b3NoXCIpID49IDAgfHwgTS5pbmRleE9mKFwiaVBhZFwiKSA+PSAwIHx8IE0uaW5kZXhPZihcImlQaG9uZVwiKSA+PSAwKSAmJiAhIW5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyAmJiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwKTtcbmNvbnN0IFQgPSBQLFxuICBDID0gQSxcbiAgRiA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHdpbmRvdyAmJiB2b2lkIDAgIT09IHdpbmRvdy5kb2N1bWVudCAmJiB2b2lkIDAgIT09IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ID8gbyA6IG47XG5jbGFzcyBrIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fc2l6ZSA9IHZvaWQgMDtcbiAgfVxuICBnZXRTaXplKCkge1xuICAgIHJldHVybiB0aGlzLl9zaXplO1xuICB9XG4gIHNldFNpemUoZSkge1xuICAgIHRoaXMuX3NpemUgPSBlO1xuICB9XG59XG5mdW5jdGlvbiAkKGUsIHQpIHtcbiAgY29uc3QgaSA9IGUubGVuZ3RoLFxuICAgIG4gPSBpIC0gdC5sZW5ndGg7XG4gIHJldHVybiBuID49IDAgJiYgZS5zbGljZShuLCBpKSA9PT0gdDtcbn1cbnZhciBIID0ge307XG4hZnVuY3Rpb24gKGUpIHtcbiAgdmFyIHQgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgIGkgPSBcIn5cIjtcbiAgZnVuY3Rpb24gbigpIHt9XG4gIGZ1bmN0aW9uIHIoZSwgdCwgaSkge1xuICAgIHRoaXMuZm4gPSBlLCB0aGlzLmNvbnRleHQgPSB0LCB0aGlzLm9uY2UgPSBpIHx8ICExO1xuICB9XG4gIGZ1bmN0aW9uIHMoZSwgdCwgbiwgcywgbykge1xuICAgIGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIG4pIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgIHZhciBhID0gbmV3IHIobiwgcyB8fCBlLCBvKSxcbiAgICAgIHUgPSBpID8gaSArIHQgOiB0O1xuICAgIHJldHVybiBlLl9ldmVudHNbdV0gPyBlLl9ldmVudHNbdV0uZm4gPyBlLl9ldmVudHNbdV0gPSBbZS5fZXZlbnRzW3VdLCBhXSA6IGUuX2V2ZW50c1t1XS5wdXNoKGEpIDogKGUuX2V2ZW50c1t1XSA9IGEsIGUuX2V2ZW50c0NvdW50KyspLCBlO1xuICB9XG4gIGZ1bmN0aW9uIG8oZSwgdCkge1xuICAgIDAgPT0gLS1lLl9ldmVudHNDb3VudCA/IGUuX2V2ZW50cyA9IG5ldyBuKCkgOiBkZWxldGUgZS5fZXZlbnRzW3RdO1xuICB9XG4gIGZ1bmN0aW9uIGEoKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IG4oKSwgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG4gIE9iamVjdC5jcmVhdGUgJiYgKG4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKSwgbmV3IG4oKS5fX3Byb3RvX18gfHwgKGkgPSAhMSkpLCBhLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlLFxuICAgICAgbixcbiAgICAgIHIgPSBbXTtcbiAgICBpZiAoMCA9PT0gdGhpcy5fZXZlbnRzQ291bnQpIHJldHVybiByO1xuICAgIGZvciAobiBpbiBlID0gdGhpcy5fZXZlbnRzKSB0LmNhbGwoZSwgbikgJiYgci5wdXNoKGkgPyBuLnNsaWNlKDEpIDogbik7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPyByLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKSA6IHI7XG4gIH0sIGEucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHQgPSBpID8gaSArIGUgOiBlLFxuICAgICAgbiA9IHRoaXMuX2V2ZW50c1t0XTtcbiAgICBpZiAoIW4pIHJldHVybiBbXTtcbiAgICBpZiAobi5mbikgcmV0dXJuIFtuLmZuXTtcbiAgICBmb3IgKHZhciByID0gMCwgcyA9IG4ubGVuZ3RoLCBvID0gbmV3IEFycmF5KHMpOyByIDwgczsgcisrKSBvW3JdID0gbltyXS5mbjtcbiAgICByZXR1cm4gbztcbiAgfSwgYS5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHQgPSBpID8gaSArIGUgOiBlLFxuICAgICAgbiA9IHRoaXMuX2V2ZW50c1t0XTtcbiAgICByZXR1cm4gbiA/IG4uZm4gPyAxIDogbi5sZW5ndGggOiAwO1xuICB9LCBhLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIsIHMsIG8pIHtcbiAgICB2YXIgYSA9IGkgPyBpICsgZSA6IGU7XG4gICAgaWYgKCF0aGlzLl9ldmVudHNbYV0pIHJldHVybiAhMTtcbiAgICB2YXIgdSxcbiAgICAgIGgsXG4gICAgICBjID0gdGhpcy5fZXZlbnRzW2FdLFxuICAgICAgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGMuZm4pIHtcbiAgICAgIHN3aXRjaCAoYy5vbmNlICYmIHRoaXMucmVtb3ZlTGlzdGVuZXIoZSwgYy5mbiwgdm9pZCAwLCAhMCksIGwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBjLmZuLmNhbGwoYy5jb250ZXh0KSwgITA7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gYy5mbi5jYWxsKGMuY29udGV4dCwgdCksICEwO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuIGMuZm4uY2FsbChjLmNvbnRleHQsIHQsIG4pLCAhMDtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiBjLmZuLmNhbGwoYy5jb250ZXh0LCB0LCBuLCByKSwgITA7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gYy5mbi5jYWxsKGMuY29udGV4dCwgdCwgbiwgciwgcyksICEwO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgcmV0dXJuIGMuZm4uY2FsbChjLmNvbnRleHQsIHQsIG4sIHIsIHMsIG8pLCAhMDtcbiAgICAgIH1cbiAgICAgIGZvciAoaCA9IDEsIHUgPSBuZXcgQXJyYXkobCAtIDEpOyBoIDwgbDsgaCsrKSB1W2ggLSAxXSA9IGFyZ3VtZW50c1toXTtcbiAgICAgIGMuZm4uYXBwbHkoYy5jb250ZXh0LCB1KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGYsXG4gICAgICAgIG0gPSBjLmxlbmd0aDtcbiAgICAgIGZvciAoaCA9IDA7IGggPCBtOyBoKyspIHN3aXRjaCAoY1toXS5vbmNlICYmIHRoaXMucmVtb3ZlTGlzdGVuZXIoZSwgY1toXS5mbiwgdm9pZCAwLCAhMCksIGwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGNbaF0uZm4uY2FsbChjW2hdLmNvbnRleHQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgY1toXS5mbi5jYWxsKGNbaF0uY29udGV4dCwgdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBjW2hdLmZuLmNhbGwoY1toXS5jb250ZXh0LCB0LCBuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIGNbaF0uZm4uY2FsbChjW2hdLmNvbnRleHQsIHQsIG4sIHIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghdSkgZm9yIChmID0gMSwgdSA9IG5ldyBBcnJheShsIC0gMSk7IGYgPCBsOyBmKyspIHVbZiAtIDFdID0gYXJndW1lbnRzW2ZdO1xuICAgICAgICAgIGNbaF0uZm4uYXBwbHkoY1toXS5jb250ZXh0LCB1KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICEwO1xuICB9LCBhLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChlLCB0LCBpKSB7XG4gICAgcmV0dXJuIHModGhpcywgZSwgdCwgaSwgITEpO1xuICB9LCBhLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gKGUsIHQsIGkpIHtcbiAgICByZXR1cm4gcyh0aGlzLCBlLCB0LCBpLCAhMCk7XG4gIH0sIGEucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHtcbiAgICB2YXIgcyA9IGkgPyBpICsgZSA6IGU7XG4gICAgaWYgKCF0aGlzLl9ldmVudHNbc10pIHJldHVybiB0aGlzO1xuICAgIGlmICghdCkgcmV0dXJuIG8odGhpcywgcyksIHRoaXM7XG4gICAgdmFyIGEgPSB0aGlzLl9ldmVudHNbc107XG4gICAgaWYgKGEuZm4pIGEuZm4gIT09IHQgfHwgciAmJiAhYS5vbmNlIHx8IG4gJiYgYS5jb250ZXh0ICE9PSBuIHx8IG8odGhpcywgcyk7ZWxzZSB7XG4gICAgICBmb3IgKHZhciB1ID0gMCwgaCA9IFtdLCBjID0gYS5sZW5ndGg7IHUgPCBjOyB1KyspIChhW3VdLmZuICE9PSB0IHx8IHIgJiYgIWFbdV0ub25jZSB8fCBuICYmIGFbdV0uY29udGV4dCAhPT0gbikgJiYgaC5wdXNoKGFbdV0pO1xuICAgICAgaC5sZW5ndGggPyB0aGlzLl9ldmVudHNbc10gPSAxID09PSBoLmxlbmd0aCA/IGhbMF0gOiBoIDogbyh0aGlzLCBzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sIGEucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHQ7XG4gICAgcmV0dXJuIGUgPyAodCA9IGkgPyBpICsgZSA6IGUsIHRoaXMuX2V2ZW50c1t0XSAmJiBvKHRoaXMsIHQpKSA6ICh0aGlzLl9ldmVudHMgPSBuZXcgbigpLCB0aGlzLl9ldmVudHNDb3VudCA9IDApLCB0aGlzO1xuICB9LCBhLnByb3RvdHlwZS5vZmYgPSBhLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciwgYS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBhLnByb3RvdHlwZS5vbiwgYS5wcmVmaXhlZCA9IGksIGEuRXZlbnRFbWl0dGVyID0gYSwgZS5leHBvcnRzID0gYTtcbn0oe1xuICBnZXQgZXhwb3J0cygpIHtcbiAgICByZXR1cm4gSDtcbiAgfSxcbiAgc2V0IGV4cG9ydHMoZSkge1xuICAgIEggPSBlO1xuICB9XG59KTtcbmZ1bmN0aW9uIFkoZSwgdCkge1xuICBjb25zdCBpID0gZS5pbmRleE9mKHQpO1xuICBpID4gLTEgJiYgKGUuc3BsaWNlKGksIDEpLCBlLnVuc2hpZnQodCkpO1xufVxuZnVuY3Rpb24gQihlLCB0KSB7XG4gIGNvbnN0IGkgPSBlLmluZGV4T2YodCk7XG4gIGkgPiAtMSAmJiAoZS5zcGxpY2UoaSwgMSksIGUucHVzaCh0KSk7XG59XG5mdW5jdGlvbiBSKGUsIHQsIGkgPSAxKSB7XG4gIGNvbnN0IG4gPSBNYXRoLm1heCgwLCBNYXRoLmNlaWwoKHQgLSBlKSAvIGkpKSxcbiAgICByID0gbmV3IEFycmF5KG4pO1xuICBsZXQgcyA9IC0xO1xuICBmb3IgKDsgKytzIDwgbjspIHJbc10gPSBlICsgcyAqIGk7XG4gIHJldHVybiByO1xufVxudmFyIFcgPSAvXlxccyt8XFxzKyQvZyxcbiAgRyA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pLFxuICBVID0gL14wYlswMV0rJC9pLFxuICBYID0gL14wb1swLTddKyQvaSxcbiAgSiA9IHBhcnNlSW50LFxuICBLID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgdyAmJiB3ICYmIHcuT2JqZWN0ID09PSBPYmplY3QgJiYgdyxcbiAgWiA9IFwib2JqZWN0XCIgPT0gdHlwZW9mIHNlbGYgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGYsXG4gIFEgPSBLIHx8IFogfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLFxuICBxID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgZWUgPSBNYXRoLm1heCxcbiAgdGUgPSBNYXRoLm1pbixcbiAgaWUgPSBmdW5jdGlvbiBpZSgpIHtcbiAgICByZXR1cm4gUS5EYXRlLm5vdygpO1xuICB9O1xuZnVuY3Rpb24gbmUoZSkge1xuICB2YXIgdCA9IHR5cGVvZiBlO1xuICByZXR1cm4gISFlICYmIChcIm9iamVjdFwiID09IHQgfHwgXCJmdW5jdGlvblwiID09IHQpO1xufVxuZnVuY3Rpb24gcmUoZSkge1xuICBpZiAoXCJudW1iZXJcIiA9PSB0eXBlb2YgZSkgcmV0dXJuIGU7XG4gIGlmIChmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBcInN5bWJvbFwiID09IHR5cGVvZiBlIHx8IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gISFlICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIGU7XG4gICAgfShlKSAmJiBcIltvYmplY3QgU3ltYm9sXVwiID09IHEuY2FsbChlKTtcbiAgfShlKSkgcmV0dXJuIE5hTjtcbiAgaWYgKG5lKGUpKSB7XG4gICAgdmFyIHQgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUudmFsdWVPZiA/IGUudmFsdWVPZigpIDogZTtcbiAgICBlID0gbmUodCkgPyB0ICsgXCJcIiA6IHQ7XG4gIH1cbiAgaWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIGUpIHJldHVybiAwID09PSBlID8gZSA6ICtlO1xuICBlID0gZS5yZXBsYWNlKFcsIFwiXCIpO1xuICB2YXIgaSA9IFUudGVzdChlKTtcbiAgcmV0dXJuIGkgfHwgWC50ZXN0KGUpID8gSihlLnNsaWNlKDIpLCBpID8gMiA6IDgpIDogRy50ZXN0KGUpID8gTmFOIDogK2U7XG59XG52YXIgc2UgPSBmdW5jdGlvbiBzZShlLCB0LCBpKSB7XG4gICAgdmFyIG4sXG4gICAgICByLFxuICAgICAgcyxcbiAgICAgIG8sXG4gICAgICBhLFxuICAgICAgdSxcbiAgICAgIGggPSAwLFxuICAgICAgYyA9ICExLFxuICAgICAgbCA9ICExLFxuICAgICAgZiA9ICEwO1xuICAgIGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO1xuICAgIGZ1bmN0aW9uIG0odCkge1xuICAgICAgdmFyIGkgPSBuLFxuICAgICAgICBzID0gcjtcbiAgICAgIHJldHVybiBuID0gciA9IHZvaWQgMCwgaCA9IHQsIG8gPSBlLmFwcGx5KHMsIGkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkKGUpIHtcbiAgICAgIHJldHVybiBoID0gZSwgYSA9IHNldFRpbWVvdXQodiwgdCksIGMgPyBtKGUpIDogbztcbiAgICB9XG4gICAgZnVuY3Rpb24gcChlKSB7XG4gICAgICB2YXIgaSA9IGUgLSB1O1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdSB8fCBpID49IHQgfHwgaSA8IDAgfHwgbCAmJiBlIC0gaCA+PSBzO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2KCkge1xuICAgICAgdmFyIGUgPSBpZSgpO1xuICAgICAgaWYgKHAoZSkpIHJldHVybiB5KGUpO1xuICAgICAgYSA9IHNldFRpbWVvdXQodiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGkgPSB0IC0gKGUgLSB1KTtcbiAgICAgICAgcmV0dXJuIGwgPyB0ZShpLCBzIC0gKGUgLSBoKSkgOiBpO1xuICAgICAgfShlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHkoZSkge1xuICAgICAgcmV0dXJuIGEgPSB2b2lkIDAsIGYgJiYgbiA/IG0oZSkgOiAobiA9IHIgPSB2b2lkIDAsIG8pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnKCkge1xuICAgICAgdmFyIGUgPSBpZSgpLFxuICAgICAgICBpID0gcChlKTtcbiAgICAgIGlmIChuID0gYXJndW1lbnRzLCByID0gdGhpcywgdSA9IGUsIGkpIHtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gYSkgcmV0dXJuIGQodSk7XG4gICAgICAgIGlmIChsKSByZXR1cm4gYSA9IHNldFRpbWVvdXQodiwgdCksIG0odSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBhICYmIChhID0gc2V0VGltZW91dCh2LCB0KSksIG87XG4gICAgfVxuICAgIHJldHVybiB0ID0gcmUodCkgfHwgMCwgbmUoaSkgJiYgKGMgPSAhIWkubGVhZGluZywgcyA9IChsID0gXCJtYXhXYWl0XCIgaW4gaSkgPyBlZShyZShpLm1heFdhaXQpIHx8IDAsIHQpIDogcywgZiA9IFwidHJhaWxpbmdcIiBpbiBpID8gISFpLnRyYWlsaW5nIDogZiksIGcuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgdm9pZCAwICE9PSBhICYmIGNsZWFyVGltZW91dChhKSwgaCA9IDAsIG4gPSB1ID0gciA9IGEgPSB2b2lkIDA7XG4gICAgfSwgZy5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGEgPyBvIDogeShpZSgpKTtcbiAgICB9LCBnO1xuICB9LFxuICBvZSA9IFwic2FzaC1tb2R1bGVfc2FzaF9fSy05bEJcIixcbiAgYWUgPSBcInNhc2gtbW9kdWxlX2Rpc2FibGVkX19IbS13eFwiLFxuICB1ZSA9IFwic2FzaC1tb2R1bGVfbWFjX19KZjZPSlwiLFxuICBoZSA9IFwic2FzaC1tb2R1bGVfdmVydGljYWxfX3BCLXJzXCIsXG4gIGNlID0gXCJzYXNoLW1vZHVsZV9taW5pbXVtX18tVUt4cFwiLFxuICBsZSA9IFwic2FzaC1tb2R1bGVfbWF4aW11bV9fVENXeERcIixcbiAgZmUgPSBcInNhc2gtbW9kdWxlX2hvcml6b250YWxfX2tGYml3XCIsXG4gIG1lID0gXCJzYXNoLW1vZHVsZV9ob3Zlcl9fODBXNklcIixcbiAgZGUgPSBcInNhc2gtbW9kdWxlX2FjdGl2ZV9fYkpzcERcIjtcbmxldCBwZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgcmV0dXJuIGUuVmVydGljYWwgPSBcIlZFUlRJQ0FMXCIsIGUuSG9yaXpvbnRhbCA9IFwiSE9SSVpPTlRBTFwiLCBlO1xuICB9KHt9KSxcbiAgdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgIHJldHVybiBlLkRpc2FibGVkID0gXCJESVNBQkxFRFwiLCBlLk1pbmltdW0gPSBcIk1JTklNVU1cIiwgZS5NYXhpbXVtID0gXCJNQVhJTVVNXCIsIGUuRW5hYmxlZCA9IFwiRU5BQkxFRFwiLCBlO1xuICB9KHt9KSxcbiAgeWUgPSBUID8gMjAgOiA4O1xuY29uc3QgZ2UgPSBuZXcgSCgpO1xuY2xhc3MgYmUgZXh0ZW5kcyBIIHtcbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgfVxuICBzZXQgc3RhdGUoZSkge1xuICAgIHRoaXMuX3N0YXRlICE9PSBlICYmICh0aGlzLmVsLmNsYXNzTGlzdC50b2dnbGUoYWUsIGUgPT09IHZlLkRpc2FibGVkKSwgdGhpcy5lbC5jbGFzc0xpc3QudG9nZ2xlKFwiZGFzaC1kaXNhYmxlZFwiLCBlID09PSB2ZS5EaXNhYmxlZCksIHRoaXMuZWwuY2xhc3NMaXN0LnRvZ2dsZShjZSwgZSA9PT0gdmUuTWluaW11bSksIHRoaXMuZWwuY2xhc3NMaXN0LnRvZ2dsZShcInNhc2gtbWluaW11bVwiLCBlID09PSB2ZS5NaW5pbXVtKSwgdGhpcy5lbC5jbGFzc0xpc3QudG9nZ2xlKGxlLCBlID09PSB2ZS5NYXhpbXVtKSwgdGhpcy5lbC5jbGFzc0xpc3QudG9nZ2xlKFwic2FzaC1tYXhpbXVtXCIsIGUgPT09IHZlLk1heGltdW0pLCB0aGlzLl9zdGF0ZSA9IGUsIHRoaXMuZW1pdChcImVuYWJsZW1lbnRDaGFuZ2VcIiwgZSkpO1xuICB9XG4gIGNvbnN0cnVjdG9yKGUsIHQsIGkpIHtcbiAgICB2YXIgX2kkb3JpZW50YXRpb247XG4gICAgc3VwZXIoKSwgdGhpcy5lbCA9IHZvaWQgMCwgdGhpcy5sYXlvdXRQcm92aWRlciA9IHZvaWQgMCwgdGhpcy5vcmllbnRhdGlvbiA9IHZvaWQgMCwgdGhpcy5zaXplID0gdm9pZCAwLCB0aGlzLmhvdmVyRGVsYXkgPSAzMDAsIHRoaXMuaG92ZXJEZWxheWVyID0gc2UoZSA9PiBlLmNsYXNzTGlzdC5hZGQoXCJzYXNoLWhvdmVyXCIsIG1lKSwgdGhpcy5ob3ZlckRlbGF5KSwgdGhpcy5fc3RhdGUgPSB2ZS5FbmFibGVkLCB0aGlzLm9uUG9pbnRlclN0YXJ0ID0gZSA9PiB7XG4gICAgICBjb25zdCB0ID0gZS5wYWdlWCxcbiAgICAgICAgaSA9IGUucGFnZVksXG4gICAgICAgIG4gPSB7XG4gICAgICAgICAgc3RhcnRYOiB0LFxuICAgICAgICAgIGN1cnJlbnRYOiB0LFxuICAgICAgICAgIHN0YXJ0WTogaSxcbiAgICAgICAgICBjdXJyZW50WTogaVxuICAgICAgICB9O1xuICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKFwic2FzaC1hY3RpdmVcIiwgZGUpLCB0aGlzLmVtaXQoXCJzdGFydFwiLCBuKSwgdGhpcy5lbC5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG4gICAgICBjb25zdCByID0gZSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGNvbnN0IG4gPSB7XG4gICAgICAgICAgICBzdGFydFg6IHQsXG4gICAgICAgICAgICBjdXJyZW50WDogZS5wYWdlWCxcbiAgICAgICAgICAgIHN0YXJ0WTogaSxcbiAgICAgICAgICAgIGN1cnJlbnRZOiBlLnBhZ2VZXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwgbik7XG4gICAgICAgIH0sXG4gICAgICAgIHMgPSBlID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZShcInNhc2gtYWN0aXZlXCIsIGRlKSwgdGhpcy5ob3ZlckRlbGF5ZXIuY2FuY2VsKCksIHRoaXMuZW1pdChcImVuZFwiKSwgdGhpcy5lbC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIHIpLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCBzKTtcbiAgICAgICAgfTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgciksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHMpO1xuICAgIH0sIHRoaXMub25Qb2ludGVyRG91YmxlUHJlc3MgPSAoKSA9PiB7XG4gICAgICB0aGlzLmVtaXQoXCJyZXNldFwiKTtcbiAgICB9LCB0aGlzLm9uTW91c2VFbnRlciA9ICgpID0+IHtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGRlKSA/ICh0aGlzLmhvdmVyRGVsYXllci5jYW5jZWwoKSwgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKFwic2FzaC1ob3ZlclwiLCBtZSkpIDogdGhpcy5ob3ZlckRlbGF5ZXIodGhpcy5lbCk7XG4gICAgfSwgdGhpcy5vbk1vdXNlTGVhdmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLmhvdmVyRGVsYXllci5jYW5jZWwoKSwgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKFwic2FzaC1ob3ZlclwiLCBtZSk7XG4gICAgfSwgdGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHRoaXMuZWwuY2xhc3NMaXN0LmFkZChcInNhc2hcIiwgb2UpLCB0aGlzLmVsLmRhdGFzZXQudGVzdGlkID0gXCJzYXNoXCIsIGUuYXBwZW5kKHRoaXMuZWwpLCBDICYmIHRoaXMuZWwuY2xhc3NMaXN0LmFkZChcInNhc2gtbWFjXCIsIHVlKSwgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgdGhpcy5vblBvaW50ZXJTdGFydCksIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIHRoaXMub25Qb2ludGVyRG91YmxlUHJlc3MpLCB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMub25Nb3VzZUVudGVyKSwgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLm9uTW91c2VMZWF2ZSksIFwibnVtYmVyXCIgPT0gdHlwZW9mIGkuc2l6ZSA/ICh0aGlzLnNpemUgPSBpLnNpemUsIGkub3JpZW50YXRpb24gPT09IHBlLlZlcnRpY2FsID8gdGhpcy5lbC5zdHlsZS53aWR0aCA9IGAke3RoaXMuc2l6ZX1weGAgOiB0aGlzLmVsLnN0eWxlLmhlaWdodCA9IGAke3RoaXMuc2l6ZX1weGApIDogKHRoaXMuc2l6ZSA9IHllLCBnZS5vbihcIm9uRGlkQ2hhbmdlR2xvYmFsU2l6ZVwiLCBlID0+IHtcbiAgICAgIHRoaXMuc2l6ZSA9IGUsIHRoaXMubGF5b3V0KCk7XG4gICAgfSkpLCB0aGlzLmxheW91dFByb3ZpZGVyID0gdCwgdGhpcy5vcmllbnRhdGlvbiA9IChfaSRvcmllbnRhdGlvbiA9IGkub3JpZW50YXRpb24pICE9IG51bGwgPyBfaSRvcmllbnRhdGlvbiA6IHBlLlZlcnRpY2FsLCB0aGlzLm9yaWVudGF0aW9uID09PSBwZS5Ib3Jpem9udGFsID8gKHRoaXMuZWwuY2xhc3NMaXN0LmFkZChcInNhc2gtaG9yaXpvbnRhbFwiLCBmZSksIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZShcInNhc2gtdmVydGljYWxcIiwgaGUpKSA6ICh0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJzYXNoLWhvcml6b250YWxcIiwgZmUpLCB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoXCJzYXNoLXZlcnRpY2FsXCIsIGhlKSksIHRoaXMubGF5b3V0KCk7XG4gIH1cbiAgbGF5b3V0KCkge1xuICAgIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSBwZS5WZXJ0aWNhbCkge1xuICAgICAgY29uc3QgZSA9IHRoaXMubGF5b3V0UHJvdmlkZXI7XG4gICAgICB0aGlzLmVsLnN0eWxlLmxlZnQgPSBlLmdldFZlcnRpY2FsU2FzaExlZnQodGhpcykgLSB0aGlzLnNpemUgLyAyICsgXCJweFwiLCBlLmdldFZlcnRpY2FsU2FzaFRvcCAmJiAodGhpcy5lbC5zdHlsZS50b3AgPSBlLmdldFZlcnRpY2FsU2FzaFRvcCh0aGlzKSArIFwicHhcIiksIGUuZ2V0VmVydGljYWxTYXNoSGVpZ2h0ICYmICh0aGlzLmVsLnN0eWxlLmhlaWdodCA9IGUuZ2V0VmVydGljYWxTYXNoSGVpZ2h0KHRoaXMpICsgXCJweFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZSA9IHRoaXMubGF5b3V0UHJvdmlkZXI7XG4gICAgICB0aGlzLmVsLnN0eWxlLnRvcCA9IGUuZ2V0SG9yaXpvbnRhbFNhc2hUb3AodGhpcykgLSB0aGlzLnNpemUgLyAyICsgXCJweFwiLCBlLmdldEhvcml6b250YWxTYXNoTGVmdCAmJiAodGhpcy5lbC5zdHlsZS5sZWZ0ID0gZS5nZXRIb3Jpem9udGFsU2FzaExlZnQodGhpcykgKyBcInB4XCIpLCBlLmdldEhvcml6b250YWxTYXNoV2lkdGggJiYgKHRoaXMuZWwuc3R5bGUud2lkdGggPSBlLmdldEhvcml6b250YWxTYXNoV2lkdGgodGhpcykgKyBcInB4XCIpO1xuICAgIH1cbiAgfVxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMub25Qb2ludGVyU3RhcnQpLCB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCB0aGlzLm9uUG9pbnRlckRvdWJsZVByZXNzKSwgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLm9uTW91c2VFbnRlciksIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4gdGhpcy5vbk1vdXNlTGVhdmUpLCB0aGlzLmVsLnJlbW92ZSgpO1xuICB9XG59XG5sZXQgemU7XG52YXIgd2U7XG4od2UgPSB6ZSB8fCAoemUgPSB7fSkpLkRpc3RyaWJ1dGUgPSB7XG4gIHR5cGU6IFwiZGlzdHJpYnV0ZVwiXG59LCB3ZS5TcGxpdCA9IGZ1bmN0aW9uIChlKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJzcGxpdFwiLFxuICAgIGluZGV4OiBlXG4gIH07XG59LCB3ZS5JbnZpc2libGUgPSBmdW5jdGlvbiAoZSkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiaW52aXNpYmxlXCIsXG4gICAgY2FjaGVkVmlzaWJsZVNpemU6IGVcbiAgfTtcbn07XG5sZXQgU2UgPSBmdW5jdGlvbiAoZSkge1xuICByZXR1cm4gZS5Ob3JtYWwgPSBcIk5PUk1BTFwiLCBlLkxvdyA9IFwiTE9XXCIsIGUuSGlnaCA9IFwiSElHSFwiLCBlO1xufSh7fSk7XG5jbGFzcyBfZSB7XG4gIGNvbnN0cnVjdG9yKGUsIHQsIGkpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IHZvaWQgMCwgdGhpcy52aWV3ID0gdm9pZCAwLCB0aGlzLl9zaXplID0gdm9pZCAwLCB0aGlzLl9jYWNoZWRWaXNpYmxlU2l6ZSA9IHZvaWQgMCwgdGhpcy5jb250YWluZXIgPSBlLCB0aGlzLnZpZXcgPSB0LCB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwic3BsaXQtdmlldy12aWV3XCIsIE4pLCB0aGlzLmNvbnRhaW5lci5kYXRhc2V0LnRlc3RpZCA9IFwic3BsaXQtdmlldy12aWV3XCIsIFwibnVtYmVyXCIgPT0gdHlwZW9mIGkgPyAodGhpcy5fc2l6ZSA9IGksIHRoaXMuX2NhY2hlZFZpc2libGVTaXplID0gdm9pZCAwLCBlLmNsYXNzTGlzdC5hZGQoXCJzcGxpdC12aWV3LXZpZXctdmlzaWJsZVwiKSkgOiAodGhpcy5fc2l6ZSA9IDAsIHRoaXMuX2NhY2hlZFZpc2libGVTaXplID0gaS5jYWNoZWRWaXNpYmxlU2l6ZSk7XG4gIH1cbiAgc2V0IHNpemUoZSkge1xuICAgIHRoaXMuX3NpemUgPSBlO1xuICB9XG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLl9zaXplO1xuICB9XG4gIGdldCBwcmlvcml0eSgpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3LnByaW9yaXR5O1xuICB9XG4gIGdldCBzbmFwKCkge1xuICAgIHJldHVybiAhIXRoaXMudmlldy5zbmFwO1xuICB9XG4gIGdldCBjYWNoZWRWaXNpYmxlU2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkVmlzaWJsZVNpemU7XG4gIH1cbiAgZ2V0IHZpc2libGUoKSB7XG4gICAgcmV0dXJuIHZvaWQgMCA9PT0gdGhpcy5fY2FjaGVkVmlzaWJsZVNpemU7XG4gIH1cbiAgc2V0VmlzaWJsZShlLCB0KSB7XG4gICAgZSAhPT0gdGhpcy52aXNpYmxlICYmIChlID8gKHRoaXMuc2l6ZSA9IHoodGhpcy5fY2FjaGVkVmlzaWJsZVNpemUsIHRoaXMudmlld01pbmltdW1TaXplLCB0aGlzLnZpZXdNYXhpbXVtU2l6ZSksIHRoaXMuX2NhY2hlZFZpc2libGVTaXplID0gdm9pZCAwKSA6ICh0aGlzLl9jYWNoZWRWaXNpYmxlU2l6ZSA9IFwibnVtYmVyXCIgPT0gdHlwZW9mIHQgPyB0IDogdGhpcy5zaXplLCB0aGlzLnNpemUgPSAwKSwgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcInNwbGl0LXZpZXctdmlldy12aXNpYmxlXCIsIGUpLCB0aGlzLnZpZXcuc2V0VmlzaWJsZSAmJiB0aGlzLnZpZXcuc2V0VmlzaWJsZShlKSk7XG4gIH1cbiAgZ2V0IG1pbmltdW1TaXplKCkge1xuICAgIHJldHVybiB0aGlzLnZpc2libGUgPyB0aGlzLnZpZXcubWluaW11bVNpemUgOiAwO1xuICB9XG4gIGdldCB2aWV3TWluaW11bVNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5taW5pbXVtU2l6ZTtcbiAgfVxuICBnZXQgbWF4aW11bVNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlzaWJsZSA/IHRoaXMudmlldy5tYXhpbXVtU2l6ZSA6IDA7XG4gIH1cbiAgZ2V0IHZpZXdNYXhpbXVtU2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3Lm1heGltdW1TaXplO1xuICB9XG4gIHNldCBlbmFibGVkKGUpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gZSA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgfVxuICBsYXlvdXQoZSkge1xuICAgIHRoaXMubGF5b3V0Q29udGFpbmVyKGUpLCB0aGlzLnZpZXcubGF5b3V0KHRoaXMuc2l6ZSwgZSk7XG4gIH1cbn1cbmNsYXNzIEllIGV4dGVuZHMgX2Uge1xuICBsYXlvdXRDb250YWluZXIoZSkge1xuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHtlfXB4YCwgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBgJHt0aGlzLnNpemV9cHhgO1xuICB9XG59XG5jbGFzcyB4ZSBleHRlbmRzIF9lIHtcbiAgbGF5b3V0Q29udGFpbmVyKGUpIHtcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSBgJHtlfXB4YCwgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5zaXplfXB4YDtcbiAgfVxufVxuY2xhc3MgRWUgZXh0ZW5kcyBIIHtcbiAgZ2V0IHN0YXJ0U25hcHBpbmdFbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGFydFNuYXBwaW5nRW5hYmxlZDtcbiAgfVxuICBzZXQgc3RhcnRTbmFwcGluZ0VuYWJsZWQoZSkge1xuICAgIHRoaXMuX3N0YXJ0U25hcHBpbmdFbmFibGVkICE9PSBlICYmICh0aGlzLl9zdGFydFNuYXBwaW5nRW5hYmxlZCA9IGUsIHRoaXMudXBkYXRlU2FzaEVuYWJsZW1lbnQoKSk7XG4gIH1cbiAgZ2V0IGVuZFNuYXBwaW5nRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5kU25hcHBpbmdFbmFibGVkO1xuICB9XG4gIHNldCBlbmRTbmFwcGluZ0VuYWJsZWQoZSkge1xuICAgIHRoaXMuX2VuZFNuYXBwaW5nRW5hYmxlZCAhPT0gZSAmJiAodGhpcy5fZW5kU25hcHBpbmdFbmFibGVkID0gZSwgdGhpcy51cGRhdGVTYXNoRW5hYmxlbWVudCgpKTtcbiAgfVxuICBjb25zdHJ1Y3RvcihlLCB0ID0ge30sIGksIG4sIHIpIHtcbiAgICB2YXIgX3Qkb3JpZW50YXRpb24sIF90JHByb3BvcnRpb25hbExheW91dDtcbiAgICBpZiAoc3VwZXIoKSwgdGhpcy5vbkRpZENoYW5nZSA9IHZvaWQgMCwgdGhpcy5vbkRpZERyYWdTdGFydCA9IHZvaWQgMCwgdGhpcy5vbkRpZERyYWdFbmQgPSB2b2lkIDAsIHRoaXMub3JpZW50YXRpb24gPSB2b2lkIDAsIHRoaXMuc2FzaENvbnRhaW5lciA9IHZvaWQgMCwgdGhpcy5zaXplID0gMCwgdGhpcy5jb250ZW50U2l6ZSA9IDAsIHRoaXMucHJvcG9ydGlvbnMgPSB2b2lkIDAsIHRoaXMudmlld0l0ZW1zID0gW10sIHRoaXMuc2FzaEl0ZW1zID0gW10sIHRoaXMuc2FzaERyYWdTdGF0ZSA9IHZvaWQgMCwgdGhpcy5wcm9wb3J0aW9uYWxMYXlvdXQgPSB2b2lkIDAsIHRoaXMuZ2V0U2FzaE9ydGhvZ29uYWxTaXplID0gdm9pZCAwLCB0aGlzLl9zdGFydFNuYXBwaW5nRW5hYmxlZCA9ICEwLCB0aGlzLl9lbmRTbmFwcGluZ0VuYWJsZWQgPSAhMCwgdGhpcy5vblNhc2hFbmQgPSBlID0+IHtcbiAgICAgIHRoaXMuZW1pdChcInNhc2hjaGFuZ2VcIiwgZSksIHRoaXMuc2F2ZVByb3BvcnRpb25zKCk7XG4gICAgICBmb3IgKGNvbnN0IF9lMiBvZiB0aGlzLnZpZXdJdGVtcykgX2UyLmVuYWJsZWQgPSAhMDtcbiAgICB9LCB0aGlzLm9yaWVudGF0aW9uID0gKF90JG9yaWVudGF0aW9uID0gdC5vcmllbnRhdGlvbikgIT0gbnVsbCA/IF90JG9yaWVudGF0aW9uIDogcGUuVmVydGljYWwsIHRoaXMucHJvcG9ydGlvbmFsTGF5b3V0ID0gKF90JHByb3BvcnRpb25hbExheW91dCA9IHQucHJvcG9ydGlvbmFsTGF5b3V0KSAhPSBudWxsID8gX3QkcHJvcG9ydGlvbmFsTGF5b3V0IDogITAsIHRoaXMuZ2V0U2FzaE9ydGhvZ29uYWxTaXplID0gdC5nZXRTYXNoT3J0aG9nb25hbFNpemUsIGkgJiYgKHRoaXMub25EaWRDaGFuZ2UgPSBpKSwgbiAmJiAodGhpcy5vbkRpZERyYWdTdGFydCA9IG4pLCByICYmICh0aGlzLm9uRGlkRHJhZ0VuZCA9IHIpLCB0aGlzLnNhc2hDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCB0aGlzLnNhc2hDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInNhc2gtY29udGFpbmVyXCIsIFYpLCBlLnByZXBlbmQodGhpcy5zYXNoQ29udGFpbmVyKSwgdC5kZXNjcmlwdG9yKSB7XG4gICAgICB0aGlzLnNpemUgPSB0LmRlc2NyaXB0b3Iuc2l6ZTtcbiAgICAgIGZvciAoY29uc3QgW19lMywgX2ldIG9mIHQuZGVzY3JpcHRvci52aWV3cy5lbnRyaWVzKCkpIHtcbiAgICAgICAgY29uc3QgX3QgPSBfaS5zaXplLFxuICAgICAgICAgIF9uID0gX2kuY29udGFpbmVyLFxuICAgICAgICAgIF9yID0gX2kudmlldztcbiAgICAgICAgdGhpcy5hZGRWaWV3KF9uLCBfciwgX3QsIF9lMywgITApO1xuICAgICAgfVxuICAgICAgdGhpcy5jb250ZW50U2l6ZSA9IHRoaXMudmlld0l0ZW1zLnJlZHVjZSgoZSwgdCkgPT4gZSArIHQuc2l6ZSwgMCksIHRoaXMuc2F2ZVByb3BvcnRpb25zKCk7XG4gICAgfVxuICB9XG4gIGFkZFZpZXcoZSwgdCwgaSwgbiA9IHRoaXMudmlld0l0ZW1zLmxlbmd0aCwgcikge1xuICAgIGxldCBzO1xuICAgIHMgPSBcIm51bWJlclwiID09IHR5cGVvZiBpID8gaSA6IFwic3BsaXRcIiA9PT0gaS50eXBlID8gdGhpcy5nZXRWaWV3U2l6ZShpLmluZGV4KSAvIDIgOiBcImludmlzaWJsZVwiID09PSBpLnR5cGUgPyB7XG4gICAgICBjYWNoZWRWaXNpYmxlU2l6ZTogaS5jYWNoZWRWaXNpYmxlU2l6ZVxuICAgIH0gOiB0Lm1pbmltdW1TaXplO1xuICAgIGNvbnN0IG8gPSB0aGlzLm9yaWVudGF0aW9uID09PSBwZS5WZXJ0aWNhbCA/IG5ldyB4ZShlLCB0LCBzKSA6IG5ldyBJZShlLCB0LCBzKTtcbiAgICBpZiAodGhpcy52aWV3SXRlbXMuc3BsaWNlKG4sIDAsIG8pLCB0aGlzLnZpZXdJdGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBfZTQgPSB0aGlzLm9yaWVudGF0aW9uID09PSBwZS5WZXJ0aWNhbCA/IG5ldyBiZSh0aGlzLnNhc2hDb250YWluZXIsIHtcbiAgICAgICAgICBnZXRIb3Jpem9udGFsU2FzaFRvcDogZSA9PiB0aGlzLmdldFNhc2hQb3NpdGlvbihlKSxcbiAgICAgICAgICBnZXRIb3Jpem9udGFsU2FzaFdpZHRoOiB0aGlzLmdldFNhc2hPcnRob2dvbmFsU2l6ZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgb3JpZW50YXRpb246IHBlLkhvcml6b250YWxcbiAgICAgICAgfSkgOiBuZXcgYmUodGhpcy5zYXNoQ29udGFpbmVyLCB7XG4gICAgICAgICAgZ2V0VmVydGljYWxTYXNoTGVmdDogZSA9PiB0aGlzLmdldFNhc2hQb3NpdGlvbihlKSxcbiAgICAgICAgICBnZXRWZXJ0aWNhbFNhc2hIZWlnaHQ6IHRoaXMuZ2V0U2FzaE9ydGhvZ29uYWxTaXplXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBvcmllbnRhdGlvbjogcGUuVmVydGljYWxcbiAgICAgICAgfSksXG4gICAgICAgIF90MiA9IHRoaXMub3JpZW50YXRpb24gPT09IHBlLlZlcnRpY2FsID8gdCA9PiAoe1xuICAgICAgICAgIHNhc2g6IF9lNCxcbiAgICAgICAgICBzdGFydDogdC5zdGFydFksXG4gICAgICAgICAgY3VycmVudDogdC5jdXJyZW50WVxuICAgICAgICB9KSA6IHQgPT4gKHtcbiAgICAgICAgICBzYXNoOiBfZTQsXG4gICAgICAgICAgc3RhcnQ6IHQuc3RhcnRYLFxuICAgICAgICAgIGN1cnJlbnQ6IHQuY3VycmVudFhcbiAgICAgICAgfSk7XG4gICAgICBfZTQub24oXCJzdGFydFwiLCBlID0+IHtcbiAgICAgICAgdmFyIF90aGlzJG9uRGlkRHJhZ1N0YXJ0O1xuICAgICAgICB0aGlzLmVtaXQoXCJzYXNoRHJhZ1N0YXJ0XCIpLCB0aGlzLm9uU2FzaFN0YXJ0KF90MihlKSk7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLnZpZXdJdGVtcy5tYXAoZSA9PiBlLnNpemUpO1xuICAgICAgICAoX3RoaXMkb25EaWREcmFnU3RhcnQgPSB0aGlzLm9uRGlkRHJhZ1N0YXJ0KSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkb25EaWREcmFnU3RhcnQuY2FsbCh0aGlzLCBpKTtcbiAgICAgIH0pLCBfZTQub24oXCJjaGFuZ2VcIiwgZSA9PiB0aGlzLm9uU2FzaENoYW5nZShfdDIoZSkpKSwgX2U0Lm9uKFwiZW5kXCIsICgpID0+IHtcbiAgICAgICAgdmFyIF90aGlzJG9uRGlkRHJhZ0VuZDtcbiAgICAgICAgdGhpcy5lbWl0KFwic2FzaERyYWdFbmRcIiksIHRoaXMub25TYXNoRW5kKHRoaXMuc2FzaEl0ZW1zLmZpbmRJbmRleCh0ID0+IHQuc2FzaCA9PT0gX2U0KSk7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnZpZXdJdGVtcy5tYXAoZSA9PiBlLnNpemUpO1xuICAgICAgICAoX3RoaXMkb25EaWREcmFnRW5kID0gdGhpcy5vbkRpZERyYWdFbmQpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRvbkRpZERyYWdFbmQuY2FsbCh0aGlzLCB0KTtcbiAgICAgIH0pLCBfZTQub24oXCJyZXNldFwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnNhc2hJdGVtcy5maW5kSW5kZXgodCA9PiB0LnNhc2ggPT09IF9lNCksXG4gICAgICAgICAgaSA9IFIodCwgLTEsIC0xKSxcbiAgICAgICAgICBuID0gUih0ICsgMSwgdGhpcy52aWV3SXRlbXMubGVuZ3RoKSxcbiAgICAgICAgICByID0gdGhpcy5maW5kRmlyc3RTbmFwSW5kZXgoaSksXG4gICAgICAgICAgcyA9IHRoaXMuZmluZEZpcnN0U25hcEluZGV4KG4pO1xuICAgICAgICAoXCJudW1iZXJcIiAhPSB0eXBlb2YgciB8fCB0aGlzLnZpZXdJdGVtc1tyXS52aXNpYmxlKSAmJiAoXCJudW1iZXJcIiAhPSB0eXBlb2YgcyB8fCB0aGlzLnZpZXdJdGVtc1tzXS52aXNpYmxlKSAmJiB0aGlzLmVtaXQoXCJzYXNocmVzZXRcIiwgdCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IF9pMiA9IHtcbiAgICAgICAgc2FzaDogX2U0XG4gICAgICB9O1xuICAgICAgdGhpcy5zYXNoSXRlbXMuc3BsaWNlKG4gLSAxLCAwLCBfaTIpO1xuICAgIH1cbiAgICByIHx8IHRoaXMucmVsYXlvdXQoKSwgciB8fCBcIm51bWJlclwiID09IHR5cGVvZiBpIHx8IFwiZGlzdHJpYnV0ZVwiICE9PSBpLnR5cGUgfHwgdGhpcy5kaXN0cmlidXRlVmlld1NpemVzKCk7XG4gIH1cbiAgcmVtb3ZlVmlldyhlLCB0KSB7XG4gICAgaWYgKGUgPCAwIHx8IGUgPj0gdGhpcy52aWV3SXRlbXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBvdXQgb2YgYm91bmRzXCIpO1xuICAgIGNvbnN0IGkgPSB0aGlzLnZpZXdJdGVtcy5zcGxpY2UoZSwgMSlbMF0udmlldztcbiAgICBpZiAodGhpcy52aWV3SXRlbXMubGVuZ3RoID49IDEpIHtcbiAgICAgIGNvbnN0IF90MyA9IE1hdGgubWF4KGUgLSAxLCAwKTtcbiAgICAgIHRoaXMuc2FzaEl0ZW1zLnNwbGljZShfdDMsIDEpWzBdLnNhc2guZGlzcG9zZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZWxheW91dCgpLCB0ICYmIFwiZGlzdHJpYnV0ZVwiID09PSB0LnR5cGUgJiYgdGhpcy5kaXN0cmlidXRlVmlld1NpemVzKCksIGk7XG4gIH1cbiAgbW92ZVZpZXcoZSwgdCwgaSkge1xuICAgIGNvbnN0IG4gPSB0aGlzLmdldFZpZXdDYWNoZWRWaXNpYmxlU2l6ZSh0KSxcbiAgICAgIHIgPSB2b2lkIDAgPT09IG4gPyB0aGlzLmdldFZpZXdTaXplKHQpIDogemUuSW52aXNpYmxlKG4pLFxuICAgICAgcyA9IHRoaXMucmVtb3ZlVmlldyh0KTtcbiAgICB0aGlzLmFkZFZpZXcoZSwgcywgciwgaSk7XG4gIH1cbiAgZ2V0Vmlld0NhY2hlZFZpc2libGVTaXplKGUpIHtcbiAgICBpZiAoZSA8IDAgfHwgZSA+PSB0aGlzLnZpZXdJdGVtcy5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcIkluZGV4IG91dCBvZiBib3VuZHNcIik7XG4gICAgcmV0dXJuIHRoaXMudmlld0l0ZW1zW2VdLmNhY2hlZFZpc2libGVTaXplO1xuICB9XG4gIGxheW91dChlID0gdGhpcy5zaXplKSB7XG4gICAgY29uc3QgdCA9IE1hdGgubWF4KHRoaXMuc2l6ZSwgdGhpcy5jb250ZW50U2l6ZSk7XG4gICAgaWYgKHRoaXMuc2l6ZSA9IGUsIHRoaXMucHJvcG9ydGlvbnMpIGZvciAobGV0IF90NCA9IDA7IF90NCA8IHRoaXMudmlld0l0ZW1zLmxlbmd0aDsgX3Q0KyspIHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLnZpZXdJdGVtc1tfdDRdO1xuICAgICAgaS5zaXplID0geihNYXRoLnJvdW5kKHRoaXMucHJvcG9ydGlvbnNbX3Q0XSAqIGUpLCBpLm1pbmltdW1TaXplLCBpLm1heGltdW1TaXplKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaSA9IFIoMCwgdGhpcy52aWV3SXRlbXMubGVuZ3RoKSxcbiAgICAgICAgbiA9IGkuZmlsdGVyKGUgPT4gdGhpcy52aWV3SXRlbXNbZV0ucHJpb3JpdHkgPT09IFNlLkxvdyksXG4gICAgICAgIHIgPSBpLmZpbHRlcihlID0+IHRoaXMudmlld0l0ZW1zW2VdLnByaW9yaXR5ID09PSBTZS5IaWdoKTtcbiAgICAgIHRoaXMucmVzaXplKHRoaXMudmlld0l0ZW1zLmxlbmd0aCAtIDEsIGUgLSB0LCB2b2lkIDAsIG4sIHIpO1xuICAgIH1cbiAgICB0aGlzLmRpc3RyaWJ1dGVFbXB0eVNwYWNlKCksIHRoaXMubGF5b3V0Vmlld3MoKTtcbiAgfVxuICByZXNpemVWaWV3KGUsIHQpIHtcbiAgICBpZiAoZSA8IDAgfHwgZSA+PSB0aGlzLnZpZXdJdGVtcy5sZW5ndGgpIHJldHVybjtcbiAgICBjb25zdCBpID0gUigwLCB0aGlzLnZpZXdJdGVtcy5sZW5ndGgpLmZpbHRlcih0ID0+IHQgIT09IGUpLFxuICAgICAgbiA9IFsuLi5pLmZpbHRlcihlID0+IHRoaXMudmlld0l0ZW1zW2VdLnByaW9yaXR5ID09PSBTZS5Mb3cpLCBlXSxcbiAgICAgIHIgPSBpLmZpbHRlcihlID0+IHRoaXMudmlld0l0ZW1zW2VdLnByaW9yaXR5ID09PSBTZS5IaWdoKSxcbiAgICAgIHMgPSB0aGlzLnZpZXdJdGVtc1tlXTtcbiAgICB0ID0gTWF0aC5yb3VuZCh0KSwgdCA9IHoodCwgcy5taW5pbXVtU2l6ZSwgTWF0aC5taW4ocy5tYXhpbXVtU2l6ZSwgdGhpcy5zaXplKSksIHMuc2l6ZSA9IHQsIHRoaXMucmVsYXlvdXQobiwgcik7XG4gIH1cbiAgcmVzaXplVmlld3MoZSkge1xuICAgIGZvciAobGV0IHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykge1xuICAgICAgY29uc3QgaSA9IHRoaXMudmlld0l0ZW1zW3RdO1xuICAgICAgbGV0IG4gPSBlW3RdO1xuICAgICAgbiA9IE1hdGgucm91bmQobiksIG4gPSB6KG4sIGkubWluaW11bVNpemUsIE1hdGgubWluKGkubWF4aW11bVNpemUsIHRoaXMuc2l6ZSkpLCBpLnNpemUgPSBuO1xuICAgIH1cbiAgICB0aGlzLmNvbnRlbnRTaXplID0gdGhpcy52aWV3SXRlbXMucmVkdWNlKChlLCB0KSA9PiBlICsgdC5zaXplLCAwKSwgdGhpcy5zYXZlUHJvcG9ydGlvbnMoKSwgdGhpcy5sYXlvdXQodGhpcy5zaXplKTtcbiAgfVxuICBnZXRWaWV3U2l6ZShlKSB7XG4gICAgcmV0dXJuIGUgPCAwIHx8IGUgPj0gdGhpcy52aWV3SXRlbXMubGVuZ3RoID8gLTEgOiB0aGlzLnZpZXdJdGVtc1tlXS5zaXplO1xuICB9XG4gIGlzVmlld1Zpc2libGUoZSkge1xuICAgIGlmIChlIDwgMCB8fCBlID49IHRoaXMudmlld0l0ZW1zLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKFwiSW5kZXggb3V0IG9mIGJvdW5kc1wiKTtcbiAgICByZXR1cm4gdGhpcy52aWV3SXRlbXNbZV0udmlzaWJsZTtcbiAgfVxuICBzZXRWaWV3VmlzaWJsZShlLCB0KSB7XG4gICAgaWYgKGUgPCAwIHx8IGUgPj0gdGhpcy52aWV3SXRlbXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoXCJJbmRleCBvdXQgb2YgYm91bmRzXCIpO1xuICAgIHRoaXMudmlld0l0ZW1zW2VdLnNldFZpc2libGUodCksIHRoaXMuZGlzdHJpYnV0ZUVtcHR5U3BhY2UoZSksIHRoaXMubGF5b3V0Vmlld3MoKSwgdGhpcy5zYXZlUHJvcG9ydGlvbnMoKTtcbiAgfVxuICBkaXN0cmlidXRlVmlld1NpemVzKCkge1xuICAgIGNvbnN0IGUgPSBbXTtcbiAgICBsZXQgdCA9IDA7XG4gICAgZm9yIChjb25zdCBfaTMgb2YgdGhpcy52aWV3SXRlbXMpIF9pMy5tYXhpbXVtU2l6ZSAtIF9pMy5taW5pbXVtU2l6ZSA+IDAgJiYgKGUucHVzaChfaTMpLCB0ICs9IF9pMy5zaXplKTtcbiAgICBjb25zdCBpID0gTWF0aC5mbG9vcih0IC8gZS5sZW5ndGgpO1xuICAgIGZvciAoY29uc3QgX3Q1IG9mIGUpIF90NS5zaXplID0geihpLCBfdDUubWluaW11bVNpemUsIF90NS5tYXhpbXVtU2l6ZSk7XG4gICAgY29uc3QgbiA9IFIoMCwgdGhpcy52aWV3SXRlbXMubGVuZ3RoKSxcbiAgICAgIHIgPSBuLmZpbHRlcihlID0+IHRoaXMudmlld0l0ZW1zW2VdLnByaW9yaXR5ID09PSBTZS5Mb3cpLFxuICAgICAgcyA9IG4uZmlsdGVyKGUgPT4gdGhpcy52aWV3SXRlbXNbZV0ucHJpb3JpdHkgPT09IFNlLkhpZ2gpO1xuICAgIHRoaXMucmVsYXlvdXQociwgcyk7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLnNhc2hJdGVtcy5mb3JFYWNoKGUgPT4gZS5zYXNoLmRpc3Bvc2UoKSksIHRoaXMuc2FzaEl0ZW1zID0gW10sIHRoaXMuc2FzaENvbnRhaW5lci5yZW1vdmUoKTtcbiAgfVxuICByZWxheW91dChlLCB0KSB7XG4gICAgY29uc3QgaSA9IHRoaXMudmlld0l0ZW1zLnJlZHVjZSgoZSwgdCkgPT4gZSArIHQuc2l6ZSwgMCk7XG4gICAgdGhpcy5yZXNpemUodGhpcy52aWV3SXRlbXMubGVuZ3RoIC0gMSwgdGhpcy5zaXplIC0gaSwgdm9pZCAwLCBlLCB0KSwgdGhpcy5kaXN0cmlidXRlRW1wdHlTcGFjZSgpLCB0aGlzLmxheW91dFZpZXdzKCksIHRoaXMuc2F2ZVByb3BvcnRpb25zKCk7XG4gIH1cbiAgb25TYXNoU3RhcnQoe1xuICAgIHNhc2g6IGUsXG4gICAgc3RhcnQ6IHRcbiAgfSkge1xuICAgIGNvbnN0IGkgPSB0aGlzLnNhc2hJdGVtcy5maW5kSW5kZXgodCA9PiB0LnNhc2ggPT09IGUpO1xuICAgIChlID0+IHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLnZpZXdJdGVtcy5tYXAoZSA9PiBlLnNpemUpO1xuICAgICAgbGV0IG4sXG4gICAgICAgIHIsXG4gICAgICAgIHMgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksXG4gICAgICAgIG8gPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICBjb25zdCBhID0gUihpLCAtMSwgLTEpLFxuICAgICAgICB1ID0gUihpICsgMSwgdGhpcy52aWV3SXRlbXMubGVuZ3RoKSxcbiAgICAgICAgaCA9IGEucmVkdWNlKChlLCBpKSA9PiBlICsgKHRoaXMudmlld0l0ZW1zW2ldLm1pbmltdW1TaXplIC0gdFtpXSksIDApLFxuICAgICAgICBjID0gYS5yZWR1Y2UoKGUsIGkpID0+IGUgKyAodGhpcy52aWV3SXRlbXNbaV0udmlld01heGltdW1TaXplIC0gdFtpXSksIDApLFxuICAgICAgICBsID0gMCA9PT0gdS5sZW5ndGggPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOiB1LnJlZHVjZSgoZSwgaSkgPT4gZSArICh0W2ldIC0gdGhpcy52aWV3SXRlbXNbaV0ubWluaW11bVNpemUpLCAwKSxcbiAgICAgICAgZiA9IDAgPT09IHUubGVuZ3RoID8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZIDogdS5yZWR1Y2UoKGUsIGkpID0+IGUgKyAodFtpXSAtIHRoaXMudmlld0l0ZW1zW2ldLnZpZXdNYXhpbXVtU2l6ZSksIDApO1xuICAgICAgcyA9IE1hdGgubWF4KGgsIGYpLCBvID0gTWF0aC5taW4obCwgYyk7XG4gICAgICBjb25zdCBtID0gdGhpcy5maW5kRmlyc3RTbmFwSW5kZXgoYSksXG4gICAgICAgIGQgPSB0aGlzLmZpbmRGaXJzdFNuYXBJbmRleCh1KTtcbiAgICAgIGlmIChcIm51bWJlclwiID09IHR5cGVvZiBtKSB7XG4gICAgICAgIGNvbnN0IF9lNSA9IHRoaXMudmlld0l0ZW1zW21dLFxuICAgICAgICAgIF90NiA9IE1hdGguZmxvb3IoX2U1LnZpZXdNaW5pbXVtU2l6ZSAvIDIpO1xuICAgICAgICBuID0ge1xuICAgICAgICAgIGluZGV4OiBtLFxuICAgICAgICAgIGxpbWl0RGVsdGE6IF9lNS52aXNpYmxlID8gcyAtIF90NiA6IHMgKyBfdDYsXG4gICAgICAgICAgc2l6ZTogX2U1LnNpemVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChcIm51bWJlclwiID09IHR5cGVvZiBkKSB7XG4gICAgICAgIGNvbnN0IF9lNiA9IHRoaXMudmlld0l0ZW1zW2RdLFxuICAgICAgICAgIF90NyA9IE1hdGguZmxvb3IoX2U2LnZpZXdNaW5pbXVtU2l6ZSAvIDIpO1xuICAgICAgICByID0ge1xuICAgICAgICAgIGluZGV4OiBkLFxuICAgICAgICAgIGxpbWl0RGVsdGE6IF9lNi52aXNpYmxlID8gbyArIF90NyA6IG8gLSBfdDcsXG4gICAgICAgICAgc2l6ZTogX2U2LnNpemVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2FzaERyYWdTdGF0ZSA9IHtcbiAgICAgICAgc3RhcnQ6IGUsXG4gICAgICAgIGN1cnJlbnQ6IGUsXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBzaXplczogdCxcbiAgICAgICAgbWluRGVsdGE6IHMsXG4gICAgICAgIG1heERlbHRhOiBvLFxuICAgICAgICBzbmFwQmVmb3JlOiBuLFxuICAgICAgICBzbmFwQWZ0ZXI6IHJcbiAgICAgIH07XG4gICAgfSkodCk7XG4gIH1cbiAgb25TYXNoQ2hhbmdlKHtcbiAgICBjdXJyZW50OiBlXG4gIH0pIHtcbiAgICBjb25zdCB7XG4gICAgICBpbmRleDogdCxcbiAgICAgIHN0YXJ0OiBpLFxuICAgICAgc2l6ZXM6IG4sXG4gICAgICBtaW5EZWx0YTogcixcbiAgICAgIG1heERlbHRhOiBzLFxuICAgICAgc25hcEJlZm9yZTogbyxcbiAgICAgIHNuYXBBZnRlcjogYVxuICAgIH0gPSB0aGlzLnNhc2hEcmFnU3RhdGU7XG4gICAgdGhpcy5zYXNoRHJhZ1N0YXRlLmN1cnJlbnQgPSBlO1xuICAgIGNvbnN0IHUgPSBlIC0gaTtcbiAgICB0aGlzLnJlc2l6ZSh0LCB1LCBuLCB2b2lkIDAsIHZvaWQgMCwgciwgcywgbywgYSksIHRoaXMuZGlzdHJpYnV0ZUVtcHR5U3BhY2UoKSwgdGhpcy5sYXlvdXRWaWV3cygpO1xuICB9XG4gIGdldFNhc2hQb3NpdGlvbihlKSB7XG4gICAgbGV0IHQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zYXNoSXRlbXMubGVuZ3RoOyBpKyspIGlmICh0ICs9IHRoaXMudmlld0l0ZW1zW2ldLnNpemUsIHRoaXMuc2FzaEl0ZW1zW2ldLnNhc2ggPT09IGUpIHJldHVybiB0O1xuICAgIHJldHVybiAwO1xuICB9XG4gIHJlc2l6ZShlLCB0LCBpID0gdGhpcy52aWV3SXRlbXMubWFwKGUgPT4gZS5zaXplKSwgbiwgciwgcyA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgbyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgYSwgdSkge1xuICAgIGlmIChlIDwgMCB8fCBlID49IHRoaXMudmlld0l0ZW1zLmxlbmd0aCkgcmV0dXJuIDA7XG4gICAgY29uc3QgaCA9IFIoZSwgLTEsIC0xKSxcbiAgICAgIGMgPSBSKGUgKyAxLCB0aGlzLnZpZXdJdGVtcy5sZW5ndGgpO1xuICAgIGlmIChyKSBmb3IgKGNvbnN0IF9lNyBvZiByKSBZKGgsIF9lNyksIFkoYywgX2U3KTtcbiAgICBpZiAobikgZm9yIChjb25zdCBfZTggb2YgbikgQihoLCBfZTgpLCBCKGMsIF9lOCk7XG4gICAgY29uc3QgbCA9IGgubWFwKGUgPT4gdGhpcy52aWV3SXRlbXNbZV0pLFxuICAgICAgZiA9IGgubWFwKGUgPT4gaVtlXSksXG4gICAgICBtID0gYy5tYXAoZSA9PiB0aGlzLnZpZXdJdGVtc1tlXSksXG4gICAgICBkID0gYy5tYXAoZSA9PiBpW2VdKSxcbiAgICAgIHAgPSBoLnJlZHVjZSgoZSwgdCkgPT4gZSArICh0aGlzLnZpZXdJdGVtc1t0XS5taW5pbXVtU2l6ZSAtIGlbdF0pLCAwKSxcbiAgICAgIHYgPSBoLnJlZHVjZSgoZSwgdCkgPT4gZSArICh0aGlzLnZpZXdJdGVtc1t0XS5tYXhpbXVtU2l6ZSAtIGlbdF0pLCAwKSxcbiAgICAgIHkgPSAwID09PSBjLmxlbmd0aCA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6IGMucmVkdWNlKChlLCB0KSA9PiBlICsgKGlbdF0gLSB0aGlzLnZpZXdJdGVtc1t0XS5taW5pbXVtU2l6ZSksIDApLFxuICAgICAgZyA9IDAgPT09IGMubGVuZ3RoID8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZIDogYy5yZWR1Y2UoKGUsIHQpID0+IGUgKyAoaVt0XSAtIHRoaXMudmlld0l0ZW1zW3RdLm1heGltdW1TaXplKSwgMCksXG4gICAgICBiID0gTWF0aC5tYXgocCwgZywgcyksXG4gICAgICB3ID0gTWF0aC5taW4oeSwgdiwgbyk7XG4gICAgbGV0IFMgPSAhMTtcbiAgICBpZiAoYSkge1xuICAgICAgY29uc3QgX2U5ID0gdGhpcy52aWV3SXRlbXNbYS5pbmRleF0sXG4gICAgICAgIF9pNCA9IHQgPj0gYS5saW1pdERlbHRhO1xuICAgICAgUyA9IF9pNCAhPT0gX2U5LnZpc2libGUsIF9lOS5zZXRWaXNpYmxlKF9pNCwgYS5zaXplKTtcbiAgICB9XG4gICAgaWYgKCFTICYmIHUpIHtcbiAgICAgIGNvbnN0IF9lMTAgPSB0aGlzLnZpZXdJdGVtc1t1LmluZGV4XSxcbiAgICAgICAgX2k1ID0gdCA8IHUubGltaXREZWx0YTtcbiAgICAgIFMgPSBfaTUgIT09IF9lMTAudmlzaWJsZSwgX2UxMC5zZXRWaXNpYmxlKF9pNSwgdS5zaXplKTtcbiAgICB9XG4gICAgaWYgKFMpIHJldHVybiB0aGlzLnJlc2l6ZShlLCB0LCBpLCBuLCByLCBzLCBvKTtcbiAgICBmb3IgKGxldCBfZTExID0gMCwgX2k2ID0gdCA9IHoodCwgYiwgdyk7IF9lMTEgPCBsLmxlbmd0aDsgX2UxMSsrKSB7XG4gICAgICBjb25zdCBfdDggPSBsW19lMTFdLFxuICAgICAgICBfbjIgPSB6KGZbX2UxMV0gKyBfaTYsIF90OC5taW5pbXVtU2l6ZSwgX3Q4Lm1heGltdW1TaXplKTtcbiAgICAgIF9pNiAtPSBfbjIgLSBmW19lMTFdLCBfdDguc2l6ZSA9IF9uMjtcbiAgICB9XG4gICAgZm9yIChsZXQgX2UxMiA9IDAsIF9pNyA9IHQ7IF9lMTIgPCBtLmxlbmd0aDsgX2UxMisrKSB7XG4gICAgICBjb25zdCBfdDkgPSBtW19lMTJdLFxuICAgICAgICBfbjMgPSB6KGRbX2UxMl0gLSBfaTcsIF90OS5taW5pbXVtU2l6ZSwgX3Q5Lm1heGltdW1TaXplKTtcbiAgICAgIF9pNyArPSBfbjMgLSBkW19lMTJdLCBfdDkuc2l6ZSA9IF9uMztcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH1cbiAgZGlzdHJpYnV0ZUVtcHR5U3BhY2UoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLnZpZXdJdGVtcy5yZWR1Y2UoKGUsIHQpID0+IGUgKyB0LnNpemUsIDApO1xuICAgIGxldCBpID0gdGhpcy5zaXplIC0gdDtcbiAgICBjb25zdCBuID0gUih0aGlzLnZpZXdJdGVtcy5sZW5ndGggLSAxLCAtMSwgLTEpO1xuICAgIFwibnVtYmVyXCIgPT0gdHlwZW9mIGUgJiYgQihuLCBlKTtcbiAgICBmb3IgKGxldCBfZTEzID0gMDsgMCAhPT0gaSAmJiBfZTEzIDwgbi5sZW5ndGg7IF9lMTMrKykge1xuICAgICAgY29uc3QgX3QxMCA9IHRoaXMudmlld0l0ZW1zW25bX2UxM11dLFxuICAgICAgICByID0geihfdDEwLnNpemUgKyBpLCBfdDEwLm1pbmltdW1TaXplLCBfdDEwLm1heGltdW1TaXplKTtcbiAgICAgIGkgLT0gciAtIF90MTAuc2l6ZSwgX3QxMC5zaXplID0gcjtcbiAgICB9XG4gIH1cbiAgbGF5b3V0Vmlld3MoKSB7XG4gICAgdmFyIF90aGlzJG9uRGlkQ2hhbmdlO1xuICAgIHRoaXMuY29udGVudFNpemUgPSB0aGlzLnZpZXdJdGVtcy5yZWR1Y2UoKGUsIHQpID0+IGUgKyB0LnNpemUsIDApO1xuICAgIGxldCBlID0gMDtcbiAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy52aWV3SXRlbXMpIHQubGF5b3V0KGUpLCBlICs9IHQuc2l6ZTtcbiAgICAoX3RoaXMkb25EaWRDaGFuZ2UgPSB0aGlzLm9uRGlkQ2hhbmdlKSAhPSBudWxsICYmIF90aGlzJG9uRGlkQ2hhbmdlLmNhbGwodGhpcywgdGhpcy52aWV3SXRlbXMubWFwKGUgPT4gZS5zaXplKSksIHRoaXMuc2FzaEl0ZW1zLmZvckVhY2goZSA9PiBlLnNhc2gubGF5b3V0KCkpLCB0aGlzLnVwZGF0ZVNhc2hFbmFibGVtZW50KCk7XG4gIH1cbiAgc2F2ZVByb3BvcnRpb25zKCkge1xuICAgIHRoaXMucHJvcG9ydGlvbmFsTGF5b3V0ICYmIHRoaXMuY29udGVudFNpemUgPiAwICYmICh0aGlzLnByb3BvcnRpb25zID0gdGhpcy52aWV3SXRlbXMubWFwKGUgPT4gZS5zaXplIC8gdGhpcy5jb250ZW50U2l6ZSkpO1xuICB9XG4gIHVwZGF0ZVNhc2hFbmFibGVtZW50KCkge1xuICAgIGxldCBlID0gITE7XG4gICAgY29uc3QgdCA9IHRoaXMudmlld0l0ZW1zLm1hcCh0ID0+IGUgPSB0LnNpemUgLSB0Lm1pbmltdW1TaXplID4gMCB8fCBlKTtcbiAgICBlID0gITE7XG4gICAgY29uc3QgaSA9IHRoaXMudmlld0l0ZW1zLm1hcCh0ID0+IGUgPSB0Lm1heGltdW1TaXplIC0gdC5zaXplID4gMCB8fCBlKSxcbiAgICAgIG4gPSBbLi4udGhpcy52aWV3SXRlbXNdLnJldmVyc2UoKTtcbiAgICBlID0gITE7XG4gICAgY29uc3QgciA9IG4ubWFwKHQgPT4gZSA9IHQuc2l6ZSAtIHQubWluaW11bVNpemUgPiAwIHx8IGUpLnJldmVyc2UoKTtcbiAgICBlID0gITE7XG4gICAgY29uc3QgcyA9IG4ubWFwKHQgPT4gZSA9IHQubWF4aW11bVNpemUgLSB0LnNpemUgPiAwIHx8IGUpLnJldmVyc2UoKTtcbiAgICBsZXQgbyA9IDA7XG4gICAgZm9yIChsZXQgX2UxNCA9IDA7IF9lMTQgPCB0aGlzLnNhc2hJdGVtcy5sZW5ndGg7IF9lMTQrKykge1xuICAgICAgY29uc3Qge1xuICAgICAgICBzYXNoOiBfbjRcbiAgICAgIH0gPSB0aGlzLnNhc2hJdGVtc1tfZTE0XTtcbiAgICAgIG8gKz0gdGhpcy52aWV3SXRlbXNbX2UxNF0uc2l6ZTtcbiAgICAgIGNvbnN0IGEgPSAhKHRbX2UxNF0gJiYgc1tfZTE0ICsgMV0pLFxuICAgICAgICB1ID0gIShpW19lMTRdICYmIHJbX2UxNCArIDFdKTtcbiAgICAgIGlmIChhICYmIHUpIHtcbiAgICAgICAgY29uc3QgX2k4ID0gUihfZTE0LCAtMSwgLTEpLFxuICAgICAgICAgIF9zID0gUihfZTE0ICsgMSwgdGhpcy52aWV3SXRlbXMubGVuZ3RoKSxcbiAgICAgICAgICBfYSA9IHRoaXMuZmluZEZpcnN0U25hcEluZGV4KF9pOCksXG4gICAgICAgICAgX3UgPSB0aGlzLmZpbmRGaXJzdFNuYXBJbmRleChfcyksXG4gICAgICAgICAgaCA9IFwibnVtYmVyXCIgPT0gdHlwZW9mIF9hICYmICF0aGlzLnZpZXdJdGVtc1tfYV0udmlzaWJsZSxcbiAgICAgICAgICBjID0gXCJudW1iZXJcIiA9PSB0eXBlb2YgX3UgJiYgIXRoaXMudmlld0l0ZW1zW191XS52aXNpYmxlO1xuICAgICAgICBoICYmIHJbX2UxNF0gJiYgKG8gPiAwIHx8IHRoaXMuc3RhcnRTbmFwcGluZ0VuYWJsZWQpID8gX240LnN0YXRlID0gdmUuTWluaW11bSA6IGMgJiYgdFtfZTE0XSAmJiAobyA8IHRoaXMuY29udGVudFNpemUgfHwgdGhpcy5lbmRTbmFwcGluZ0VuYWJsZWQpID8gX240LnN0YXRlID0gdmUuTWF4aW11bSA6IF9uNC5zdGF0ZSA9IHZlLkRpc2FibGVkO1xuICAgICAgfSBlbHNlIF9uNC5zdGF0ZSA9IGEgJiYgIXUgPyB2ZS5NaW5pbXVtIDogIWEgJiYgdSA/IHZlLk1heGltdW0gOiB2ZS5FbmFibGVkO1xuICAgIH1cbiAgfVxuICBmaW5kRmlyc3RTbmFwSW5kZXgoZSkge1xuICAgIGZvciAoY29uc3QgdCBvZiBlKSB7XG4gICAgICBjb25zdCBfZTE1ID0gdGhpcy52aWV3SXRlbXNbdF07XG4gICAgICBpZiAoX2UxNS52aXNpYmxlICYmIF9lMTUuc25hcCkgcmV0dXJuIHQ7XG4gICAgfVxuICAgIGZvciAoY29uc3QgdCBvZiBlKSB7XG4gICAgICBjb25zdCBfZTE2ID0gdGhpcy52aWV3SXRlbXNbdF07XG4gICAgICBpZiAoX2UxNi52aXNpYmxlICYmIF9lMTYubWF4aW11bVNpemUgLSBfZTE2Lm1pbmltdW1TaXplID4gMCkgcmV0dXJuO1xuICAgICAgaWYgKCFfZTE2LnZpc2libGUgJiYgX2UxNi5zbmFwKSByZXR1cm4gdDtcbiAgICB9XG4gIH1cbn1cbmNsYXNzIFZlIHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMuc2l6ZSA9IHZvaWQgMCwgdGhpcy5zaXplID0gZTtcbiAgfVxuICBnZXRQcmVmZXJyZWRTaXplKCkge1xuICAgIHJldHVybiB0aGlzLnNpemU7XG4gIH1cbn1cbmNsYXNzIGplIHtcbiAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgIHRoaXMucHJvcG9ydGlvbiA9IHZvaWQgMCwgdGhpcy5sYXlvdXRTZXJ2aWNlID0gdm9pZCAwLCB0aGlzLnByb3BvcnRpb24gPSBlLCB0aGlzLmxheW91dFNlcnZpY2UgPSB0O1xuICB9XG4gIGdldFByZWZlcnJlZFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcG9ydGlvbiAqIHRoaXMubGF5b3V0U2VydmljZS5nZXRTaXplKCk7XG4gIH1cbn1cbmNsYXNzIE5lIHtcbiAgZ2V0UHJlZmVycmVkU2l6ZSgpIHt9XG59XG5jbGFzcyBMZSB7XG4gIGdldCBwcmVmZXJyZWRTaXplKCkge1xuICAgIHJldHVybiB0aGlzLmxheW91dFN0cmF0ZWd5LmdldFByZWZlcnJlZFNpemUoKTtcbiAgfVxuICBzZXQgcHJlZmVycmVkU2l6ZShlKSB7XG4gICAgaWYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIGUpIHRoaXMubGF5b3V0U3RyYXRlZ3kgPSBuZXcgVmUoZSk7ZWxzZSBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkge1xuICAgICAgY29uc3QgdCA9IGUudHJpbSgpO1xuICAgICAgaWYgKCQodCwgXCIlXCIpKSB7XG4gICAgICAgIGNvbnN0IF9lMTcgPSBOdW1iZXIodC5zbGljZSgwLCAtMSkpIC8gMTAwO1xuICAgICAgICB0aGlzLmxheW91dFN0cmF0ZWd5ID0gbmV3IGplKF9lMTcsIHRoaXMubGF5b3V0U2VydmljZSk7XG4gICAgICB9IGVsc2UgaWYgKCQodCwgXCJweFwiKSkge1xuICAgICAgICBjb25zdCBfZTE4ID0gTnVtYmVyKHQuc2xpY2UoMCwgLTIpKSAvIDEwMDtcbiAgICAgICAgdGhpcy5sYXlvdXRTdHJhdGVneSA9IG5ldyBWZShfZTE4KTtcbiAgICAgIH0gZWxzZSBpZiAoXCJudW1iZXJcIiA9PSB0eXBlb2YgTnVtYmVyLnBhcnNlRmxvYXQodCkpIHtcbiAgICAgICAgY29uc3QgX2UxOSA9IE51bWJlci5wYXJzZUZsb2F0KHQpO1xuICAgICAgICB0aGlzLmxheW91dFN0cmF0ZWd5ID0gbmV3IFZlKF9lMTkpO1xuICAgICAgfSBlbHNlIHRoaXMubGF5b3V0U3RyYXRlZ3kgPSBuZXcgTmUoKTtcbiAgICB9IGVsc2UgdGhpcy5sYXlvdXRTdHJhdGVneSA9IG5ldyBOZSgpO1xuICB9XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICB2YXIgX3QkcHJpb3JpdHk7XG4gICAgaWYgKHRoaXMubWluaW11bVNpemUgPSAwLCB0aGlzLm1heGltdW1TaXplID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0aGlzLmVsZW1lbnQgPSB2b2lkIDAsIHRoaXMucHJpb3JpdHkgPSB2b2lkIDAsIHRoaXMuc25hcCA9IHZvaWQgMCwgdGhpcy5sYXlvdXRTZXJ2aWNlID0gdm9pZCAwLCB0aGlzLmxheW91dFN0cmF0ZWd5ID0gdm9pZCAwLCB0aGlzLmxheW91dFNlcnZpY2UgPSBlLCB0aGlzLmVsZW1lbnQgPSB0LmVsZW1lbnQsIHRoaXMubWluaW11bVNpemUgPSBcIm51bWJlclwiID09IHR5cGVvZiB0Lm1pbmltdW1TaXplID8gdC5taW5pbXVtU2l6ZSA6IDMwLCB0aGlzLm1heGltdW1TaXplID0gXCJudW1iZXJcIiA9PSB0eXBlb2YgdC5tYXhpbXVtU2l6ZSA/IHQubWF4aW11bVNpemUgOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIFwibnVtYmVyXCIgPT0gdHlwZW9mIHQucHJlZmVycmVkU2l6ZSkgdGhpcy5sYXlvdXRTdHJhdGVneSA9IG5ldyBWZSh0LnByZWZlcnJlZFNpemUpO2Vsc2UgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHQucHJlZmVycmVkU2l6ZSkge1xuICAgICAgY29uc3QgX2UyMCA9IHQucHJlZmVycmVkU2l6ZS50cmltKCk7XG4gICAgICBpZiAoJChfZTIwLCBcIiVcIikpIHtcbiAgICAgICAgY29uc3QgX3QxMSA9IE51bWJlcihfZTIwLnNsaWNlKDAsIC0xKSkgLyAxMDA7XG4gICAgICAgIHRoaXMubGF5b3V0U3RyYXRlZ3kgPSBuZXcgamUoX3QxMSwgdGhpcy5sYXlvdXRTZXJ2aWNlKTtcbiAgICAgIH0gZWxzZSBpZiAoJChfZTIwLCBcInB4XCIpKSB7XG4gICAgICAgIGNvbnN0IF90MTIgPSBOdW1iZXIoX2UyMC5zbGljZSgwLCAtMikpO1xuICAgICAgICB0aGlzLmxheW91dFN0cmF0ZWd5ID0gbmV3IFZlKF90MTIpO1xuICAgICAgfSBlbHNlIGlmIChcIm51bWJlclwiID09IHR5cGVvZiBOdW1iZXIucGFyc2VGbG9hdChfZTIwKSkge1xuICAgICAgICBjb25zdCBfdDEzID0gTnVtYmVyLnBhcnNlRmxvYXQoX2UyMCk7XG4gICAgICAgIHRoaXMubGF5b3V0U3RyYXRlZ3kgPSBuZXcgVmUoX3QxMyk7XG4gICAgICB9IGVsc2UgdGhpcy5sYXlvdXRTdHJhdGVneSA9IG5ldyBOZSgpO1xuICAgIH0gZWxzZSB0aGlzLmxheW91dFN0cmF0ZWd5ID0gbmV3IE5lKCk7XG4gICAgdGhpcy5wcmlvcml0eSA9IChfdCRwcmlvcml0eSA9IHQucHJpb3JpdHkpICE9IG51bGwgPyBfdCRwcmlvcml0eSA6IFNlLk5vcm1hbCwgdGhpcy5zbmFwID0gXCJib29sZWFuXCIgPT0gdHlwZW9mIHQuc25hcCAmJiB0LnNuYXA7XG4gIH1cbiAgbGF5b3V0KGUpIHt9XG59XG5mdW5jdGlvbiBEZShlKSB7XG4gIHJldHVybiB2b2lkIDAgIT09IGUubWluU2l6ZSB8fCB2b2lkIDAgIT09IGUubWF4U2l6ZSB8fCB2b2lkIDAgIT09IGUucHJlZmVycmVkU2l6ZSB8fCB2b2lkIDAgIT09IGUucHJpb3JpdHkgfHwgdm9pZCAwICE9PSBlLnZpc2libGU7XG59XG5jb25zdCBPZSA9IGEoKHtcbiAgY2xhc3NOYW1lOiB0LFxuICBjaGlsZHJlbjogaVxufSwgbikgPT4gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgcmVmOiBuLFxuICBjbGFzc05hbWU6IGwoXCJzcGxpdC12aWV3LXZpZXdcIiwgTiwgdClcbn0sIGkpKTtcbk9lLmRpc3BsYXlOYW1lID0gXCJBbGxvdG1lbnQuUGFuZVwiO1xuY29uc3QgTWUgPSBhKCh7XG4gIGNoaWxkcmVuOiBvLFxuICBjbGFzc05hbWU6IGEsXG4gIG1heFNpemU6IGggPSAxIC8gMCxcbiAgbWluU2l6ZTogYyA9IDMwLFxuICBwcm9wb3J0aW9uYWxMYXlvdXQ6IGYgPSAhMCxcbiAgc2VwYXJhdG9yOiBtID0gITAsXG4gIHNpemVzOiBkLFxuICBkZWZhdWx0U2l6ZXM6IHAgPSBkLFxuICBzbmFwOiB2ID0gITEsXG4gIHZlcnRpY2FsOiB5ID0gITEsXG4gIG9uQ2hhbmdlOiBnLFxuICBvblJlc2V0OiBiLFxuICBvblZpc2libGVDaGFuZ2U6IHosXG4gIG9uRHJhZ1N0YXJ0OiB3LFxuICBvbkRyYWdFbmQ6IFNcbn0sIEkpID0+IHtcbiAgY29uc3QgViA9IHQobnVsbCksXG4gICAgTiA9IHQoW10pLFxuICAgIE0gPSB0KG5ldyBNYXAoKSksXG4gICAgUCA9IHQobnVsbCksXG4gICAgQSA9IHQobmV3IE1hcCgpKSxcbiAgICBDID0gdChuZXcgaygpKSxcbiAgICAkID0gdChbXSksXG4gICAgW0gsIFldID0gaSghMSk7XG4gIFwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJiBkICYmIGNvbnNvbGUud2FybihcIlByb3Agc2l6ZXMgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBkZWZhdWx0U2l6ZXMgaW5zdGVhZC5cIik7XG4gIGNvbnN0IEIgPSBzKCgpID0+IGUuQ2hpbGRyZW4udG9BcnJheShvKS5maWx0ZXIoZS5pc1ZhbGlkRWxlbWVudCksIFtvXSksXG4gICAgUiA9IHIoZSA9PiB7XG4gICAgICB2YXIgXyQkY3VycmVudCwgX1AkY3VycmVudDtcbiAgICAgIGNvbnN0IHQgPSAoXyQkY3VycmVudCA9ICQuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF8kJGN1cnJlbnRbZV07XG4gICAgICByZXR1cm4gXCJudW1iZXJcIiA9PSB0eXBlb2YgKHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQucHJlZmVycmVkU2l6ZSkgJiYgKChfUCRjdXJyZW50ID0gUC5jdXJyZW50KSAhPSBudWxsICYmIF9QJGN1cnJlbnQucmVzaXplVmlldyhlLCBNYXRoLnJvdW5kKHQucHJlZmVycmVkU2l6ZSkpLCAhMCk7XG4gICAgfSwgW10pO1xuICByZXR1cm4gdShJLCAoKSA9PiAoe1xuICAgIHJlc2V0OiAoKSA9PiB7XG4gICAgICBpZiAoYikgYigpO2Vsc2Uge1xuICAgICAgICB2YXIgX1AkY3VycmVudDI7XG4gICAgICAgIChfUCRjdXJyZW50MiA9IFAuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9QJGN1cnJlbnQyLmRpc3RyaWJ1dGVWaWV3U2l6ZXMoKTtcbiAgICAgICAgZm9yIChsZXQgZSA9IDA7IGUgPCAkLmN1cnJlbnQubGVuZ3RoOyBlKyspIFIoZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZXNpemU6IGUgPT4ge1xuICAgICAgdmFyIF9QJGN1cnJlbnQzO1xuICAgICAgKF9QJGN1cnJlbnQzID0gUC5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX1AkY3VycmVudDMucmVzaXplVmlld3MoZSk7XG4gICAgfVxuICB9KSksIEYoKCkgPT4ge1xuICAgIGxldCBlID0gITA7XG4gICAgcCAmJiBBLmN1cnJlbnQuc2l6ZSAhPT0gcC5sZW5ndGggJiYgKGUgPSAhMSwgY29uc29sZS53YXJuKGBFeHBlY3RlZCAke3AubGVuZ3RofSBjaGlsZHJlbiBiYXNlZCBvbiBkZWZhdWx0U2l6ZXMgYnV0IGZvdW5kICR7QS5jdXJyZW50LnNpemV9YCkpLCBlICYmIHAgJiYgKE4uY3VycmVudCA9IEIubWFwKGUgPT4gZS5rZXkpKTtcbiAgICBjb25zdCB0ID0gX2V4dGVuZHMoe1xuICAgICAgb3JpZW50YXRpb246IHkgPyBwZS5WZXJ0aWNhbCA6IHBlLkhvcml6b250YWwsXG4gICAgICBwcm9wb3J0aW9uYWxMYXlvdXQ6IGZcbiAgICB9LCBlICYmIHAgJiYge1xuICAgICAgZGVzY3JpcHRvcjoge1xuICAgICAgICBzaXplOiBwLnJlZHVjZSgoZSwgdCkgPT4gZSArIHQsIDApLFxuICAgICAgICB2aWV3czogcC5tYXAoKGUsIHQpID0+IHtcbiAgICAgICAgICB2YXIgX2kkbWluU2l6ZSwgX2kkbWF4U2l6ZSwgX2kkcHJpb3JpdHksIF9pJHNuYXA7XG4gICAgICAgICAgY29uc3QgaSA9IE0uY3VycmVudC5nZXQoTi5jdXJyZW50W3RdKSxcbiAgICAgICAgICAgIG4gPSBuZXcgTGUoQy5jdXJyZW50LCBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgICAgICAgIG1pbmltdW1TaXplOiAoX2kkbWluU2l6ZSA9IGkgPT0gbnVsbCA/IHZvaWQgMCA6IGkubWluU2l6ZSkgIT0gbnVsbCA/IF9pJG1pblNpemUgOiBjLFxuICAgICAgICAgICAgICBtYXhpbXVtU2l6ZTogKF9pJG1heFNpemUgPSBpID09IG51bGwgPyB2b2lkIDAgOiBpLm1heFNpemUpICE9IG51bGwgPyBfaSRtYXhTaXplIDogaCxcbiAgICAgICAgICAgICAgcHJpb3JpdHk6IChfaSRwcmlvcml0eSA9IGkgPT0gbnVsbCA/IHZvaWQgMCA6IGkucHJpb3JpdHkpICE9IG51bGwgPyBfaSRwcmlvcml0eSA6IFNlLk5vcm1hbFxuICAgICAgICAgICAgfSwgKGkgPT0gbnVsbCA/IHZvaWQgMCA6IGkucHJlZmVycmVkU2l6ZSkgJiYge1xuICAgICAgICAgICAgICBwcmVmZXJyZWRTaXplOiBpID09IG51bGwgPyB2b2lkIDAgOiBpLnByZWZlcnJlZFNpemVcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgc25hcDogKF9pJHNuYXAgPSBpID09IG51bGwgPyB2b2lkIDAgOiBpLnNuYXApICE9IG51bGwgPyBfaSRzbmFwIDogdlxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIHJldHVybiAkLmN1cnJlbnQucHVzaChuKSwge1xuICAgICAgICAgICAgY29udGFpbmVyOiBbLi4uQS5jdXJyZW50LnZhbHVlcygpXVt0XSxcbiAgICAgICAgICAgIHNpemU6IGUsXG4gICAgICAgICAgICB2aWV3OiBuXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KTtcbiAgICBQLmN1cnJlbnQgPSBuZXcgRWUoVi5jdXJyZW50LCB0LCBnLCB3LCBTKSwgUC5jdXJyZW50Lm9uKFwic2FzaERyYWdTdGFydFwiLCAoKSA9PiB7XG4gICAgICB2YXIgX1YkY3VycmVudDtcbiAgICAgIChfViRjdXJyZW50ID0gVi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX1YkY3VycmVudC5jbGFzc0xpc3QuYWRkKFwic3BsaXQtdmlldy1zYXNoLWRyYWdnaW5nXCIpO1xuICAgIH0pLCBQLmN1cnJlbnQub24oXCJzYXNoRHJhZ0VuZFwiLCAoKSA9PiB7XG4gICAgICB2YXIgX1YkY3VycmVudDI7XG4gICAgICAoX1YkY3VycmVudDIgPSBWLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfViRjdXJyZW50Mi5jbGFzc0xpc3QucmVtb3ZlKFwic3BsaXQtdmlldy1zYXNoLWRyYWdnaW5nXCIpO1xuICAgIH0pLCBQLmN1cnJlbnQub24oXCJzYXNoY2hhbmdlXCIsIGUgPT4ge1xuICAgICAgaWYgKHogJiYgUC5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IF9lMjEgPSBCLm1hcChlID0+IGUua2V5KTtcbiAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBfZTIxLmxlbmd0aDsgdCsrKSB7XG4gICAgICAgICAgY29uc3QgaSA9IE0uY3VycmVudC5nZXQoX2UyMVt0XSk7XG4gICAgICAgICAgdm9pZCAwICE9PSAoaSA9PSBudWxsID8gdm9pZCAwIDogaS52aXNpYmxlKSAmJiBpLnZpc2libGUgIT09IFAuY3VycmVudC5pc1ZpZXdWaXNpYmxlKHQpICYmIHoodCwgUC5jdXJyZW50LmlzVmlld1Zpc2libGUodCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSksIFAuY3VycmVudC5vbihcInNhc2hyZXNldFwiLCBlID0+IHtcbiAgICAgIGlmIChiKSBiKCk7ZWxzZSB7XG4gICAgICAgIHZhciBfUCRjdXJyZW50NDtcbiAgICAgICAgaWYgKFIoZSkpIHJldHVybjtcbiAgICAgICAgaWYgKFIoZSArIDEpKSByZXR1cm47XG4gICAgICAgIChfUCRjdXJyZW50NCA9IFAuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9QJGN1cnJlbnQ0LmRpc3RyaWJ1dGVWaWV3U2l6ZXMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBpID0gUC5jdXJyZW50O1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpLmRpc3Bvc2UoKTtcbiAgICB9O1xuICB9LCBbXSksIEYoKCkgPT4ge1xuICAgIGlmIChIKSB7XG4gICAgICBjb25zdCBlID0gQi5tYXAoZSA9PiBlLmtleSksXG4gICAgICAgIHQgPSBbLi4uTi5jdXJyZW50XSxcbiAgICAgICAgaSA9IGUuZmlsdGVyKGUgPT4gIU4uY3VycmVudC5pbmNsdWRlcyhlKSksXG4gICAgICAgIG4gPSBlLmZpbHRlcihlID0+IE4uY3VycmVudC5pbmNsdWRlcyhlKSksXG4gICAgICAgIHIgPSBOLmN1cnJlbnQubWFwKHQgPT4gIWUuaW5jbHVkZXModCkpO1xuICAgICAgZm9yIChsZXQgX2UyMiA9IHIubGVuZ3RoIC0gMTsgX2UyMiA+PSAwOyBfZTIyLS0pIHtcbiAgICAgICAgdmFyIF9QJGN1cnJlbnQ1O1xuICAgICAgICByW19lMjJdICYmICgoX1AkY3VycmVudDUgPSBQLmN1cnJlbnQpICE9IG51bGwgJiYgX1AkY3VycmVudDUucmVtb3ZlVmlldyhfZTIyKSwgdC5zcGxpY2UoX2UyMiwgMSksICQuY3VycmVudC5zcGxpY2UoX2UyMiwgMSkpO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBfbjUgb2YgaSkge1xuICAgICAgICB2YXIgX2k5JG1pblNpemUsIF9pOSRtYXhTaXplLCBfaTkkcHJpb3JpdHksIF9pOSRzbmFwLCBfUCRjdXJyZW50NjtcbiAgICAgICAgY29uc3QgX2k5ID0gTS5jdXJyZW50LmdldChfbjUpLFxuICAgICAgICAgIF9yMiA9IG5ldyBMZShDLmN1cnJlbnQsIF9leHRlbmRzKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICAgICAgICBtaW5pbXVtU2l6ZTogKF9pOSRtaW5TaXplID0gX2k5ID09IG51bGwgPyB2b2lkIDAgOiBfaTkubWluU2l6ZSkgIT0gbnVsbCA/IF9pOSRtaW5TaXplIDogYyxcbiAgICAgICAgICAgIG1heGltdW1TaXplOiAoX2k5JG1heFNpemUgPSBfaTkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pOS5tYXhTaXplKSAhPSBudWxsID8gX2k5JG1heFNpemUgOiBoLFxuICAgICAgICAgICAgcHJpb3JpdHk6IChfaTkkcHJpb3JpdHkgPSBfaTkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pOS5wcmlvcml0eSkgIT0gbnVsbCA/IF9pOSRwcmlvcml0eSA6IFNlLk5vcm1hbFxuICAgICAgICAgIH0sIChfaTkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pOS5wcmVmZXJyZWRTaXplKSAmJiB7XG4gICAgICAgICAgICBwcmVmZXJyZWRTaXplOiBfaTkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pOS5wcmVmZXJyZWRTaXplXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgc25hcDogKF9pOSRzbmFwID0gX2k5ID09IG51bGwgPyB2b2lkIDAgOiBfaTkuc25hcCkgIT0gbnVsbCA/IF9pOSRzbmFwIDogdlxuICAgICAgICAgIH0pKTtcbiAgICAgICAgKF9QJGN1cnJlbnQ2ID0gUC5jdXJyZW50KSAhPSBudWxsICYmIF9QJGN1cnJlbnQ2LmFkZFZpZXcoQS5jdXJyZW50LmdldChfbjUpLCBfcjIsIHplLkRpc3RyaWJ1dGUsIGUuZmluZEluZGV4KGUgPT4gZSA9PT0gX241KSksIHQuc3BsaWNlKGUuZmluZEluZGV4KGUgPT4gZSA9PT0gX241KSwgMCwgX241KSwgJC5jdXJyZW50LnNwbGljZShlLmZpbmRJbmRleChlID0+IGUgPT09IF9uNSksIDAsIF9yMik7XG4gICAgICB9XG4gICAgICBmb3IgKDsgIV8oZSwgdCk7KSBmb3IgKGNvbnN0IFtfaTEwLCBfbjZdIG9mIGUuZW50cmllcygpKSB7XG4gICAgICAgIGNvbnN0IF9lMjMgPSB0LmZpbmRJbmRleChlID0+IGUgPT09IF9uNik7XG4gICAgICAgIGlmIChfZTIzICE9PSBfaTEwKSB7XG4gICAgICAgICAgdmFyIF9QJGN1cnJlbnQ3O1xuICAgICAgICAgIChfUCRjdXJyZW50NyA9IFAuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9QJGN1cnJlbnQ3Lm1vdmVWaWV3KEEuY3VycmVudC5nZXQoX242KSwgX2UyMywgX2kxMCk7XG4gICAgICAgICAgY29uc3QgX3IzID0gdFtfZTIzXTtcbiAgICAgICAgICB0LnNwbGljZShfZTIzLCAxKSwgdC5zcGxpY2UoX2kxMCwgMCwgX3IzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBfdDE0IG9mIGkpIHtcbiAgICAgICAgdmFyIF9QJGN1cnJlbnQ4O1xuICAgICAgICBjb25zdCBfaTExID0gZS5maW5kSW5kZXgoZSA9PiBlID09PSBfdDE0KSxcbiAgICAgICAgICBfbjcgPSAkLmN1cnJlbnRbX2kxMV0ucHJlZmVycmVkU2l6ZTtcbiAgICAgICAgdm9pZCAwICE9PSBfbjcgJiYgKChfUCRjdXJyZW50OCA9IFAuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9QJGN1cnJlbnQ4LnJlc2l6ZVZpZXcoX2kxMSwgX243KSk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IF90MTUgb2YgWy4uLmksIC4uLm5dKSB7XG4gICAgICAgIHZhciBfUCRjdXJyZW50OSwgX1AkY3VycmVudDEwO1xuICAgICAgICBjb25zdCBfaTEyID0gTS5jdXJyZW50LmdldChfdDE1KSxcbiAgICAgICAgICBfbjggPSBlLmZpbmRJbmRleChlID0+IGUgPT09IF90MTUpO1xuICAgICAgICBfaTEyICYmIERlKF9pMTIpICYmIHZvaWQgMCAhPT0gX2kxMi52aXNpYmxlICYmICgoX1AkY3VycmVudDkgPSBQLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfUCRjdXJyZW50OS5pc1ZpZXdWaXNpYmxlKF9uOCkpICE9PSBfaTEyLnZpc2libGUgJiYgKChfUCRjdXJyZW50MTAgPSBQLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfUCRjdXJyZW50MTAuc2V0Vmlld1Zpc2libGUoX244LCBfaTEyLnZpc2libGUpKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgX3QxNiBvZiBuKSB7XG4gICAgICAgIGNvbnN0IF9pMTMgPSBNLmN1cnJlbnQuZ2V0KF90MTYpLFxuICAgICAgICAgIF9uOSA9IGUuZmluZEluZGV4KGUgPT4gZSA9PT0gX3QxNik7XG4gICAgICAgIGlmIChfaTEzICYmIERlKF9pMTMpKSB7XG4gICAgICAgICAgdmFyIF9QJGN1cnJlbnQxMTtcbiAgICAgICAgICB2b2lkIDAgIT09IF9pMTMucHJlZmVycmVkU2l6ZSAmJiAkLmN1cnJlbnRbX245XS5wcmVmZXJyZWRTaXplICE9PSBfaTEzLnByZWZlcnJlZFNpemUgJiYgKCQuY3VycmVudFtfbjldLnByZWZlcnJlZFNpemUgPSBfaTEzLnByZWZlcnJlZFNpemUpO1xuICAgICAgICAgIGxldCBfZTI0ID0gITE7XG4gICAgICAgICAgdm9pZCAwICE9PSBfaTEzLm1pblNpemUgJiYgJC5jdXJyZW50W19uOV0ubWluaW11bVNpemUgIT09IF9pMTMubWluU2l6ZSAmJiAoJC5jdXJyZW50W19uOV0ubWluaW11bVNpemUgPSBfaTEzLm1pblNpemUsIF9lMjQgPSAhMCksIHZvaWQgMCAhPT0gX2kxMy5tYXhTaXplICYmICQuY3VycmVudFtfbjldLm1heGltdW1TaXplICE9PSBfaTEzLm1heFNpemUgJiYgKCQuY3VycmVudFtfbjldLm1heGltdW1TaXplID0gX2kxMy5tYXhTaXplLCBfZTI0ID0gITApLCBfZTI0ICYmICgoX1AkY3VycmVudDExID0gUC5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX1AkY3VycmVudDExLmxheW91dCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGkubGVuZ3RoID4gMCB8fCByLmxlbmd0aCA+IDApICYmIChOLmN1cnJlbnQgPSBlKTtcbiAgICB9XG4gIH0sIFtCLCBILCBoLCBjLCB2XSksIG4oKCkgPT4ge1xuICAgIFAuY3VycmVudCAmJiAoUC5jdXJyZW50Lm9uRGlkQ2hhbmdlID0gZyk7XG4gIH0sIFtnXSksIG4oKCkgPT4ge1xuICAgIFAuY3VycmVudCAmJiAoUC5jdXJyZW50Lm9uRGlkRHJhZ1N0YXJ0ID0gdyk7XG4gIH0sIFt3XSksIG4oKCkgPT4ge1xuICAgIFAuY3VycmVudCAmJiAoUC5jdXJyZW50Lm9uRGlkRHJhZ0VuZCA9IFMpO1xuICB9LCBbU10pLCB4KHtcbiAgICByZWY6IFYsXG4gICAgb25SZXNpemU6ICh7XG4gICAgICB3aWR0aDogZSxcbiAgICAgIGhlaWdodDogdFxuICAgIH0pID0+IHtcbiAgICAgIHZhciBfUCRjdXJyZW50MTI7XG4gICAgICBlICYmIHQgJiYgKChfUCRjdXJyZW50MTIgPSBQLmN1cnJlbnQpICE9IG51bGwgJiYgX1AkY3VycmVudDEyLmxheW91dCh5ID8gdCA6IGUpLCBDLmN1cnJlbnQuc2V0U2l6ZSh5ID8gdCA6IGUpLCBZKCEwKSk7XG4gICAgfVxuICB9KSwgRigoKSA9PiB7XG4gICAgaWYgKCFIKSB7XG4gICAgICB2YXIgX1AkY3VycmVudDEzO1xuICAgICAgY29uc3Qge1xuICAgICAgICBoZWlnaHQ6IGUsXG4gICAgICAgIHdpZHRoOiB0XG4gICAgICB9ID0gVi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgKF9QJGN1cnJlbnQxMyA9IFAuY3VycmVudCkgIT0gbnVsbCAmJiBfUCRjdXJyZW50MTMubGF5b3V0KHkgPyBlIDogdCksIEMuY3VycmVudC5zZXRTaXplKHkgPyBlIDogdCksIFkoITApO1xuICAgIH1cbiAgfSwgW0gsIHldKSwgbigoKSA9PiB7XG4gICAgVCAmJiBQZSgyMCk7XG4gIH0sIFtdKSwgZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IFYsXG4gICAgY2xhc3NOYW1lOiBsKFwic3BsaXQtdmlld1wiLCB5ID8gXCJzcGxpdC12aWV3LXZlcnRpY2FsXCIgOiBcInNwbGl0LXZpZXctaG9yaXpvbnRhbFwiLCB7XG4gICAgICBcInNwbGl0LXZpZXctc2VwYXJhdG9yLWJvcmRlclwiOiBtXG4gICAgfSwgRSwgeSA/IEwgOiBELCB7XG4gICAgICBbT106IG1cbiAgICB9LCBhKVxuICB9LCBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogbChcInNwbGl0LXZpZXctY29udGFpbmVyXCIsIGopXG4gIH0sIGUuQ2hpbGRyZW4udG9BcnJheShvKS5tYXAodCA9PiB7XG4gICAgaWYgKCFlLmlzVmFsaWRFbGVtZW50KHQpKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBpID0gdC5rZXk7XG4gICAgcmV0dXJuIFwiQWxsb3RtZW50LlBhbmVcIiA9PT0gdC50eXBlLmRpc3BsYXlOYW1lID8gKE0uY3VycmVudC5zZXQoaSwgdC5wcm9wcyksIGUuY2xvbmVFbGVtZW50KHQsIHtcbiAgICAgIGtleTogaSxcbiAgICAgIHJlZjogZSA9PiB7XG4gICAgICAgIGUgPyBBLmN1cnJlbnQuc2V0KGksIGUpIDogQS5jdXJyZW50LmRlbGV0ZShpKTtcbiAgICAgIH1cbiAgICB9KSkgOiBlLmNyZWF0ZUVsZW1lbnQoT2UsIHtcbiAgICAgIGtleTogaSxcbiAgICAgIHJlZjogZSA9PiB7XG4gICAgICAgIGUgPyBBLmN1cnJlbnQuc2V0KGksIGUpIDogQS5jdXJyZW50LmRlbGV0ZShpKTtcbiAgICAgIH1cbiAgICB9LCB0KTtcbiAgfSkpKTtcbn0pO1xuZnVuY3Rpb24gUGUoZSkge1xuICBjb25zdCB0ID0geihlLCA0LCAyMCksXG4gICAgaSA9IHooZSwgMSwgOCk7XG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tc2FzaC1zaXplXCIsIHQgKyBcInB4XCIpLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLXNhc2gtaG92ZXItc2l6ZVwiLCBpICsgXCJweFwiKSwgZnVuY3Rpb24gKGUpIHtcbiAgICB5ZSA9IGUsIGdlLmVtaXQoXCJvbkRpZENoYW5nZUdsb2JhbFNpemVcIiwgZSk7XG4gIH0odCk7XG59XG5NZS5kaXNwbGF5TmFtZSA9IFwiQWxsb3RtZW50XCI7XG52YXIgQWUgPSBPYmplY3QuYXNzaWduKE1lLCB7XG4gIFBhbmU6IE9lXG59KTtcbmV4cG9ydCB7IEFlIGFzIEFsbG90bWVudCwgU2UgYXMgTGF5b3V0UHJpb3JpdHksIFBlIGFzIHNldFNhc2hTaXplIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/allotment/dist/modern.mjs\n"));

/***/ })

}]);