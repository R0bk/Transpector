"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_codemirror_legacy-modes_mode_erlang_js"],{

/***/ "./node_modules/@codemirror/legacy-modes/mode/erlang.js":
/*!**************************************************************!*\
  !*** ./node_modules/@codemirror/legacy-modes/mode/erlang.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"erlang\": function() { return /* binding */ erlang; }\n/* harmony export */ });\n/////////////////////////////////////////////////////////////////////////////\n// constants\n\nvar typeWords = [\n  \"-type\", \"-spec\", \"-export_type\", \"-opaque\"];\n\nvar keywordWords = [\n  \"after\",\"begin\",\"catch\",\"case\",\"cond\",\"end\",\"fun\",\"if\",\n  \"let\",\"of\",\"query\",\"receive\",\"try\",\"when\"];\n\nvar separatorRE    = /[\\->,;]/;\nvar separatorWords = [\n  \"->\",\";\",\",\"];\n\nvar operatorAtomWords = [\n  \"and\",\"andalso\",\"band\",\"bnot\",\"bor\",\"bsl\",\"bsr\",\"bxor\",\n  \"div\",\"not\",\"or\",\"orelse\",\"rem\",\"xor\"];\n\nvar operatorSymbolRE    = /[\\+\\-\\*\\/<>=\\|:!]/;\nvar operatorSymbolWords = [\n  \"=\",\"+\",\"-\",\"*\",\"/\",\">\",\">=\",\"<\",\"=<\",\"=:=\",\"==\",\"=/=\",\"/=\",\"||\",\"<-\",\"!\"];\n\nvar openParenRE    = /[<\\(\\[\\{]/;\nvar openParenWords = [\n  \"<<\",\"(\",\"[\",\"{\"];\n\nvar closeParenRE    = /[>\\)\\]\\}]/;\nvar closeParenWords = [\n  \"}\",\"]\",\")\",\">>\"];\n\nvar guardWords = [\n  \"is_atom\",\"is_binary\",\"is_bitstring\",\"is_boolean\",\"is_float\",\n  \"is_function\",\"is_integer\",\"is_list\",\"is_number\",\"is_pid\",\n  \"is_port\",\"is_record\",\"is_reference\",\"is_tuple\",\n  \"atom\",\"binary\",\"bitstring\",\"boolean\",\"function\",\"integer\",\"list\",\n  \"number\",\"pid\",\"port\",\"record\",\"reference\",\"tuple\"];\n\nvar bifWords = [\n  \"abs\",\"adler32\",\"adler32_combine\",\"alive\",\"apply\",\"atom_to_binary\",\n  \"atom_to_list\",\"binary_to_atom\",\"binary_to_existing_atom\",\n  \"binary_to_list\",\"binary_to_term\",\"bit_size\",\"bitstring_to_list\",\n  \"byte_size\",\"check_process_code\",\"contact_binary\",\"crc32\",\n  \"crc32_combine\",\"date\",\"decode_packet\",\"delete_module\",\n  \"disconnect_node\",\"element\",\"erase\",\"exit\",\"float\",\"float_to_list\",\n  \"garbage_collect\",\"get\",\"get_keys\",\"group_leader\",\"halt\",\"hd\",\n  \"integer_to_list\",\"internal_bif\",\"iolist_size\",\"iolist_to_binary\",\n  \"is_alive\",\"is_atom\",\"is_binary\",\"is_bitstring\",\"is_boolean\",\n  \"is_float\",\"is_function\",\"is_integer\",\"is_list\",\"is_number\",\"is_pid\",\n  \"is_port\",\"is_process_alive\",\"is_record\",\"is_reference\",\"is_tuple\",\n  \"length\",\"link\",\"list_to_atom\",\"list_to_binary\",\"list_to_bitstring\",\n  \"list_to_existing_atom\",\"list_to_float\",\"list_to_integer\",\n  \"list_to_pid\",\"list_to_tuple\",\"load_module\",\"make_ref\",\"module_loaded\",\n  \"monitor_node\",\"node\",\"node_link\",\"node_unlink\",\"nodes\",\"notalive\",\n  \"now\",\"open_port\",\"pid_to_list\",\"port_close\",\"port_command\",\n  \"port_connect\",\"port_control\",\"pre_loaded\",\"process_flag\",\n  \"process_info\",\"processes\",\"purge_module\",\"put\",\"register\",\n  \"registered\",\"round\",\"self\",\"setelement\",\"size\",\"spawn\",\"spawn_link\",\n  \"spawn_monitor\",\"spawn_opt\",\"split_binary\",\"statistics\",\n  \"term_to_binary\",\"time\",\"throw\",\"tl\",\"trunc\",\"tuple_size\",\n  \"tuple_to_list\",\"unlink\",\"unregister\",\"whereis\"];\n\n// upper case: [A-Z] [Ø-Þ] [À-Ö]\n// lower case: [a-z] [ß-ö] [ø-ÿ]\nvar anumRE       = /[\\w@Ø-ÞÀ-Öß-öø-ÿ]/;\nvar escapesRE    =\n    /[0-7]{1,3}|[bdefnrstv\\\\\"']|\\^[a-zA-Z]|x[0-9a-zA-Z]{2}|x{[0-9a-zA-Z]+}/;\n\n/////////////////////////////////////////////////////////////////////////////\n// tokenizer\n\nfunction tokenizer(stream,state) {\n  // in multi-line string\n  if (state.in_string) {\n    state.in_string = (!doubleQuote(stream));\n    return rval(state,stream,\"string\");\n  }\n\n  // in multi-line atom\n  if (state.in_atom) {\n    state.in_atom = (!singleQuote(stream));\n    return rval(state,stream,\"atom\");\n  }\n\n  // whitespace\n  if (stream.eatSpace()) {\n    return rval(state,stream,\"whitespace\");\n  }\n\n  // attributes and type specs\n  if (!peekToken(state) &&\n      stream.match(/-\\s*[a-zß-öø-ÿ][\\wØ-ÞÀ-Öß-öø-ÿ]*/)) {\n    if (is_member(stream.current(),typeWords)) {\n      return rval(state,stream,\"type\");\n    }else{\n      return rval(state,stream,\"attribute\");\n    }\n  }\n\n  var ch = stream.next();\n\n  // comment\n  if (ch == '%') {\n    stream.skipToEnd();\n    return rval(state,stream,\"comment\");\n  }\n\n  // colon\n  if (ch == \":\") {\n    return rval(state,stream,\"colon\");\n  }\n\n  // macro\n  if (ch == '?') {\n    stream.eatSpace();\n    stream.eatWhile(anumRE);\n    return rval(state,stream,\"macro\");\n  }\n\n  // record\n  if (ch == \"#\") {\n    stream.eatSpace();\n    stream.eatWhile(anumRE);\n    return rval(state,stream,\"record\");\n  }\n\n  // dollar escape\n  if (ch == \"$\") {\n    if (stream.next() == \"\\\\\" && !stream.match(escapesRE)) {\n      return rval(state,stream,\"error\");\n    }\n    return rval(state,stream,\"number\");\n  }\n\n  // dot\n  if (ch == \".\") {\n    return rval(state,stream,\"dot\");\n  }\n\n  // quoted atom\n  if (ch == '\\'') {\n    if (!(state.in_atom = (!singleQuote(stream)))) {\n      if (stream.match(/\\s*\\/\\s*[0-9]/,false)) {\n        stream.match(/\\s*\\/\\s*[0-9]/,true);\n        return rval(state,stream,\"fun\");      // 'f'/0 style fun\n      }\n      if (stream.match(/\\s*\\(/,false) || stream.match(/\\s*:/,false)) {\n        return rval(state,stream,\"function\");\n      }\n    }\n    return rval(state,stream,\"atom\");\n  }\n\n  // string\n  if (ch == '\"') {\n    state.in_string = (!doubleQuote(stream));\n    return rval(state,stream,\"string\");\n  }\n\n  // variable\n  if (/[A-Z_Ø-ÞÀ-Ö]/.test(ch)) {\n    stream.eatWhile(anumRE);\n    return rval(state,stream,\"variable\");\n  }\n\n  // atom/keyword/BIF/function\n  if (/[a-z_ß-öø-ÿ]/.test(ch)) {\n    stream.eatWhile(anumRE);\n\n    if (stream.match(/\\s*\\/\\s*[0-9]/,false)) {\n      stream.match(/\\s*\\/\\s*[0-9]/,true);\n      return rval(state,stream,\"fun\");      // f/0 style fun\n    }\n\n    var w = stream.current();\n\n    if (is_member(w,keywordWords)) {\n      return rval(state,stream,\"keyword\");\n    }else if (is_member(w,operatorAtomWords)) {\n      return rval(state,stream,\"operator\");\n    }else if (stream.match(/\\s*\\(/,false)) {\n      // 'put' and 'erlang:put' are bifs, 'foo:put' is not\n      if (is_member(w,bifWords) &&\n          ((peekToken(state).token != \":\") ||\n           (peekToken(state,2).token == \"erlang\"))) {\n        return rval(state,stream,\"builtin\");\n      }else if (is_member(w,guardWords)) {\n        return rval(state,stream,\"guard\");\n      }else{\n        return rval(state,stream,\"function\");\n      }\n    }else if (lookahead(stream) == \":\") {\n      if (w == \"erlang\") {\n        return rval(state,stream,\"builtin\");\n      } else {\n        return rval(state,stream,\"function\");\n      }\n    }else if (is_member(w,[\"true\",\"false\"])) {\n      return rval(state,stream,\"boolean\");\n    }else{\n      return rval(state,stream,\"atom\");\n    }\n  }\n\n  // number\n  var digitRE      = /[0-9]/;\n  var radixRE      = /[0-9a-zA-Z]/;         // 36#zZ style int\n  if (digitRE.test(ch)) {\n    stream.eatWhile(digitRE);\n    if (stream.eat('#')) {                // 36#aZ  style integer\n      if (!stream.eatWhile(radixRE)) {\n        stream.backUp(1);                 //\"36#\" - syntax error\n      }\n    } else if (stream.eat('.')) {       // float\n      if (!stream.eatWhile(digitRE)) {\n        stream.backUp(1);        // \"3.\" - probably end of function\n      } else {\n        if (stream.eat(/[eE]/)) {        // float with exponent\n          if (stream.eat(/[-+]/)) {\n            if (!stream.eatWhile(digitRE)) {\n              stream.backUp(2);            // \"2e-\" - syntax error\n            }\n          } else {\n            if (!stream.eatWhile(digitRE)) {\n              stream.backUp(1);            // \"2e\" - syntax error\n            }\n          }\n        }\n      }\n    }\n    return rval(state,stream,\"number\");   // normal integer\n  }\n\n  // open parens\n  if (nongreedy(stream,openParenRE,openParenWords)) {\n    return rval(state,stream,\"open_paren\");\n  }\n\n  // close parens\n  if (nongreedy(stream,closeParenRE,closeParenWords)) {\n    return rval(state,stream,\"close_paren\");\n  }\n\n  // separators\n  if (greedy(stream,separatorRE,separatorWords)) {\n    return rval(state,stream,\"separator\");\n  }\n\n  // operators\n  if (greedy(stream,operatorSymbolRE,operatorSymbolWords)) {\n    return rval(state,stream,\"operator\");\n  }\n\n  return rval(state,stream,null);\n}\n\n/////////////////////////////////////////////////////////////////////////////\n// utilities\nfunction nongreedy(stream,re,words) {\n  if (stream.current().length == 1 && re.test(stream.current())) {\n    stream.backUp(1);\n    while (re.test(stream.peek())) {\n      stream.next();\n      if (is_member(stream.current(),words)) {\n        return true;\n      }\n    }\n    stream.backUp(stream.current().length-1);\n  }\n  return false;\n}\n\nfunction greedy(stream,re,words) {\n  if (stream.current().length == 1 && re.test(stream.current())) {\n    while (re.test(stream.peek())) {\n      stream.next();\n    }\n    while (0 < stream.current().length) {\n      if (is_member(stream.current(),words)) {\n        return true;\n      }else{\n        stream.backUp(1);\n      }\n    }\n    stream.next();\n  }\n  return false;\n}\n\nfunction doubleQuote(stream) {\n  return quote(stream, '\"', '\\\\');\n}\n\nfunction singleQuote(stream) {\n  return quote(stream,'\\'','\\\\');\n}\n\nfunction quote(stream,quoteChar,escapeChar) {\n  while (!stream.eol()) {\n    var ch = stream.next();\n    if (ch == quoteChar) {\n      return true;\n    }else if (ch == escapeChar) {\n      stream.next();\n    }\n  }\n  return false;\n}\n\nfunction lookahead(stream) {\n  var m = stream.match(/^\\s*([^\\s%])/, false)\n  return m ? m[1] : \"\";\n}\n\nfunction is_member(element,list) {\n  return (-1 < list.indexOf(element));\n}\n\nfunction rval(state,stream,type) {\n\n  // parse stack\n  pushToken(state,realToken(type,stream));\n\n  // map erlang token type to CodeMirror style class\n  //     erlang             -> CodeMirror tag\n  switch (type) {\n  case \"atom\":        return \"atom\";\n  case \"attribute\":   return \"attribute\";\n  case \"boolean\":     return \"atom\";\n  case \"builtin\":     return \"builtin\";\n  case \"close_paren\": return null;\n  case \"colon\":       return null;\n  case \"comment\":     return \"comment\";\n  case \"dot\":         return null;\n  case \"error\":       return \"error\";\n  case \"fun\":         return \"meta\";\n  case \"function\":    return \"tag\";\n  case \"guard\":       return \"property\";\n  case \"keyword\":     return \"keyword\";\n  case \"macro\":       return \"macroName\";\n  case \"number\":      return \"number\";\n  case \"open_paren\":  return null;\n  case \"operator\":    return \"operator\";\n  case \"record\":      return \"bracket\";\n  case \"separator\":   return null;\n  case \"string\":      return \"string\";\n  case \"type\":        return \"def\";\n  case \"variable\":    return \"variable\";\n  default:            return null;\n  }\n}\n\nfunction aToken(tok,col,ind,typ) {\n  return {token:  tok,\n          column: col,\n          indent: ind,\n          type:   typ};\n}\n\nfunction realToken(type,stream) {\n  return aToken(stream.current(),\n                stream.column(),\n                stream.indentation(),\n                type);\n}\n\nfunction fakeToken(type) {\n  return aToken(type,0,0,type);\n}\n\nfunction peekToken(state,depth) {\n  var len = state.tokenStack.length;\n  var dep = (depth ? depth : 1);\n\n  if (len < dep) {\n    return false;\n  }else{\n    return state.tokenStack[len-dep];\n  }\n}\n\nfunction pushToken(state,token) {\n\n  if (!(token.type == \"comment\" || token.type == \"whitespace\")) {\n    state.tokenStack = maybe_drop_pre(state.tokenStack,token);\n    state.tokenStack = maybe_drop_post(state.tokenStack);\n  }\n}\n\nfunction maybe_drop_pre(s,token) {\n  var last = s.length-1;\n\n  if (0 < last && s[last].type === \"record\" && token.type === \"dot\") {\n    s.pop();\n  }else if (0 < last && s[last].type === \"group\") {\n    s.pop();\n    s.push(token);\n  }else{\n    s.push(token);\n  }\n  return s;\n}\n\nfunction maybe_drop_post(s) {\n  if (!s.length) return s\n  var last = s.length-1;\n\n  if (s[last].type === \"dot\") {\n    return [];\n  }\n  if (last > 1 && s[last].type === \"fun\" && s[last-1].token === \"fun\") {\n    return s.slice(0,last-1);\n  }\n  switch (s[last].token) {\n  case \"}\":    return d(s,{g:[\"{\"]});\n  case \"]\":    return d(s,{i:[\"[\"]});\n  case \")\":    return d(s,{i:[\"(\"]});\n  case \">>\":   return d(s,{i:[\"<<\"]});\n  case \"end\":  return d(s,{i:[\"begin\",\"case\",\"fun\",\"if\",\"receive\",\"try\"]});\n  case \",\":    return d(s,{e:[\"begin\",\"try\",\"when\",\"->\",\n                              \",\",\"(\",\"[\",\"{\",\"<<\"]});\n  case \"->\":   return d(s,{r:[\"when\"],\n                           m:[\"try\",\"if\",\"case\",\"receive\"]});\n  case \";\":    return d(s,{E:[\"case\",\"fun\",\"if\",\"receive\",\"try\",\"when\"]});\n  case \"catch\":return d(s,{e:[\"try\"]});\n  case \"of\":   return d(s,{e:[\"case\"]});\n  case \"after\":return d(s,{e:[\"receive\",\"try\"]});\n  default:     return s;\n  }\n}\n\nfunction d(stack,tt) {\n  // stack is a stack of Token objects.\n  // tt is an object; {type:tokens}\n  // type is a char, tokens is a list of token strings.\n  // The function returns (possibly truncated) stack.\n  // It will descend the stack, looking for a Token such that Token.token\n  //  is a member of tokens. If it does not find that, it will normally (but\n  //  see \"E\" below) return stack. If it does find a match, it will remove\n  //  all the Tokens between the top and the matched Token.\n  // If type is \"m\", that is all it does.\n  // If type is \"i\", it will also remove the matched Token and the top Token.\n  // If type is \"g\", like \"i\", but add a fake \"group\" token at the top.\n  // If type is \"r\", it will remove the matched Token, but not the top Token.\n  // If type is \"e\", it will keep the matched Token but not the top Token.\n  // If type is \"E\", it behaves as for type \"e\", except if there is no match,\n  //  in which case it will return an empty stack.\n\n  for (var type in tt) {\n    var len = stack.length-1;\n    var tokens = tt[type];\n    for (var i = len-1; -1 < i ; i--) {\n      if (is_member(stack[i].token,tokens)) {\n        var ss = stack.slice(0,i);\n        switch (type) {\n        case \"m\": return ss.concat(stack[i]).concat(stack[len]);\n        case \"r\": return ss.concat(stack[len]);\n        case \"i\": return ss;\n        case \"g\": return ss.concat(fakeToken(\"group\"));\n        case \"E\": return ss.concat(stack[i]);\n        case \"e\": return ss.concat(stack[i]);\n        }\n      }\n    }\n  }\n  return (type == \"E\" ? [] : stack);\n}\n\n/////////////////////////////////////////////////////////////////////////////\n// indenter\n\nfunction indenter(state, textAfter, cx) {\n  var t;\n  var wordAfter = wordafter(textAfter);\n  var currT = peekToken(state,1);\n  var prevT = peekToken(state,2);\n\n  if (state.in_string || state.in_atom) {\n    return null;\n  }else if (!prevT) {\n    return 0;\n  }else if (currT.token == \"when\") {\n    return currT.column + cx.unit;\n  }else if (wordAfter === \"when\" && prevT.type === \"function\") {\n    return prevT.indent+cx.unit;\n  }else if (wordAfter === \"(\" && currT.token === \"fun\") {\n    return  currT.column+3;\n  }else if (wordAfter === \"catch\" && (t = getToken(state,[\"try\"]))) {\n    return t.column;\n  }else if (is_member(wordAfter,[\"end\",\"after\",\"of\"])) {\n    t = getToken(state,[\"begin\",\"case\",\"fun\",\"if\",\"receive\",\"try\"]);\n    return t ? t.column : null;\n  }else if (is_member(wordAfter,closeParenWords)) {\n    t = getToken(state,openParenWords);\n    return t ? t.column : null;\n  }else if (is_member(currT.token,[\",\",\"|\",\"||\"]) ||\n            is_member(wordAfter,[\",\",\"|\",\"||\"])) {\n    t = postcommaToken(state);\n    return t ? t.column+t.token.length : cx.unit;\n  }else if (currT.token == \"->\") {\n    if (is_member(prevT.token, [\"receive\",\"case\",\"if\",\"try\"])) {\n      return prevT.column+cx.unit+cx.unit;\n    }else{\n      return prevT.column+cx.unit;\n    }\n  }else if (is_member(currT.token,openParenWords)) {\n    return currT.column+currT.token.length;\n  }else{\n    t = defaultToken(state);\n    return truthy(t) ? t.column+cx.unit : 0;\n  }\n}\n\nfunction wordafter(str) {\n  var m = str.match(/,|[a-z]+|\\}|\\]|\\)|>>|\\|+|\\(/);\n\n  return truthy(m) && (m.index === 0) ? m[0] : \"\";\n}\n\nfunction postcommaToken(state) {\n  var objs = state.tokenStack.slice(0,-1);\n  var i = getTokenIndex(objs,\"type\",[\"open_paren\"]);\n\n  return truthy(objs[i]) ? objs[i] : false;\n}\n\nfunction defaultToken(state) {\n  var objs = state.tokenStack;\n  var stop = getTokenIndex(objs,\"type\",[\"open_paren\",\"separator\",\"keyword\"]);\n  var oper = getTokenIndex(objs,\"type\",[\"operator\"]);\n\n  if (truthy(stop) && truthy(oper) && stop < oper) {\n    return objs[stop+1];\n  } else if (truthy(stop)) {\n    return objs[stop];\n  } else {\n    return false;\n  }\n}\n\nfunction getToken(state,tokens) {\n  var objs = state.tokenStack;\n  var i = getTokenIndex(objs,\"token\",tokens);\n\n  return truthy(objs[i]) ? objs[i] : false;\n}\n\nfunction getTokenIndex(objs,propname,propvals) {\n\n  for (var i = objs.length-1; -1 < i ; i--) {\n    if (is_member(objs[i][propname],propvals)) {\n      return i;\n    }\n  }\n  return false;\n}\n\nfunction truthy(x) {\n  return (x !== false) && (x != null);\n}\n\n/////////////////////////////////////////////////////////////////////////////\n// this object defines the mode\n\nconst erlang = {\n  name: \"erlang\",\n  startState() {\n    return {tokenStack: [],\n            in_string:  false,\n            in_atom:    false};\n  },\n\n  token: tokenizer,\n\n  indent: indenter,\n\n  languageData: {\n    commentTokens: {line: \"%\"}\n  }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGVnYWN5LW1vZGVzL21vZGUvZXJsYW5nLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBOEI7QUFDOUI7QUFDQSxpQkFBaUI7O0FBRWpCLCtCQUErQjtBQUMvQjtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLElBQUkseUNBQXlDLEVBQUUsR0FBRyxhQUFhOztBQUUxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0QztBQUM1Qzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBLDBDQUEwQztBQUMxQztBQUNBLE1BQU0sa0NBQWtDO0FBQ3hDO0FBQ0EsaUNBQWlDO0FBQ2pDLFFBQVE7QUFDUix5Q0FBeUM7QUFDekM7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBLFlBQVk7QUFDWjtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtCQUFrQixLQUFLLEdBQUc7QUFDbkMsMkJBQTJCLFFBQVE7QUFDbkMsMkJBQTJCLFFBQVE7QUFDbkMsMkJBQTJCLFNBQVM7QUFDcEMsMkJBQTJCLDhDQUE4QztBQUN6RSwyQkFBMkI7QUFDM0IsNENBQTRDLFFBQVE7QUFDcEQsMkJBQTJCO0FBQzNCLDJEQUEyRDtBQUMzRCxTQUFTLGtCQUFrQiw2Q0FBNkM7QUFDeEUsMkJBQTJCLFVBQVU7QUFDckMsMkJBQTJCLFdBQVc7QUFDdEMsMkJBQTJCLG9CQUFvQjtBQUMvQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQ0FBZ0M7O0FBRWhDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsOEJBQThCLFNBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sZWdhY3ktbW9kZXMvbW9kZS9lcmxhbmcuanM/YjBlOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gY29uc3RhbnRzXG5cbnZhciB0eXBlV29yZHMgPSBbXG4gIFwiLXR5cGVcIiwgXCItc3BlY1wiLCBcIi1leHBvcnRfdHlwZVwiLCBcIi1vcGFxdWVcIl07XG5cbnZhciBrZXl3b3JkV29yZHMgPSBbXG4gIFwiYWZ0ZXJcIixcImJlZ2luXCIsXCJjYXRjaFwiLFwiY2FzZVwiLFwiY29uZFwiLFwiZW5kXCIsXCJmdW5cIixcImlmXCIsXG4gIFwibGV0XCIsXCJvZlwiLFwicXVlcnlcIixcInJlY2VpdmVcIixcInRyeVwiLFwid2hlblwiXTtcblxudmFyIHNlcGFyYXRvclJFICAgID0gL1tcXC0+LDtdLztcbnZhciBzZXBhcmF0b3JXb3JkcyA9IFtcbiAgXCItPlwiLFwiO1wiLFwiLFwiXTtcblxudmFyIG9wZXJhdG9yQXRvbVdvcmRzID0gW1xuICBcImFuZFwiLFwiYW5kYWxzb1wiLFwiYmFuZFwiLFwiYm5vdFwiLFwiYm9yXCIsXCJic2xcIixcImJzclwiLFwiYnhvclwiLFxuICBcImRpdlwiLFwibm90XCIsXCJvclwiLFwib3JlbHNlXCIsXCJyZW1cIixcInhvclwiXTtcblxudmFyIG9wZXJhdG9yU3ltYm9sUkUgICAgPSAvW1xcK1xcLVxcKlxcLzw+PVxcfDohXS87XG52YXIgb3BlcmF0b3JTeW1ib2xXb3JkcyA9IFtcbiAgXCI9XCIsXCIrXCIsXCItXCIsXCIqXCIsXCIvXCIsXCI+XCIsXCI+PVwiLFwiPFwiLFwiPTxcIixcIj06PVwiLFwiPT1cIixcIj0vPVwiLFwiLz1cIixcInx8XCIsXCI8LVwiLFwiIVwiXTtcblxudmFyIG9wZW5QYXJlblJFICAgID0gL1s8XFwoXFxbXFx7XS87XG52YXIgb3BlblBhcmVuV29yZHMgPSBbXG4gIFwiPDxcIixcIihcIixcIltcIixcIntcIl07XG5cbnZhciBjbG9zZVBhcmVuUkUgICAgPSAvWz5cXClcXF1cXH1dLztcbnZhciBjbG9zZVBhcmVuV29yZHMgPSBbXG4gIFwifVwiLFwiXVwiLFwiKVwiLFwiPj5cIl07XG5cbnZhciBndWFyZFdvcmRzID0gW1xuICBcImlzX2F0b21cIixcImlzX2JpbmFyeVwiLFwiaXNfYml0c3RyaW5nXCIsXCJpc19ib29sZWFuXCIsXCJpc19mbG9hdFwiLFxuICBcImlzX2Z1bmN0aW9uXCIsXCJpc19pbnRlZ2VyXCIsXCJpc19saXN0XCIsXCJpc19udW1iZXJcIixcImlzX3BpZFwiLFxuICBcImlzX3BvcnRcIixcImlzX3JlY29yZFwiLFwiaXNfcmVmZXJlbmNlXCIsXCJpc190dXBsZVwiLFxuICBcImF0b21cIixcImJpbmFyeVwiLFwiYml0c3RyaW5nXCIsXCJib29sZWFuXCIsXCJmdW5jdGlvblwiLFwiaW50ZWdlclwiLFwibGlzdFwiLFxuICBcIm51bWJlclwiLFwicGlkXCIsXCJwb3J0XCIsXCJyZWNvcmRcIixcInJlZmVyZW5jZVwiLFwidHVwbGVcIl07XG5cbnZhciBiaWZXb3JkcyA9IFtcbiAgXCJhYnNcIixcImFkbGVyMzJcIixcImFkbGVyMzJfY29tYmluZVwiLFwiYWxpdmVcIixcImFwcGx5XCIsXCJhdG9tX3RvX2JpbmFyeVwiLFxuICBcImF0b21fdG9fbGlzdFwiLFwiYmluYXJ5X3RvX2F0b21cIixcImJpbmFyeV90b19leGlzdGluZ19hdG9tXCIsXG4gIFwiYmluYXJ5X3RvX2xpc3RcIixcImJpbmFyeV90b190ZXJtXCIsXCJiaXRfc2l6ZVwiLFwiYml0c3RyaW5nX3RvX2xpc3RcIixcbiAgXCJieXRlX3NpemVcIixcImNoZWNrX3Byb2Nlc3NfY29kZVwiLFwiY29udGFjdF9iaW5hcnlcIixcImNyYzMyXCIsXG4gIFwiY3JjMzJfY29tYmluZVwiLFwiZGF0ZVwiLFwiZGVjb2RlX3BhY2tldFwiLFwiZGVsZXRlX21vZHVsZVwiLFxuICBcImRpc2Nvbm5lY3Rfbm9kZVwiLFwiZWxlbWVudFwiLFwiZXJhc2VcIixcImV4aXRcIixcImZsb2F0XCIsXCJmbG9hdF90b19saXN0XCIsXG4gIFwiZ2FyYmFnZV9jb2xsZWN0XCIsXCJnZXRcIixcImdldF9rZXlzXCIsXCJncm91cF9sZWFkZXJcIixcImhhbHRcIixcImhkXCIsXG4gIFwiaW50ZWdlcl90b19saXN0XCIsXCJpbnRlcm5hbF9iaWZcIixcImlvbGlzdF9zaXplXCIsXCJpb2xpc3RfdG9fYmluYXJ5XCIsXG4gIFwiaXNfYWxpdmVcIixcImlzX2F0b21cIixcImlzX2JpbmFyeVwiLFwiaXNfYml0c3RyaW5nXCIsXCJpc19ib29sZWFuXCIsXG4gIFwiaXNfZmxvYXRcIixcImlzX2Z1bmN0aW9uXCIsXCJpc19pbnRlZ2VyXCIsXCJpc19saXN0XCIsXCJpc19udW1iZXJcIixcImlzX3BpZFwiLFxuICBcImlzX3BvcnRcIixcImlzX3Byb2Nlc3NfYWxpdmVcIixcImlzX3JlY29yZFwiLFwiaXNfcmVmZXJlbmNlXCIsXCJpc190dXBsZVwiLFxuICBcImxlbmd0aFwiLFwibGlua1wiLFwibGlzdF90b19hdG9tXCIsXCJsaXN0X3RvX2JpbmFyeVwiLFwibGlzdF90b19iaXRzdHJpbmdcIixcbiAgXCJsaXN0X3RvX2V4aXN0aW5nX2F0b21cIixcImxpc3RfdG9fZmxvYXRcIixcImxpc3RfdG9faW50ZWdlclwiLFxuICBcImxpc3RfdG9fcGlkXCIsXCJsaXN0X3RvX3R1cGxlXCIsXCJsb2FkX21vZHVsZVwiLFwibWFrZV9yZWZcIixcIm1vZHVsZV9sb2FkZWRcIixcbiAgXCJtb25pdG9yX25vZGVcIixcIm5vZGVcIixcIm5vZGVfbGlua1wiLFwibm9kZV91bmxpbmtcIixcIm5vZGVzXCIsXCJub3RhbGl2ZVwiLFxuICBcIm5vd1wiLFwib3Blbl9wb3J0XCIsXCJwaWRfdG9fbGlzdFwiLFwicG9ydF9jbG9zZVwiLFwicG9ydF9jb21tYW5kXCIsXG4gIFwicG9ydF9jb25uZWN0XCIsXCJwb3J0X2NvbnRyb2xcIixcInByZV9sb2FkZWRcIixcInByb2Nlc3NfZmxhZ1wiLFxuICBcInByb2Nlc3NfaW5mb1wiLFwicHJvY2Vzc2VzXCIsXCJwdXJnZV9tb2R1bGVcIixcInB1dFwiLFwicmVnaXN0ZXJcIixcbiAgXCJyZWdpc3RlcmVkXCIsXCJyb3VuZFwiLFwic2VsZlwiLFwic2V0ZWxlbWVudFwiLFwic2l6ZVwiLFwic3Bhd25cIixcInNwYXduX2xpbmtcIixcbiAgXCJzcGF3bl9tb25pdG9yXCIsXCJzcGF3bl9vcHRcIixcInNwbGl0X2JpbmFyeVwiLFwic3RhdGlzdGljc1wiLFxuICBcInRlcm1fdG9fYmluYXJ5XCIsXCJ0aW1lXCIsXCJ0aHJvd1wiLFwidGxcIixcInRydW5jXCIsXCJ0dXBsZV9zaXplXCIsXG4gIFwidHVwbGVfdG9fbGlzdFwiLFwidW5saW5rXCIsXCJ1bnJlZ2lzdGVyXCIsXCJ3aGVyZWlzXCJdO1xuXG4vLyB1cHBlciBjYXNlOiBbQS1aXSBbw5gtw55dIFvDgC3Dll1cbi8vIGxvd2VyIGNhc2U6IFthLXpdIFvDny3Dtl0gW8O4LcO/XVxudmFyIGFudW1SRSAgICAgICA9IC9bXFx3QMOYLcOew4Atw5bDny3DtsO4LcO/XS87XG52YXIgZXNjYXBlc1JFICAgID1cbiAgICAvWzAtN117MSwzfXxbYmRlZm5yc3R2XFxcXFwiJ118XFxeW2EtekEtWl18eFswLTlhLXpBLVpdezJ9fHh7WzAtOWEtekEtWl0rfS87XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyB0b2tlbml6ZXJcblxuZnVuY3Rpb24gdG9rZW5pemVyKHN0cmVhbSxzdGF0ZSkge1xuICAvLyBpbiBtdWx0aS1saW5lIHN0cmluZ1xuICBpZiAoc3RhdGUuaW5fc3RyaW5nKSB7XG4gICAgc3RhdGUuaW5fc3RyaW5nID0gKCFkb3VibGVRdW90ZShzdHJlYW0pKTtcbiAgICByZXR1cm4gcnZhbChzdGF0ZSxzdHJlYW0sXCJzdHJpbmdcIik7XG4gIH1cblxuICAvLyBpbiBtdWx0aS1saW5lIGF0b21cbiAgaWYgKHN0YXRlLmluX2F0b20pIHtcbiAgICBzdGF0ZS5pbl9hdG9tID0gKCFzaW5nbGVRdW90ZShzdHJlYW0pKTtcbiAgICByZXR1cm4gcnZhbChzdGF0ZSxzdHJlYW0sXCJhdG9tXCIpO1xuICB9XG5cbiAgLy8gd2hpdGVzcGFjZVxuICBpZiAoc3RyZWFtLmVhdFNwYWNlKCkpIHtcbiAgICByZXR1cm4gcnZhbChzdGF0ZSxzdHJlYW0sXCJ3aGl0ZXNwYWNlXCIpO1xuICB9XG5cbiAgLy8gYXR0cmlidXRlcyBhbmQgdHlwZSBzcGVjc1xuICBpZiAoIXBlZWtUb2tlbihzdGF0ZSkgJiZcbiAgICAgIHN0cmVhbS5tYXRjaCgvLVxccypbYS16w58tw7bDuC3Dv11bXFx3w5gtw57DgC3DlsOfLcO2w7gtw79dKi8pKSB7XG4gICAgaWYgKGlzX21lbWJlcihzdHJlYW0uY3VycmVudCgpLHR5cGVXb3JkcykpIHtcbiAgICAgIHJldHVybiBydmFsKHN0YXRlLHN0cmVhbSxcInR5cGVcIik7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gcnZhbChzdGF0ZSxzdHJlYW0sXCJhdHRyaWJ1dGVcIik7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNoID0gc3RyZWFtLm5leHQoKTtcblxuICAvLyBjb21tZW50XG4gIGlmIChjaCA9PSAnJScpIHtcbiAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgcmV0dXJuIHJ2YWwoc3RhdGUsc3RyZWFtLFwiY29tbWVudFwiKTtcbiAgfVxuXG4gIC8vIGNvbG9uXG4gIGlmIChjaCA9PSBcIjpcIikge1xuICAgIHJldHVybiBydmFsKHN0YXRlLHN0cmVhbSxcImNvbG9uXCIpO1xuICB9XG5cbiAgLy8gbWFjcm9cbiAgaWYgKGNoID09ICc/Jykge1xuICAgIHN0cmVhbS5lYXRTcGFjZSgpO1xuICAgIHN0cmVhbS5lYXRXaGlsZShhbnVtUkUpO1xuICAgIHJldHVybiBydmFsKHN0YXRlLHN0cmVhbSxcIm1hY3JvXCIpO1xuICB9XG5cbiAgLy8gcmVjb3JkXG4gIGlmIChjaCA9PSBcIiNcIikge1xuICAgIHN0cmVhbS5lYXRTcGFjZSgpO1xuICAgIHN0cmVhbS5lYXRXaGlsZShhbnVtUkUpO1xuICAgIHJldHVybiBydmFsKHN0YXRlLHN0cmVhbSxcInJlY29yZFwiKTtcbiAgfVxuXG4gIC8vIGRvbGxhciBlc2NhcGVcbiAgaWYgKGNoID09IFwiJFwiKSB7XG4gICAgaWYgKHN0cmVhbS5uZXh0KCkgPT0gXCJcXFxcXCIgJiYgIXN0cmVhbS5tYXRjaChlc2NhcGVzUkUpKSB7XG4gICAgICByZXR1cm4gcnZhbChzdGF0ZSxzdHJlYW0sXCJlcnJvclwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHJ2YWwoc3RhdGUsc3RyZWFtLFwibnVtYmVyXCIpO1xuICB9XG5cbiAgLy8gZG90XG4gIGlmIChjaCA9PSBcIi5cIikge1xuICAgIHJldHVybiBydmFsKHN0YXRlLHN0cmVhbSxcImRvdFwiKTtcbiAgfVxuXG4gIC8vIHF1b3RlZCBhdG9tXG4gIGlmIChjaCA9PSAnXFwnJykge1xuICAgIGlmICghKHN0YXRlLmluX2F0b20gPSAoIXNpbmdsZVF1b3RlKHN0cmVhbSkpKSkge1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXFxzKlxcL1xccypbMC05XS8sZmFsc2UpKSB7XG4gICAgICAgIHN0cmVhbS5tYXRjaCgvXFxzKlxcL1xccypbMC05XS8sdHJ1ZSk7XG4gICAgICAgIHJldHVybiBydmFsKHN0YXRlLHN0cmVhbSxcImZ1blwiKTsgICAgICAvLyAnZicvMCBzdHlsZSBmdW5cbiAgICAgIH1cbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goL1xccypcXCgvLGZhbHNlKSB8fCBzdHJlYW0ubWF0Y2goL1xccyo6LyxmYWxzZSkpIHtcbiAgICAgICAgcmV0dXJuIHJ2YWwoc3RhdGUsc3RyZWFtLFwiZnVuY3Rpb25cIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBydmFsKHN0YXRlLHN0cmVhbSxcImF0b21cIik7XG4gIH1cblxuICAvLyBzdHJpbmdcbiAgaWYgKGNoID09ICdcIicpIHtcbiAgICBzdGF0ZS5pbl9zdHJpbmcgPSAoIWRvdWJsZVF1b3RlKHN0cmVhbSkpO1xuICAgIHJldHVybiBydmFsKHN0YXRlLHN0cmVhbSxcInN0cmluZ1wiKTtcbiAgfVxuXG4gIC8vIHZhcmlhYmxlXG4gIGlmICgvW0EtWl/DmC3DnsOALcOWXS8udGVzdChjaCkpIHtcbiAgICBzdHJlYW0uZWF0V2hpbGUoYW51bVJFKTtcbiAgICByZXR1cm4gcnZhbChzdGF0ZSxzdHJlYW0sXCJ2YXJpYWJsZVwiKTtcbiAgfVxuXG4gIC8vIGF0b20va2V5d29yZC9CSUYvZnVuY3Rpb25cbiAgaWYgKC9bYS16X8OfLcO2w7gtw79dLy50ZXN0KGNoKSkge1xuICAgIHN0cmVhbS5lYXRXaGlsZShhbnVtUkUpO1xuXG4gICAgaWYgKHN0cmVhbS5tYXRjaCgvXFxzKlxcL1xccypbMC05XS8sZmFsc2UpKSB7XG4gICAgICBzdHJlYW0ubWF0Y2goL1xccypcXC9cXHMqWzAtOV0vLHRydWUpO1xuICAgICAgcmV0dXJuIHJ2YWwoc3RhdGUsc3RyZWFtLFwiZnVuXCIpOyAgICAgIC8vIGYvMCBzdHlsZSBmdW5cbiAgICB9XG5cbiAgICB2YXIgdyA9IHN0cmVhbS5jdXJyZW50KCk7XG5cbiAgICBpZiAoaXNfbWVtYmVyKHcsa2V5d29yZFdvcmRzKSkge1xuICAgICAgcmV0dXJuIHJ2YWwoc3RhdGUsc3RyZWFtLFwia2V5d29yZFwiKTtcbiAgICB9ZWxzZSBpZiAoaXNfbWVtYmVyKHcsb3BlcmF0b3JBdG9tV29yZHMpKSB7XG4gICAgICByZXR1cm4gcnZhbChzdGF0ZSxzdHJlYW0sXCJvcGVyYXRvclwiKTtcbiAgICB9ZWxzZSBpZiAoc3RyZWFtLm1hdGNoKC9cXHMqXFwoLyxmYWxzZSkpIHtcbiAgICAgIC8vICdwdXQnIGFuZCAnZXJsYW5nOnB1dCcgYXJlIGJpZnMsICdmb286cHV0JyBpcyBub3RcbiAgICAgIGlmIChpc19tZW1iZXIodyxiaWZXb3JkcykgJiZcbiAgICAgICAgICAoKHBlZWtUb2tlbihzdGF0ZSkudG9rZW4gIT0gXCI6XCIpIHx8XG4gICAgICAgICAgIChwZWVrVG9rZW4oc3RhdGUsMikudG9rZW4gPT0gXCJlcmxhbmdcIikpKSB7XG4gICAgICAgIHJldHVybiBydmFsKHN0YXRlLHN0cmVhbSxcImJ1aWx0aW5cIik7XG4gICAgICB9ZWxzZSBpZiAoaXNfbWVtYmVyKHcsZ3VhcmRXb3JkcykpIHtcbiAgICAgICAgcmV0dXJuIHJ2YWwoc3RhdGUsc3RyZWFtLFwiZ3VhcmRcIik7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHJ2YWwoc3RhdGUsc3RyZWFtLFwiZnVuY3Rpb25cIik7XG4gICAgICB9XG4gICAgfWVsc2UgaWYgKGxvb2thaGVhZChzdHJlYW0pID09IFwiOlwiKSB7XG4gICAgICBpZiAodyA9PSBcImVybGFuZ1wiKSB7XG4gICAgICAgIHJldHVybiBydmFsKHN0YXRlLHN0cmVhbSxcImJ1aWx0aW5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcnZhbChzdGF0ZSxzdHJlYW0sXCJmdW5jdGlvblwiKTtcbiAgICAgIH1cbiAgICB9ZWxzZSBpZiAoaXNfbWVtYmVyKHcsW1widHJ1ZVwiLFwiZmFsc2VcIl0pKSB7XG4gICAgICByZXR1cm4gcnZhbChzdGF0ZSxzdHJlYW0sXCJib29sZWFuXCIpO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIHJ2YWwoc3RhdGUsc3RyZWFtLFwiYXRvbVwiKTtcbiAgICB9XG4gIH1cblxuICAvLyBudW1iZXJcbiAgdmFyIGRpZ2l0UkUgICAgICA9IC9bMC05XS87XG4gIHZhciByYWRpeFJFICAgICAgPSAvWzAtOWEtekEtWl0vOyAgICAgICAgIC8vIDM2I3paIHN0eWxlIGludFxuICBpZiAoZGlnaXRSRS50ZXN0KGNoKSkge1xuICAgIHN0cmVhbS5lYXRXaGlsZShkaWdpdFJFKTtcbiAgICBpZiAoc3RyZWFtLmVhdCgnIycpKSB7ICAgICAgICAgICAgICAgIC8vIDM2I2FaICBzdHlsZSBpbnRlZ2VyXG4gICAgICBpZiAoIXN0cmVhbS5lYXRXaGlsZShyYWRpeFJFKSkge1xuICAgICAgICBzdHJlYW0uYmFja1VwKDEpOyAgICAgICAgICAgICAgICAgLy9cIjM2I1wiIC0gc3ludGF4IGVycm9yXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdHJlYW0uZWF0KCcuJykpIHsgICAgICAgLy8gZmxvYXRcbiAgICAgIGlmICghc3RyZWFtLmVhdFdoaWxlKGRpZ2l0UkUpKSB7XG4gICAgICAgIHN0cmVhbS5iYWNrVXAoMSk7ICAgICAgICAvLyBcIjMuXCIgLSBwcm9iYWJseSBlbmQgb2YgZnVuY3Rpb25cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzdHJlYW0uZWF0KC9bZUVdLykpIHsgICAgICAgIC8vIGZsb2F0IHdpdGggZXhwb25lbnRcbiAgICAgICAgICBpZiAoc3RyZWFtLmVhdCgvWy0rXS8pKSB7XG4gICAgICAgICAgICBpZiAoIXN0cmVhbS5lYXRXaGlsZShkaWdpdFJFKSkge1xuICAgICAgICAgICAgICBzdHJlYW0uYmFja1VwKDIpOyAgICAgICAgICAgIC8vIFwiMmUtXCIgLSBzeW50YXggZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFzdHJlYW0uZWF0V2hpbGUoZGlnaXRSRSkpIHtcbiAgICAgICAgICAgICAgc3RyZWFtLmJhY2tVcCgxKTsgICAgICAgICAgICAvLyBcIjJlXCIgLSBzeW50YXggZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJ2YWwoc3RhdGUsc3RyZWFtLFwibnVtYmVyXCIpOyAgIC8vIG5vcm1hbCBpbnRlZ2VyXG4gIH1cblxuICAvLyBvcGVuIHBhcmVuc1xuICBpZiAobm9uZ3JlZWR5KHN0cmVhbSxvcGVuUGFyZW5SRSxvcGVuUGFyZW5Xb3JkcykpIHtcbiAgICByZXR1cm4gcnZhbChzdGF0ZSxzdHJlYW0sXCJvcGVuX3BhcmVuXCIpO1xuICB9XG5cbiAgLy8gY2xvc2UgcGFyZW5zXG4gIGlmIChub25ncmVlZHkoc3RyZWFtLGNsb3NlUGFyZW5SRSxjbG9zZVBhcmVuV29yZHMpKSB7XG4gICAgcmV0dXJuIHJ2YWwoc3RhdGUsc3RyZWFtLFwiY2xvc2VfcGFyZW5cIik7XG4gIH1cblxuICAvLyBzZXBhcmF0b3JzXG4gIGlmIChncmVlZHkoc3RyZWFtLHNlcGFyYXRvclJFLHNlcGFyYXRvcldvcmRzKSkge1xuICAgIHJldHVybiBydmFsKHN0YXRlLHN0cmVhbSxcInNlcGFyYXRvclwiKTtcbiAgfVxuXG4gIC8vIG9wZXJhdG9yc1xuICBpZiAoZ3JlZWR5KHN0cmVhbSxvcGVyYXRvclN5bWJvbFJFLG9wZXJhdG9yU3ltYm9sV29yZHMpKSB7XG4gICAgcmV0dXJuIHJ2YWwoc3RhdGUsc3RyZWFtLFwib3BlcmF0b3JcIik7XG4gIH1cblxuICByZXR1cm4gcnZhbChzdGF0ZSxzdHJlYW0sbnVsbCk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyB1dGlsaXRpZXNcbmZ1bmN0aW9uIG5vbmdyZWVkeShzdHJlYW0scmUsd29yZHMpIHtcbiAgaWYgKHN0cmVhbS5jdXJyZW50KCkubGVuZ3RoID09IDEgJiYgcmUudGVzdChzdHJlYW0uY3VycmVudCgpKSkge1xuICAgIHN0cmVhbS5iYWNrVXAoMSk7XG4gICAgd2hpbGUgKHJlLnRlc3Qoc3RyZWFtLnBlZWsoKSkpIHtcbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICBpZiAoaXNfbWVtYmVyKHN0cmVhbS5jdXJyZW50KCksd29yZHMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzdHJlYW0uYmFja1VwKHN0cmVhbS5jdXJyZW50KCkubGVuZ3RoLTEpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ3JlZWR5KHN0cmVhbSxyZSx3b3Jkcykge1xuICBpZiAoc3RyZWFtLmN1cnJlbnQoKS5sZW5ndGggPT0gMSAmJiByZS50ZXN0KHN0cmVhbS5jdXJyZW50KCkpKSB7XG4gICAgd2hpbGUgKHJlLnRlc3Qoc3RyZWFtLnBlZWsoKSkpIHtcbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgfVxuICAgIHdoaWxlICgwIDwgc3RyZWFtLmN1cnJlbnQoKS5sZW5ndGgpIHtcbiAgICAgIGlmIChpc19tZW1iZXIoc3RyZWFtLmN1cnJlbnQoKSx3b3JkcykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgc3RyZWFtLmJhY2tVcCgxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3RyZWFtLm5leHQoKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGRvdWJsZVF1b3RlKHN0cmVhbSkge1xuICByZXR1cm4gcXVvdGUoc3RyZWFtLCAnXCInLCAnXFxcXCcpO1xufVxuXG5mdW5jdGlvbiBzaW5nbGVRdW90ZShzdHJlYW0pIHtcbiAgcmV0dXJuIHF1b3RlKHN0cmVhbSwnXFwnJywnXFxcXCcpO1xufVxuXG5mdW5jdGlvbiBxdW90ZShzdHJlYW0scXVvdGVDaGFyLGVzY2FwZUNoYXIpIHtcbiAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICB2YXIgY2ggPSBzdHJlYW0ubmV4dCgpO1xuICAgIGlmIChjaCA9PSBxdW90ZUNoYXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1lbHNlIGlmIChjaCA9PSBlc2NhcGVDaGFyKSB7XG4gICAgICBzdHJlYW0ubmV4dCgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGxvb2thaGVhZChzdHJlYW0pIHtcbiAgdmFyIG0gPSBzdHJlYW0ubWF0Y2goL15cXHMqKFteXFxzJV0pLywgZmFsc2UpXG4gIHJldHVybiBtID8gbVsxXSA6IFwiXCI7XG59XG5cbmZ1bmN0aW9uIGlzX21lbWJlcihlbGVtZW50LGxpc3QpIHtcbiAgcmV0dXJuICgtMSA8IGxpc3QuaW5kZXhPZihlbGVtZW50KSk7XG59XG5cbmZ1bmN0aW9uIHJ2YWwoc3RhdGUsc3RyZWFtLHR5cGUpIHtcblxuICAvLyBwYXJzZSBzdGFja1xuICBwdXNoVG9rZW4oc3RhdGUscmVhbFRva2VuKHR5cGUsc3RyZWFtKSk7XG5cbiAgLy8gbWFwIGVybGFuZyB0b2tlbiB0eXBlIHRvIENvZGVNaXJyb3Igc3R5bGUgY2xhc3NcbiAgLy8gICAgIGVybGFuZyAgICAgICAgICAgICAtPiBDb2RlTWlycm9yIHRhZ1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgY2FzZSBcImF0b21cIjogICAgICAgIHJldHVybiBcImF0b21cIjtcbiAgY2FzZSBcImF0dHJpYnV0ZVwiOiAgIHJldHVybiBcImF0dHJpYnV0ZVwiO1xuICBjYXNlIFwiYm9vbGVhblwiOiAgICAgcmV0dXJuIFwiYXRvbVwiO1xuICBjYXNlIFwiYnVpbHRpblwiOiAgICAgcmV0dXJuIFwiYnVpbHRpblwiO1xuICBjYXNlIFwiY2xvc2VfcGFyZW5cIjogcmV0dXJuIG51bGw7XG4gIGNhc2UgXCJjb2xvblwiOiAgICAgICByZXR1cm4gbnVsbDtcbiAgY2FzZSBcImNvbW1lbnRcIjogICAgIHJldHVybiBcImNvbW1lbnRcIjtcbiAgY2FzZSBcImRvdFwiOiAgICAgICAgIHJldHVybiBudWxsO1xuICBjYXNlIFwiZXJyb3JcIjogICAgICAgcmV0dXJuIFwiZXJyb3JcIjtcbiAgY2FzZSBcImZ1blwiOiAgICAgICAgIHJldHVybiBcIm1ldGFcIjtcbiAgY2FzZSBcImZ1bmN0aW9uXCI6ICAgIHJldHVybiBcInRhZ1wiO1xuICBjYXNlIFwiZ3VhcmRcIjogICAgICAgcmV0dXJuIFwicHJvcGVydHlcIjtcbiAgY2FzZSBcImtleXdvcmRcIjogICAgIHJldHVybiBcImtleXdvcmRcIjtcbiAgY2FzZSBcIm1hY3JvXCI6ICAgICAgIHJldHVybiBcIm1hY3JvTmFtZVwiO1xuICBjYXNlIFwibnVtYmVyXCI6ICAgICAgcmV0dXJuIFwibnVtYmVyXCI7XG4gIGNhc2UgXCJvcGVuX3BhcmVuXCI6ICByZXR1cm4gbnVsbDtcbiAgY2FzZSBcIm9wZXJhdG9yXCI6ICAgIHJldHVybiBcIm9wZXJhdG9yXCI7XG4gIGNhc2UgXCJyZWNvcmRcIjogICAgICByZXR1cm4gXCJicmFja2V0XCI7XG4gIGNhc2UgXCJzZXBhcmF0b3JcIjogICByZXR1cm4gbnVsbDtcbiAgY2FzZSBcInN0cmluZ1wiOiAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICBjYXNlIFwidHlwZVwiOiAgICAgICAgcmV0dXJuIFwiZGVmXCI7XG4gIGNhc2UgXCJ2YXJpYWJsZVwiOiAgICByZXR1cm4gXCJ2YXJpYWJsZVwiO1xuICBkZWZhdWx0OiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFUb2tlbih0b2ssY29sLGluZCx0eXApIHtcbiAgcmV0dXJuIHt0b2tlbjogIHRvayxcbiAgICAgICAgICBjb2x1bW46IGNvbCxcbiAgICAgICAgICBpbmRlbnQ6IGluZCxcbiAgICAgICAgICB0eXBlOiAgIHR5cH07XG59XG5cbmZ1bmN0aW9uIHJlYWxUb2tlbih0eXBlLHN0cmVhbSkge1xuICByZXR1cm4gYVRva2VuKHN0cmVhbS5jdXJyZW50KCksXG4gICAgICAgICAgICAgICAgc3RyZWFtLmNvbHVtbigpLFxuICAgICAgICAgICAgICAgIHN0cmVhbS5pbmRlbnRhdGlvbigpLFxuICAgICAgICAgICAgICAgIHR5cGUpO1xufVxuXG5mdW5jdGlvbiBmYWtlVG9rZW4odHlwZSkge1xuICByZXR1cm4gYVRva2VuKHR5cGUsMCwwLHR5cGUpO1xufVxuXG5mdW5jdGlvbiBwZWVrVG9rZW4oc3RhdGUsZGVwdGgpIHtcbiAgdmFyIGxlbiA9IHN0YXRlLnRva2VuU3RhY2subGVuZ3RoO1xuICB2YXIgZGVwID0gKGRlcHRoID8gZGVwdGggOiAxKTtcblxuICBpZiAobGVuIDwgZGVwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9ZWxzZXtcbiAgICByZXR1cm4gc3RhdGUudG9rZW5TdGFja1tsZW4tZGVwXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdXNoVG9rZW4oc3RhdGUsdG9rZW4pIHtcblxuICBpZiAoISh0b2tlbi50eXBlID09IFwiY29tbWVudFwiIHx8IHRva2VuLnR5cGUgPT0gXCJ3aGl0ZXNwYWNlXCIpKSB7XG4gICAgc3RhdGUudG9rZW5TdGFjayA9IG1heWJlX2Ryb3BfcHJlKHN0YXRlLnRva2VuU3RhY2ssdG9rZW4pO1xuICAgIHN0YXRlLnRva2VuU3RhY2sgPSBtYXliZV9kcm9wX3Bvc3Qoc3RhdGUudG9rZW5TdGFjayk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWF5YmVfZHJvcF9wcmUocyx0b2tlbikge1xuICB2YXIgbGFzdCA9IHMubGVuZ3RoLTE7XG5cbiAgaWYgKDAgPCBsYXN0ICYmIHNbbGFzdF0udHlwZSA9PT0gXCJyZWNvcmRcIiAmJiB0b2tlbi50eXBlID09PSBcImRvdFwiKSB7XG4gICAgcy5wb3AoKTtcbiAgfWVsc2UgaWYgKDAgPCBsYXN0ICYmIHNbbGFzdF0udHlwZSA9PT0gXCJncm91cFwiKSB7XG4gICAgcy5wb3AoKTtcbiAgICBzLnB1c2godG9rZW4pO1xuICB9ZWxzZXtcbiAgICBzLnB1c2godG9rZW4pO1xuICB9XG4gIHJldHVybiBzO1xufVxuXG5mdW5jdGlvbiBtYXliZV9kcm9wX3Bvc3Qocykge1xuICBpZiAoIXMubGVuZ3RoKSByZXR1cm4gc1xuICB2YXIgbGFzdCA9IHMubGVuZ3RoLTE7XG5cbiAgaWYgKHNbbGFzdF0udHlwZSA9PT0gXCJkb3RcIikge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAobGFzdCA+IDEgJiYgc1tsYXN0XS50eXBlID09PSBcImZ1blwiICYmIHNbbGFzdC0xXS50b2tlbiA9PT0gXCJmdW5cIikge1xuICAgIHJldHVybiBzLnNsaWNlKDAsbGFzdC0xKTtcbiAgfVxuICBzd2l0Y2ggKHNbbGFzdF0udG9rZW4pIHtcbiAgY2FzZSBcIn1cIjogICAgcmV0dXJuIGQocyx7ZzpbXCJ7XCJdfSk7XG4gIGNhc2UgXCJdXCI6ICAgIHJldHVybiBkKHMse2k6W1wiW1wiXX0pO1xuICBjYXNlIFwiKVwiOiAgICByZXR1cm4gZChzLHtpOltcIihcIl19KTtcbiAgY2FzZSBcIj4+XCI6ICAgcmV0dXJuIGQocyx7aTpbXCI8PFwiXX0pO1xuICBjYXNlIFwiZW5kXCI6ICByZXR1cm4gZChzLHtpOltcImJlZ2luXCIsXCJjYXNlXCIsXCJmdW5cIixcImlmXCIsXCJyZWNlaXZlXCIsXCJ0cnlcIl19KTtcbiAgY2FzZSBcIixcIjogICAgcmV0dXJuIGQocyx7ZTpbXCJiZWdpblwiLFwidHJ5XCIsXCJ3aGVuXCIsXCItPlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIsXCIsXCIoXCIsXCJbXCIsXCJ7XCIsXCI8PFwiXX0pO1xuICBjYXNlIFwiLT5cIjogICByZXR1cm4gZChzLHtyOltcIndoZW5cIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtOltcInRyeVwiLFwiaWZcIixcImNhc2VcIixcInJlY2VpdmVcIl19KTtcbiAgY2FzZSBcIjtcIjogICAgcmV0dXJuIGQocyx7RTpbXCJjYXNlXCIsXCJmdW5cIixcImlmXCIsXCJyZWNlaXZlXCIsXCJ0cnlcIixcIndoZW5cIl19KTtcbiAgY2FzZSBcImNhdGNoXCI6cmV0dXJuIGQocyx7ZTpbXCJ0cnlcIl19KTtcbiAgY2FzZSBcIm9mXCI6ICAgcmV0dXJuIGQocyx7ZTpbXCJjYXNlXCJdfSk7XG4gIGNhc2UgXCJhZnRlclwiOnJldHVybiBkKHMse2U6W1wicmVjZWl2ZVwiLFwidHJ5XCJdfSk7XG4gIGRlZmF1bHQ6ICAgICByZXR1cm4gcztcbiAgfVxufVxuXG5mdW5jdGlvbiBkKHN0YWNrLHR0KSB7XG4gIC8vIHN0YWNrIGlzIGEgc3RhY2sgb2YgVG9rZW4gb2JqZWN0cy5cbiAgLy8gdHQgaXMgYW4gb2JqZWN0OyB7dHlwZTp0b2tlbnN9XG4gIC8vIHR5cGUgaXMgYSBjaGFyLCB0b2tlbnMgaXMgYSBsaXN0IG9mIHRva2VuIHN0cmluZ3MuXG4gIC8vIFRoZSBmdW5jdGlvbiByZXR1cm5zIChwb3NzaWJseSB0cnVuY2F0ZWQpIHN0YWNrLlxuICAvLyBJdCB3aWxsIGRlc2NlbmQgdGhlIHN0YWNrLCBsb29raW5nIGZvciBhIFRva2VuIHN1Y2ggdGhhdCBUb2tlbi50b2tlblxuICAvLyAgaXMgYSBtZW1iZXIgb2YgdG9rZW5zLiBJZiBpdCBkb2VzIG5vdCBmaW5kIHRoYXQsIGl0IHdpbGwgbm9ybWFsbHkgKGJ1dFxuICAvLyAgc2VlIFwiRVwiIGJlbG93KSByZXR1cm4gc3RhY2suIElmIGl0IGRvZXMgZmluZCBhIG1hdGNoLCBpdCB3aWxsIHJlbW92ZVxuICAvLyAgYWxsIHRoZSBUb2tlbnMgYmV0d2VlbiB0aGUgdG9wIGFuZCB0aGUgbWF0Y2hlZCBUb2tlbi5cbiAgLy8gSWYgdHlwZSBpcyBcIm1cIiwgdGhhdCBpcyBhbGwgaXQgZG9lcy5cbiAgLy8gSWYgdHlwZSBpcyBcImlcIiwgaXQgd2lsbCBhbHNvIHJlbW92ZSB0aGUgbWF0Y2hlZCBUb2tlbiBhbmQgdGhlIHRvcCBUb2tlbi5cbiAgLy8gSWYgdHlwZSBpcyBcImdcIiwgbGlrZSBcImlcIiwgYnV0IGFkZCBhIGZha2UgXCJncm91cFwiIHRva2VuIGF0IHRoZSB0b3AuXG4gIC8vIElmIHR5cGUgaXMgXCJyXCIsIGl0IHdpbGwgcmVtb3ZlIHRoZSBtYXRjaGVkIFRva2VuLCBidXQgbm90IHRoZSB0b3AgVG9rZW4uXG4gIC8vIElmIHR5cGUgaXMgXCJlXCIsIGl0IHdpbGwga2VlcCB0aGUgbWF0Y2hlZCBUb2tlbiBidXQgbm90IHRoZSB0b3AgVG9rZW4uXG4gIC8vIElmIHR5cGUgaXMgXCJFXCIsIGl0IGJlaGF2ZXMgYXMgZm9yIHR5cGUgXCJlXCIsIGV4Y2VwdCBpZiB0aGVyZSBpcyBubyBtYXRjaCxcbiAgLy8gIGluIHdoaWNoIGNhc2UgaXQgd2lsbCByZXR1cm4gYW4gZW1wdHkgc3RhY2suXG5cbiAgZm9yICh2YXIgdHlwZSBpbiB0dCkge1xuICAgIHZhciBsZW4gPSBzdGFjay5sZW5ndGgtMTtcbiAgICB2YXIgdG9rZW5zID0gdHRbdHlwZV07XG4gICAgZm9yICh2YXIgaSA9IGxlbi0xOyAtMSA8IGkgOyBpLS0pIHtcbiAgICAgIGlmIChpc19tZW1iZXIoc3RhY2tbaV0udG9rZW4sdG9rZW5zKSkge1xuICAgICAgICB2YXIgc3MgPSBzdGFjay5zbGljZSgwLGkpO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcIm1cIjogcmV0dXJuIHNzLmNvbmNhdChzdGFja1tpXSkuY29uY2F0KHN0YWNrW2xlbl0pO1xuICAgICAgICBjYXNlIFwiclwiOiByZXR1cm4gc3MuY29uY2F0KHN0YWNrW2xlbl0pO1xuICAgICAgICBjYXNlIFwiaVwiOiByZXR1cm4gc3M7XG4gICAgICAgIGNhc2UgXCJnXCI6IHJldHVybiBzcy5jb25jYXQoZmFrZVRva2VuKFwiZ3JvdXBcIikpO1xuICAgICAgICBjYXNlIFwiRVwiOiByZXR1cm4gc3MuY29uY2F0KHN0YWNrW2ldKTtcbiAgICAgICAgY2FzZSBcImVcIjogcmV0dXJuIHNzLmNvbmNhdChzdGFja1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuICh0eXBlID09IFwiRVwiID8gW10gOiBzdGFjayk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBpbmRlbnRlclxuXG5mdW5jdGlvbiBpbmRlbnRlcihzdGF0ZSwgdGV4dEFmdGVyLCBjeCkge1xuICB2YXIgdDtcbiAgdmFyIHdvcmRBZnRlciA9IHdvcmRhZnRlcih0ZXh0QWZ0ZXIpO1xuICB2YXIgY3VyclQgPSBwZWVrVG9rZW4oc3RhdGUsMSk7XG4gIHZhciBwcmV2VCA9IHBlZWtUb2tlbihzdGF0ZSwyKTtcblxuICBpZiAoc3RhdGUuaW5fc3RyaW5nIHx8IHN0YXRlLmluX2F0b20pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfWVsc2UgaWYgKCFwcmV2VCkge1xuICAgIHJldHVybiAwO1xuICB9ZWxzZSBpZiAoY3VyclQudG9rZW4gPT0gXCJ3aGVuXCIpIHtcbiAgICByZXR1cm4gY3VyclQuY29sdW1uICsgY3gudW5pdDtcbiAgfWVsc2UgaWYgKHdvcmRBZnRlciA9PT0gXCJ3aGVuXCIgJiYgcHJldlQudHlwZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHByZXZULmluZGVudCtjeC51bml0O1xuICB9ZWxzZSBpZiAod29yZEFmdGVyID09PSBcIihcIiAmJiBjdXJyVC50b2tlbiA9PT0gXCJmdW5cIikge1xuICAgIHJldHVybiAgY3VyclQuY29sdW1uKzM7XG4gIH1lbHNlIGlmICh3b3JkQWZ0ZXIgPT09IFwiY2F0Y2hcIiAmJiAodCA9IGdldFRva2VuKHN0YXRlLFtcInRyeVwiXSkpKSB7XG4gICAgcmV0dXJuIHQuY29sdW1uO1xuICB9ZWxzZSBpZiAoaXNfbWVtYmVyKHdvcmRBZnRlcixbXCJlbmRcIixcImFmdGVyXCIsXCJvZlwiXSkpIHtcbiAgICB0ID0gZ2V0VG9rZW4oc3RhdGUsW1wiYmVnaW5cIixcImNhc2VcIixcImZ1blwiLFwiaWZcIixcInJlY2VpdmVcIixcInRyeVwiXSk7XG4gICAgcmV0dXJuIHQgPyB0LmNvbHVtbiA6IG51bGw7XG4gIH1lbHNlIGlmIChpc19tZW1iZXIod29yZEFmdGVyLGNsb3NlUGFyZW5Xb3JkcykpIHtcbiAgICB0ID0gZ2V0VG9rZW4oc3RhdGUsb3BlblBhcmVuV29yZHMpO1xuICAgIHJldHVybiB0ID8gdC5jb2x1bW4gOiBudWxsO1xuICB9ZWxzZSBpZiAoaXNfbWVtYmVyKGN1cnJULnRva2VuLFtcIixcIixcInxcIixcInx8XCJdKSB8fFxuICAgICAgICAgICAgaXNfbWVtYmVyKHdvcmRBZnRlcixbXCIsXCIsXCJ8XCIsXCJ8fFwiXSkpIHtcbiAgICB0ID0gcG9zdGNvbW1hVG9rZW4oc3RhdGUpO1xuICAgIHJldHVybiB0ID8gdC5jb2x1bW4rdC50b2tlbi5sZW5ndGggOiBjeC51bml0O1xuICB9ZWxzZSBpZiAoY3VyclQudG9rZW4gPT0gXCItPlwiKSB7XG4gICAgaWYgKGlzX21lbWJlcihwcmV2VC50b2tlbiwgW1wicmVjZWl2ZVwiLFwiY2FzZVwiLFwiaWZcIixcInRyeVwiXSkpIHtcbiAgICAgIHJldHVybiBwcmV2VC5jb2x1bW4rY3gudW5pdCtjeC51bml0O1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIHByZXZULmNvbHVtbitjeC51bml0O1xuICAgIH1cbiAgfWVsc2UgaWYgKGlzX21lbWJlcihjdXJyVC50b2tlbixvcGVuUGFyZW5Xb3JkcykpIHtcbiAgICByZXR1cm4gY3VyclQuY29sdW1uK2N1cnJULnRva2VuLmxlbmd0aDtcbiAgfWVsc2V7XG4gICAgdCA9IGRlZmF1bHRUb2tlbihzdGF0ZSk7XG4gICAgcmV0dXJuIHRydXRoeSh0KSA/IHQuY29sdW1uK2N4LnVuaXQgOiAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdvcmRhZnRlcihzdHIpIHtcbiAgdmFyIG0gPSBzdHIubWF0Y2goLyx8W2Etel0rfFxcfXxcXF18XFwpfD4+fFxcfCt8XFwoLyk7XG5cbiAgcmV0dXJuIHRydXRoeShtKSAmJiAobS5pbmRleCA9PT0gMCkgPyBtWzBdIDogXCJcIjtcbn1cblxuZnVuY3Rpb24gcG9zdGNvbW1hVG9rZW4oc3RhdGUpIHtcbiAgdmFyIG9ianMgPSBzdGF0ZS50b2tlblN0YWNrLnNsaWNlKDAsLTEpO1xuICB2YXIgaSA9IGdldFRva2VuSW5kZXgob2JqcyxcInR5cGVcIixbXCJvcGVuX3BhcmVuXCJdKTtcblxuICByZXR1cm4gdHJ1dGh5KG9ianNbaV0pID8gb2Jqc1tpXSA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0VG9rZW4oc3RhdGUpIHtcbiAgdmFyIG9ianMgPSBzdGF0ZS50b2tlblN0YWNrO1xuICB2YXIgc3RvcCA9IGdldFRva2VuSW5kZXgob2JqcyxcInR5cGVcIixbXCJvcGVuX3BhcmVuXCIsXCJzZXBhcmF0b3JcIixcImtleXdvcmRcIl0pO1xuICB2YXIgb3BlciA9IGdldFRva2VuSW5kZXgob2JqcyxcInR5cGVcIixbXCJvcGVyYXRvclwiXSk7XG5cbiAgaWYgKHRydXRoeShzdG9wKSAmJiB0cnV0aHkob3BlcikgJiYgc3RvcCA8IG9wZXIpIHtcbiAgICByZXR1cm4gb2Jqc1tzdG9wKzFdO1xuICB9IGVsc2UgaWYgKHRydXRoeShzdG9wKSkge1xuICAgIHJldHVybiBvYmpzW3N0b3BdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUb2tlbihzdGF0ZSx0b2tlbnMpIHtcbiAgdmFyIG9ianMgPSBzdGF0ZS50b2tlblN0YWNrO1xuICB2YXIgaSA9IGdldFRva2VuSW5kZXgob2JqcyxcInRva2VuXCIsdG9rZW5zKTtcblxuICByZXR1cm4gdHJ1dGh5KG9ianNbaV0pID8gb2Jqc1tpXSA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRUb2tlbkluZGV4KG9ianMscHJvcG5hbWUscHJvcHZhbHMpIHtcblxuICBmb3IgKHZhciBpID0gb2Jqcy5sZW5ndGgtMTsgLTEgPCBpIDsgaS0tKSB7XG4gICAgaWYgKGlzX21lbWJlcihvYmpzW2ldW3Byb3BuYW1lXSxwcm9wdmFscykpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHRydXRoeSh4KSB7XG4gIHJldHVybiAoeCAhPT0gZmFsc2UpICYmICh4ICE9IG51bGwpO1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gdGhpcyBvYmplY3QgZGVmaW5lcyB0aGUgbW9kZVxuXG5leHBvcnQgY29uc3QgZXJsYW5nID0ge1xuICBuYW1lOiBcImVybGFuZ1wiLFxuICBzdGFydFN0YXRlKCkge1xuICAgIHJldHVybiB7dG9rZW5TdGFjazogW10sXG4gICAgICAgICAgICBpbl9zdHJpbmc6ICBmYWxzZSxcbiAgICAgICAgICAgIGluX2F0b206ICAgIGZhbHNlfTtcbiAgfSxcblxuICB0b2tlbjogdG9rZW5pemVyLFxuXG4gIGluZGVudDogaW5kZW50ZXIsXG5cbiAgbGFuZ3VhZ2VEYXRhOiB7XG4gICAgY29tbWVudFRva2Vuczoge2xpbmU6IFwiJVwifVxuICB9XG59O1xuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@codemirror/legacy-modes/mode/erlang.js\n"));

/***/ })

}]);